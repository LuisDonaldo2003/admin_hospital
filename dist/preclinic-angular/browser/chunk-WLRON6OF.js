import{a as v}from"./chunk-R5V7OCQ6.js";import{a as l}from"./chunk-TT54WPXH.js";import{Ia as f,Ja as a,Kc as g,Lc as b,Nc as c,T as m,U as i,W as s,Za as u,wc as h}from"./chunk-OEIFJYKX.js";import"./chunk-6DGDWVBL.js";var C=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=f({type:e,selectors:[["app-dashboard"]],standalone:!1,decls:1,vars:0,template:function(o,p){o&1&&u(0,"router-outlet")},dependencies:[g],encapsulation:2});let t=e;return t})();var n=(()=>{let e=class e{constructor(r,o){this.router=r,this.roleConfigService=o}canActivate(r){let o=JSON.parse(localStorage.getItem("user")||"null");if(!o)return this.router.parseUrl(l.login);let p=o.roles||[],w=r.data?.allowedRoles||[];return this.roleConfigService.canAccessRoute(p,w)?!0:(console.log("\u{1F6AB} Acceso denegado. Redirigiendo al perfil para ver opciones disponibles"),this.router.parseUrl(l.profile))}};e.\u0275fac=function(o){return new(o||e)(s(b),s(v))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var M=[{path:"",component:C,children:[{path:"",redirectTo:"admin-dashboard",pathMatch:"full"},{path:"admin-dashboard",canActivate:[n],data:{allowedRoles:["director general","subdirector general","recursos humanos","pruebas"]},loadChildren:()=>import("./chunk-EMEUKNMF.js").then(t=>t.AdminDashboardModule)},{path:"doctor-dashboard",canActivate:[n],data:{allowedRoles:["doctor","director general","subdirector general"]},loadChildren:()=>import("./chunk-Q6ZPM2PJ.js").then(t=>t.DoctorDashboardModule)},{path:"patient-dashboard",canActivate:[n],data:{allowedRoles:["patient","paciente","director general","subdirector general"]},loadChildren:()=>import("./chunk-7TL6DTHZ.js").then(t=>t.PatientDashboardModule)}]}],R=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=a({type:e}),e.\u0275inj=i({imports:[c.forChild(M),c]});let t=e;return t})();var J=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=a({type:e}),e.\u0275inj=i({imports:[h,R]});let t=e;return t})();export{J as DashboardModule};
