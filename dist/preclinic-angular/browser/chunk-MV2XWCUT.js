import{a as g}from"./chunk-ZEONKIBX.js";import{a}from"./chunk-HPADJYSB.js";import{Ac as d,Bc as o,U as p,X as c}from"./chunk-WGJYFDRX.js";var H=(()=>{let r=class r{constructor(e,t){this.http=e,this.authService=t}getHeaders(){return new d({Authorization:"Bearer "+this.authService.token})}listArchives(){let e=`${a}/archives`;return this.http.get(e,{headers:this.getHeaders()})}listArchivesWithFilters(e,t,s){let i=new URLSearchParams;if(e.archiveNumberSearch?.trim()&&i.append("archive_number",e.archiveNumberSearch.trim()),e.nameSearch?.trim()&&i.append("name",e.nameSearch.trim()),e.selectedGender&&i.append("gender_id",e.selectedGender),e.stateTextFilter?.trim()&&i.append("state_text",e.stateTextFilter.trim()),e.municipalityTextFilter?.trim()&&i.append("municipality_text",e.municipalityTextFilter.trim()),e.locationTextFilter?.trim()&&i.append("location_text",e.locationTextFilter.trim()),e.dateFilterType)switch(i.append("date_filter_type",e.dateFilterType),e.dateFilterType){case"year":e.specificYear&&i.append("filter_year",e.specificYear);break;case"month":e.specificYear&&e.specificMonth?(i.append("filter_year",e.specificYear),i.append("filter_month",e.specificMonth)):e.specificMonth&&i.append("filter_month",e.specificMonth);break;case"day":e.specificYear&&e.specificMonth&&e.specificDay&&(i.append("filter_year",e.specificYear),i.append("filter_month",e.specificMonth),i.append("filter_day",e.specificDay.toString().padStart(2,"0")));break;case"range":e.dateFrom&&i.append("date_from",e.dateFrom),e.dateTo&&i.append("date_to",e.dateTo);break}i.append("skip",t.toString()),i.append("limit",s.toString()),i.append("case_insensitive","true");let n=`${a}/archives?${i.toString()}`;return this.http.get(n,{headers:this.getHeaders()})}searchArchivesGlobal(e,t,s){let i=new URLSearchParams;e?.trim()&&i.append("global_search",e.trim()),i.append("skip",t.toString()),i.append("limit",s.toString());let n=`${a}/archives/search?${i.toString()}`;return this.http.get(n,{headers:this.getHeaders()})}listArchivesPaginated(e,t){let s=`${a}/archives?skip=${e}&limit=${t}`;return this.http.get(s,{headers:this.getHeaders()})}getAllArchives(){let e=`${a}/archives?all=true`;return this.http.get(e,{headers:this.getHeaders()})}showArchive(e){let t=`${a}/archives/${e}`;return this.http.get(t,{headers:this.getHeaders()})}registerArchive(e){let t=`${a}/archives`;return this.http.post(t,e,{headers:this.getHeaders()})}updateArchive(e,t){let s=`${a}/archives/${e}`;return this.http.put(s,t,{headers:this.getHeaders()})}deleteArchive(e){let t=`${a}/archives/${e}`;return this.http.delete(t,{headers:this.getHeaders()})}listConfig(){let e=`${a}/archives/config`;return this.http.get(e,{headers:this.getHeaders()})}listGenders(){let e=`${a}/genders`;return this.http.get(e,{headers:this.getHeaders()})}listStates(){let e=`${a}/states`;return this.http.get(e,{headers:this.getHeaders()})}listMunicipalities(e){let t=`${a}/municipalities`;return e&&(t+=`?state_id=${e}`),this.http.get(t,{headers:this.getHeaders()})}listLocations(e){let t=`${a}/locations`;return e&&(t+=`?municipality_id=${e}`),this.http.get(t,{headers:this.getHeaders()})}getArchiveStats(){let e=`${a}/archives/stats`;return this.http.get(e,{headers:this.getHeaders()})}uploadBackup(e){let t=`${a}/archives/backup/upload`;return this.http.post(t,e,{headers:this.getHeaders()})}listBackups(){let e=`${a}/archives/backup/list`;return this.http.get(e,{headers:this.getHeaders()})}downloadBackup(e){let t=`${a}/archives/backup/download/${e}`;return this.http.get(t,{headers:this.getHeaders(),responseType:"blob"})}};r.\u0275fac=function(t){return new(t||r)(c(o),c(g))},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let h=r;return h})();export{H as a};
