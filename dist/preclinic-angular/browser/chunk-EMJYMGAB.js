import{a as t}from"./chunk-JB324THB.js";import{Dc as u,T as n,W as c}from"./chunk-VPSRVESD.js";var g=(()=>{class o{constructor(s){this.router=s}canActivate(s){let a=JSON.parse(localStorage.getItem("user")||"null");if(!a)return this.router.parseUrl(t.login);let e=(a.roles||[]).map(r=>typeof r=="string"?r:r?.name||"").filter(Boolean).map(r=>r.trim().toLowerCase()),l=["director general","subdirector general","developer"];if(e.some(r=>l.includes(r)))return!0;let i=(s.data?.allowedRoles||[]).map(r=>r.toLowerCase());return!i.length||e.some(r=>i.includes(r))?!0:e.includes("archivo")||e.includes("archive")?this.router.parseUrl(t.archiveDashboard):e.includes("doctor")?this.router.parseUrl(t.doctorDashboard):e.includes("patient")||e.includes("paciente")?this.router.parseUrl(t.patientDashboard):this.router.parseUrl(t.adminDashboard)}static{this.\u0275fac=function(a){return new(a||o)(c(u))}}static{this.\u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{g as a};
