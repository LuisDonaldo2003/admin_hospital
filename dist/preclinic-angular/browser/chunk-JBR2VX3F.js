import{a as o}from"./chunk-THDOXVUY.js";import{a as r}from"./chunk-HPADJYSB.js";import{T as n,W as c,tc as p,uc as d}from"./chunk-6GTM3F5E.js";var $=(()=>{class s{constructor(e,t){this.http=e,this.authService=t}getHeaders(){return new p({Authorization:"Bearer "+this.authService.token})}listArchives(){let e=`${r}/archives`;return this.http.get(e,{headers:this.getHeaders()})}listArchivesWithFilters(e,t,a){let i=new URLSearchParams;if(e.archiveNumberSearch?.trim()&&i.append("archive_number",e.archiveNumberSearch.trim()),e.nameSearch?.trim()&&i.append("name",e.nameSearch.trim()),e.selectedGender&&i.append("gender_id",e.selectedGender),e.stateTextFilter?.trim()&&i.append("state_text",e.stateTextFilter.trim()),e.municipalityTextFilter?.trim()&&i.append("municipality_text",e.municipalityTextFilter.trim()),e.locationTextFilter?.trim()&&i.append("location_text",e.locationTextFilter.trim()),e.dateFilterType)switch(i.append("date_filter_type",e.dateFilterType),e.dateFilterType){case"year":e.specificYear&&i.append("filter_year",e.specificYear);break;case"month":e.specificYear&&e.specificMonth?(i.append("filter_year",e.specificYear),i.append("filter_month",e.specificMonth)):e.specificMonth&&i.append("filter_month",e.specificMonth);break;case"day":e.specificYear&&e.specificMonth&&e.specificDay&&(i.append("filter_year",e.specificYear),i.append("filter_month",e.specificMonth),i.append("filter_day",e.specificDay.toString().padStart(2,"0")));break;case"range":e.dateFrom&&i.append("date_from",e.dateFrom),e.dateTo&&i.append("date_to",e.dateTo);break}i.append("skip",t.toString()),i.append("limit",a.toString()),i.append("case_insensitive","true");let h=`${r}/archives?${i.toString()}`;return this.http.get(h,{headers:this.getHeaders()})}searchArchivesGlobal(e,t,a){let i=new URLSearchParams;e?.trim()&&i.append("global_search",e.trim()),i.append("skip",t.toString()),i.append("limit",a.toString());let h=`${r}/archives/search?${i.toString()}`;return this.http.get(h,{headers:this.getHeaders()})}listArchivesPaginated(e,t){let a=`${r}/archives?skip=${e}&limit=${t}`;return this.http.get(a,{headers:this.getHeaders()})}getAllArchives(){let e=`${r}/archives?all=true`;return this.http.get(e,{headers:this.getHeaders()})}showArchive(e){let t=`${r}/archives/${e}`;return this.http.get(t,{headers:this.getHeaders()})}registerArchive(e){let t=`${r}/archives`;return this.http.post(t,e,{headers:this.getHeaders()})}updateArchive(e,t){let a=`${r}/archives/${e}`;return this.http.put(a,t,{headers:this.getHeaders()})}deleteArchive(e){let t=`${r}/archives/${e}`;return this.http.delete(t,{headers:this.getHeaders()})}listConfig(){let e=`${r}/archives/config`;return this.http.get(e,{headers:this.getHeaders()})}listGenders(){let e=`${r}/genders`;return this.http.get(e,{headers:this.getHeaders()})}listStates(){let e=`${r}/states`;return this.http.get(e,{headers:this.getHeaders()})}listMunicipalities(e){let t=`${r}/municipalities`;return e&&(t+=`?state_id=${e}`),this.http.get(t,{headers:this.getHeaders()})}listLocations(e){let t=`${r}/locations`;return e&&(t+=`?municipality_id=${e}`),this.http.get(t,{headers:this.getHeaders()})}getArchiveStats(){let e=`${r}/archives/stats`;return this.http.get(e,{headers:this.getHeaders()})}uploadBackup(e){let t=`${r}/archives/backup/upload`;return this.http.post(t,e,{headers:this.getHeaders()})}listBackups(){let e=`${r}/archives/backup/list`;return this.http.get(e,{headers:this.getHeaders()})}downloadBackup(e){let t=`${r}/archives/backup/download/${e}`;return this.http.get(t,{headers:this.getHeaders(),responseType:"blob"})}static{this.\u0275fac=function(t){return new(t||s)(c(d),c(o))}}static{this.\u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{$ as a};
