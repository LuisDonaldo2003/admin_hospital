import{a as d}from"./chunk-OEY3IFP3.js";import{a as i}from"./chunk-VOEI7TUP.js";import{T as n,W as h,sc as p,tc as o}from"./chunk-VPSRVESD.js";var $=(()=>{class s{constructor(e,t){this.http=e,this.authService=t}getHeaders(){return new p({Authorization:"Bearer "+this.authService.token})}listArchives(){let e=`${i}/archives`;return this.http.get(e,{headers:this.getHeaders()})}listArchivesWithFilters(e,t,r){let a=new URLSearchParams;if(e.archiveNumberSearch?.trim()&&a.append("archive_number",e.archiveNumberSearch.trim()),e.nameSearch?.trim()&&a.append("name",e.nameSearch.trim()),e.selectedGender&&a.append("gender_id",e.selectedGender),e.selectedState&&a.append("state_id",e.selectedState),e.selectedMunicipality&&a.append("municipality_id",e.selectedMunicipality),e.selectedLocation&&a.append("location_id",e.selectedLocation),e.dateFilterType)switch(a.append("date_filter_type",e.dateFilterType),e.dateFilterType){case"year":e.specificYear&&a.append("filter_year",e.specificYear);break;case"month":e.specificYear&&e.specificMonth?(a.append("filter_year",e.specificYear),a.append("filter_month",e.specificMonth)):e.specificMonth&&a.append("filter_month",e.specificMonth);break;case"day":e.specificYear&&e.specificMonth&&e.specificDay&&(a.append("filter_year",e.specificYear),a.append("filter_month",e.specificMonth),a.append("filter_day",e.specificDay.toString().padStart(2,"0")));break;case"range":e.dateFrom&&a.append("date_from",e.dateFrom),e.dateTo&&a.append("date_to",e.dateTo);break}a.append("skip",t.toString()),a.append("limit",r.toString());let c=`${i}/archives?${a.toString()}`;return this.http.get(c,{headers:this.getHeaders()})}searchArchivesGlobal(e,t,r){let a=new URLSearchParams;e?.trim()&&a.append("global_search",e.trim()),a.append("skip",t.toString()),a.append("limit",r.toString());let c=`${i}/archives/search?${a.toString()}`;return this.http.get(c,{headers:this.getHeaders()})}listArchivesPaginated(e,t){let r=`${i}/archives?skip=${e}&limit=${t}`;return this.http.get(r,{headers:this.getHeaders()})}getAllArchives(){let e=`${i}/archives?all=true`;return this.http.get(e,{headers:this.getHeaders()})}showArchive(e){let t=`${i}/archives/${e}`;return this.http.get(t,{headers:this.getHeaders()})}registerArchive(e){let t=`${i}/archives`;return this.http.post(t,e,{headers:this.getHeaders()})}updateArchive(e,t){let r=`${i}/archives/${e}`;return this.http.put(r,t,{headers:this.getHeaders()})}deleteArchive(e){let t=`${i}/archives/${e}`;return this.http.delete(t,{headers:this.getHeaders()})}listConfig(){let e=`${i}/archives/config`;return this.http.get(e,{headers:this.getHeaders()})}listGenders(){let e=`${i}/genders`;return this.http.get(e,{headers:this.getHeaders()})}listStates(){let e=`${i}/states`;return this.http.get(e,{headers:this.getHeaders()})}listMunicipalities(e){let t=`${i}/municipalities?state_id=${e}`;return this.http.get(t,{headers:this.getHeaders()})}listLocations(e){let t=`${i}/locations?municipality_id=${e}`;return this.http.get(t,{headers:this.getHeaders()})}searchLocationsByName(e){let t=`${i}/locations/search?search=${encodeURIComponent(e)}`;return this.http.get(t,{headers:this.getHeaders()})}autoDetectLocation(e){let t=`${i}/locations/auto-detect?search=${encodeURIComponent(e)}`;return this.http.get(t,{headers:this.getHeaders()})}getArchiveStats(){let e=`${i}/archives/stats`;return this.http.get(e,{headers:this.getHeaders()})}uploadBackup(e){let t=`${i}/archives/backup/upload`;return this.http.post(t,e,{headers:this.getHeaders()})}listBackups(){let e=`${i}/archives/backup/list`;return this.http.get(e,{headers:this.getHeaders()})}downloadBackup(e){let t=`${i}/archives/backup/download/${e}`;return this.http.get(t,{headers:this.getHeaders(),responseType:"blob"})}static{this.\u0275fac=function(t){return new(t||s)(h(o),h(d))}}static{this.\u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{$ as a};
