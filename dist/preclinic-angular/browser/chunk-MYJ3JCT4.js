import{b as Pe}from"./chunk-27HPB7AC.js";import{a as te,b as ue}from"./chunk-CQ5LJIUL.js";import{a as F}from"./chunk-HPADJYSB.js";import{C as H,c as j,g as Y,l as W}from"./chunk-DTC4IFB3.js";import{a as ne}from"./chunk-SBOQTXJJ.js";import{b as z,c as $,d as G}from"./chunk-MF2XLGI5.js";import{a as ie}from"./chunk-6BXYJPV5.js";import{$ as M,Ab as de,Ac as N,Bc as _e,Cb as L,Db as B,Ea as S,Eb as T,Gc as Ce,Hc as fe,Ia as R,Ic as Oe,Ja as le,Jc as ee,Kb as me,Kc as y,Na as u,Pb as p,Qa as Q,Qb as _,Rb as pe,U as Z,V as se,Va as d,Wa as a,X as A,Xa as c,Y as K,Ya as m,_ as b,ab as x,bb as k,db as h,fb as P,gb as g,jc as D,kc as U,sb as I,sc as ge,ub as l,uc as V,vb as v,wa as i,wb as f}from"./chunk-3OUND5E5.js";import{a as ae,b as ce}from"./chunk-6DGDWVBL.js";var be=(()=>{let s=class s{};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=R({type:s,selectors:[["app-roles"]],decls:1,vars:0,template:function(n,o){n&1&&m(0,"router-outlet")},dependencies:[y,fe],encapsulation:2});let r=s;return r})();var X=(()=>{let s=class s{constructor(e,n){this.http=e,this.authService=n}listRoles(){let e=new N({Authorization:"Bearer "+this.authService.token}),n=F+"/roles";return this.http.get(n,{headers:e})}showRoles(e){let n=new N({Authorization:"Bearer "+this.authService.token}),o=F+"/roles/"+e;return this.http.get(o,{headers:n})}storeRoles(e){let n=new N({Authorization:"Bearer "+this.authService.token}),o=F+"/roles";return this.http.post(o,e,{headers:n})}editRoles(e,n){let o=new N({Authorization:"Bearer "+this.authService.token}),C=F+"/roles/"+n;return this.http.put(C,e,{headers:o})}deleteRoles(e){let n=new N({Authorization:"Bearer "+this.authService.token}),o=F+"/roles/"+e;return this.http.delete(o,{headers:n})}};s.\u0275fac=function(n){return new(n||s)(A(_e),A(ue))},s.\u0275prov=Z({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})();function ye(r,s){if(r&1){let t=h();a(0,"button",56),P("click",function(){b(t);let n=g();return M(n.permission=[])}),m(1,"i",57),l(2," Limpiar todo "),c()}}function Re(r,s){if(r&1){let t=h();a(0,"button",58),P("click",function(){b(t);let n=g();return M(n.searchText="")}),m(1,"i",59),c()}}function Ie(r,s){if(r&1){let t=h();a(0,"li",42)(1,"button",43),P("click",function(){let n=b(t).$implicit,o=g();return M(o.setActiveTab(n))}),l(2),p(3,"translate"),c()()}if(r&2){let t=s.$implicit,e=g();i(),I("active",e.activeTab===t),i(),f(" ",_(3,3,"SIDEBAR."+t+".TITLE")," ")}}function Le(r,s){if(r&1){let t=h();a(0,"div",65)(1,"input",77),P("change",function(){let n=b(t).$implicit,o=g(5);return M(o.addPermission(n))}),c(),a(2,"label",78),l(3),p(4,"translate"),c()()}if(r&2){let t=s.$implicit,e=g(2).$implicit,n=g(3);i(),d("checked",n.isPermissionSelected(t.permision))("id",t.menuValue),i(),d("for",t.menuValue),i(),f(" ",_(4,4,"SIDEBAR."+n.cleanGroup(e.group)+"."+e.menuValue+"."+t.menuValue)," ")}}function Be(r,s){if(r&1&&(a(0,"div",73)(1,"div",74),l(2),p(3,"translate"),c(),a(4,"div",75),u(5,Le,5,6,"div",76),c()()),r&2){let t=g().$implicit,e=g(3);i(2),f(" ",_(3,2,"SIDEBAR."+e.cleanGroup(t.group)+"."+t.menuValue+".TITLE")," "),i(3),d("ngForOf",t.subMenus)}}function Te(r,s){if(r&1){let t=h();a(0,"div",79)(1,"input",77),P("change",function(){b(t);let n=g().$implicit,o=g(3);return M(o.addPermission(n))}),c(),a(2,"label",80),l(3),p(4,"translate"),c()()}if(r&2){let t=g().$implicit,e=g(3);i(),d("checked",e.isPermissionSelected(t.permision))("id",t.menuValue),i(),d("for",t.menuValue),i(),f(" ",_(4,4,"SIDEBAR."+e.cleanGroup(t.group)+"."+t.menuValue+".TITLE")," ")}}function Ae(r,s){if(r&1&&(x(0),u(1,Be,6,4,"div",71)(2,Te,5,6,"div",72),k()),r&2){let t=s.$implicit;i(),d("ngIf",t.subMenus&&t.subMenus.length>0),i(),d("ngIf",!t.subMenus||t.subMenus.length===0)}}function De(r,s){if(r&1){let t=h();a(0,"div",62)(1,"div",63)(2,"div",64)(3,"div",65)(4,"input",66),P("change",function(n){let o=b(t).$implicit,C=g(2);return M(C.toggleCategoryPermissions(o,n))}),c(),a(5,"label",67),m(6,"i",68),l(7),p(8,"translate"),c()()(),a(9,"div",69),u(10,Ae,3,2,"ng-container",70),c()()()}if(r&2){let t=s.$implicit,e=g(2);i(4),d("id","category-"+t)("checked",e.isCategoryFullySelected(t)),i(),d("for","category-"+t),i(2),f(" ",_(8,5,"SIDEBAR."+t+".TITLE")," "),i(3),d("ngForOf",e.getFilteredPermissions(t))}}function Ue(r,s){if(r&1&&(a(0,"div",60)(1,"div",17),u(2,De,11,7,"div",61),c()()),r&2){let t=g();i(2),d("ngForOf",t.getCategories())}}function Ve(r,s){if(r&1){let t=h();a(0,"div",65)(1,"input",77),P("change",function(){let n=b(t).$implicit,o=g(4);return M(o.addPermission(n))}),c(),a(2,"label",78),l(3),p(4,"translate"),c()()}if(r&2){let t=s.$implicit,e=g(2).$implicit,n=g(2);i(),d("checked",n.isPermissionSelected(t.permision))("id",t.menuValue+"-detail"),i(),d("for",t.menuValue+"-detail"),i(),f(" ",_(4,4,"SIDEBAR."+n.cleanGroup(e.group)+"."+e.menuValue+"."+t.menuValue)," ")}}function Ne(r,s){if(r&1&&(a(0,"div")(1,"div",88),m(2,"i",89),l(3),p(4,"translate"),c(),a(5,"div",90),u(6,Ve,5,6,"div",76),c()()),r&2){let t=g().$implicit,e=g(2);i(3),f(" ",_(4,2,"SIDEBAR."+e.cleanGroup(t.group)+"."+t.menuValue+".TITLE")," "),i(3),d("ngForOf",t.subMenus)}}function Fe(r,s){if(r&1){let t=h();a(0,"div")(1,"div",65)(2,"input",77),P("change",function(){b(t);let n=g().$implicit,o=g(2);return M(o.addPermission(n))}),c(),a(3,"label",80),m(4,"i",89),l(5),p(6,"translate"),c()()()}if(r&2){let t=g().$implicit,e=g(2);i(2),d("checked",e.isPermissionSelected(t.permision))("id",t.menuValue+"-detail"),i(),d("for",t.menuValue+"-detail"),i(2),f(" ",_(6,4,"SIDEBAR."+e.cleanGroup(t.group)+"."+t.menuValue+".TITLE")," ")}}function ze(r,s){if(r&1&&(a(0,"div",62)(1,"div",86),u(2,Ne,7,4,"div",87)(3,Fe,7,6,"div",87),c()()),r&2){let t=s.$implicit;i(2),d("ngIf",t.subMenus&&t.subMenus.length>0),i(),d("ngIf",!t.subMenus||t.subMenus.length===0)}}function $e(r,s){if(r&1){let t=h();a(0,"div",81)(1,"div",82)(2,"div",83)(3,"div",65)(4,"input",66),P("change",function(n){b(t);let o=g();return M(o.toggleCategoryPermissions(o.activeTab,n))}),c(),a(5,"label",84),m(6,"i",85),l(7," Seleccionar todos los permisos de esta categor\xEDa "),c()()(),a(8,"div",17),u(9,ze,4,2,"div",61),c()()()}if(r&2){let t=g();i(4),d("id","select-all-"+t.activeTab)("checked",t.isCategoryFullySelected(t.activeTab)),i(),d("for","select-all-"+t.activeTab),i(4),d("ngForOf",t.getFilteredPermissions(t.activeTab))}}function Ge(r,s){if(r&1&&(a(0,"div",91),m(1,"i",92),a(2,"p",93),l(3),c()()),r&2){let t=g();i(3),f('No se encontraron permisos que coincidan con "',t.searchText,'"')}}function je(r,s){r&1&&(a(0,"div",94)(1,"div",95),m(2,"i",96),a(3,"strong"),l(4),p(5,"translate"),c(),l(6),p(7,"translate"),m(8,"button",97),c()()),r&2&&(i(4),f("",_(5,2,"ROLES.ADD_ROLE.ERROR"),":"),i(2),f(" ",_(7,4,"ROLES.ADD_ROLE.ALERT1")," "))}function Ye(r,s){r&1&&(a(0,"div",94)(1,"div",98),m(2,"i",25),a(3,"strong"),l(4),p(5,"translate"),c(),l(6),p(7,"translate"),m(8,"button",97),c()()),r&2&&(i(4),f("",_(5,2,"ROLES.ADD_ROLE.GREAT"),":"),i(2),f(" ",_(7,4,"ROLES.ADD_ROLE.GREAT_ROLE")," "))}function We(r,s){if(r&1&&(a(0,"div",94)(1,"div",99),m(2,"i",100),a(3,"strong"),l(4),p(5,"translate"),c(),l(6),m(7,"button",97),c()()),r&2){let t=g();i(4),f("",_(5,2,"ROLES.ADD_ROLE.ATTENTION"),":"),i(2),f(" ",t.text_validation," ")}}var ke=(()=>{let s=class s{cleanGroup(e){return e.replace(/^GRUPO_/,"")}constructor(e,n,o){this.DataService=e,this.RoleService=n,this.translate=o,this.sideBar=[],this.name="",this.permission=[],this.valid_form=!1,this.valid_form_succes=!1,this.text_validation=null,this.activeTab="all",this.searchText="",this.groupedPermissions={},this.selectedLang=localStorage.getItem("language")||"en",this.translate.use(this.selectedLang)}getRoleLabel(e){let n=e.match(/^(SIDEBAR_\w+?)(\d+)$/);if(n){let O=n[1],E=n[2],J=this.translate.instant(O);if(J!==O)return`${J} ${E}`;let w=O.replace(/^SIDEBAR_/,"").replace(/_/g," ");return w=w.charAt(0).toUpperCase()+w.slice(1).toLowerCase(),`${w} ${E}`}let o=this.translate.instant(e);if(o!==e)return o;let C=e.replace(/^SIDEBAR_/,"").replace(/_/g," ");return C=C.charAt(0).toUpperCase()+C.slice(1).toLowerCase(),C}ngOnInit(){this.DataService.sideBar&&this.DataService.sideBar.length>0&&(this.sideBar=this.DataService.sideBar[0].menu,this.groupPermissionsByCategory())}groupPermissionsByCategory(){this.groupedPermissions={},this.sideBar.forEach(e=>{let n=this.cleanGroup(e.group);this.groupedPermissions[n]||(this.groupedPermissions[n]=[]),this.groupedPermissions[n].push(e)})}getCategories(){return Object.keys(this.groupedPermissions)}getFilteredPermissions(e){let n=e?this.groupedPermissions[e]:this.sideBar;if(!this.searchText)return n;let o=this.searchText.toLowerCase();return n.filter(C=>{let O=`SIDEBAR.${this.cleanGroup(C.group)}.${C.menuValue}.TITLE`;return this.translate.instant(O).toLowerCase().includes(o)||C.menuValue.toLowerCase().includes(o)})}setActiveTab(e){this.activeTab=e}toggleCategoryPermissions(e,n){let o=this.groupedPermissions[e],C=n.target.checked;o.forEach(O=>{O.subMenus&&O.subMenus.length>0?O.subMenus.forEach(E=>{this.setPermission(E,C)}):this.setPermission(O,C)})}setPermission(e,n){if(!e.permision)return;let o=this.permission.indexOf(e.permision);n&&o===-1?this.permission.push(e.permision):!n&&o!==-1&&this.permission.splice(o,1)}isCategoryFullySelected(e){let n=this.groupedPermissions[e],o=!0;return n.forEach(C=>{C.subMenus&&C.subMenus.length>0?C.subMenus.forEach(O=>{this.permission.includes(O.permision)||(o=!1)}):this.permission.includes(C.permision)||(o=!1)}),o}isPermissionSelected(e){return this.permission.includes(e)}toggleLanguage(){this.selectedLang=this.selectedLang==="es"?"en":"es",this.translate.use(this.selectedLang),localStorage.setItem("language",this.selectedLang)}addPermission(e){if(e.permision){let n=this.permission.findIndex(o=>o===e.permision);n!==-1?this.permission.splice(n,1):this.permission.push(e.permision)}}save(e){if(this.valid_form=!1,e.preventDefault(),!this.name||this.permission.length===0){this.valid_form=!0;return}let n={name:this.name,permissions:this.permission};this.valid_form_succes=!1,this.text_validation=null,this.RoleService.storeRoles(n).subscribe({next:o=>{if(o.message==403)this.text_validation=o.message_text;else{this.name="",this.permission=[],this.valid_form_succes=!0;let C=this.sideBar;this.sideBar=[],setTimeout(()=>{this.sideBar=C},50)}},error:o=>{console.error("Error al crear rol:",o),o.status===403?this.text_validation=o.error?.message_text||"EL NOMBRE DEL ROL YA EXISTE":o.status===422?this.text_validation=o.error?.message||"Datos de entrada inv\xE1lidos":o.status===500?this.text_validation="Error interno del servidor. Intenta nuevamente.":this.text_validation="Error al crear el rol. Verifica tu conexi\xF3n e intenta nuevamente."}})}};s.\u0275fac=function(n){return new(n||s)(S(ne),S(X),S(z))},s.\u0275cmp=R({type:s,selectors:[["app-add-role-user"]],decls:78,vars:35,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header","mb-4"],[1,"row"],[1,"col"],["aria-label","breadcrumb"],[1,"breadcrumb","bg-light","p-2","rounded"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","justify-content-center"],[1,"col-12"],[1,"card","shadow-sm","border-0"],[1,"card-body","p-4"],[1,"role-header","mb-4"],[1,"card-title","mb-4"],[1,"fas","fa-user-shield","me-2"],[1,"row","g-3"],[1,"col-md-6"],["for","roleName",1,"form-label","fw-semibold"],[1,"fas","fa-tag","me-2"],["type","text","id","roleName","name","name",1,"form-control","form-control-lg",3,"ngModelChange","ngModel","placeholder"],[1,"col-md-6","d-flex","align-items-end"],[1,"permissions-counter","w-100"],[1,"alert","alert-info","mb-0","d-flex","align-items-center","justify-content-between"],[1,"fas","fa-check-circle","me-2"],[1,"badge","bg-primary","fs-6","ms-2"],["type","button","class","btn btn-sm btn-outline-danger",3,"click",4,"ngIf"],[1,"my-4"],[1,"permissions-section"],[1,"mb-3"],[1,"fas","fa-key","me-2"],[1,"permissions-toolbar","mb-3"],[1,"row","g-2","align-items-center"],[1,"col-md-4"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Buscar permisos...",1,"form-control",3,"ngModelChange","ngModel"],["class","btn btn-outline-secondary","type","button",3,"click",4,"ngIf"],[1,"col-md-8"],["role","tablist",1,"nav","nav-pills","category-tabs","flex-wrap"],["role","presentation",1,"nav-item"],["type","button",1,"nav-link",3,"click"],[1,"fas","fa-th-large","me-1"],["class","nav-item","role","presentation",4,"ngFor","ngForOf"],[1,"permissions-content"],["class","all-permissions-view",4,"ngIf"],["class","category-permissions-view",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap","gap-2"],["routerLink","/roles/list",1,"btn","btn-outline-secondary"],[1,"fas","fa-arrow-left","me-2"],[1,"btn","btn-primary","btn-lg",3,"click"],[1,"fas","fa-save","me-2"],["class","mt-3",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-times","me-1"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"all-permissions-view"],["class","col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-4"],[1,"category-card"],[1,"category-header"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","checked"],[1,"form-check-label","fw-bold",3,"for"],[1,"fas","fa-folder","me-2"],[1,"category-permissions"],[4,"ngFor","ngForOf"],["class","permission-group mb-2",4,"ngIf"],["class","form-check mb-2",4,"ngIf"],[1,"permission-group","mb-2"],[1,"permission-group-title"],[1,"permission-items"],["class","form-check",4,"ngFor","ngForOf"],["type","checkbox",1,"form-check-input",3,"change","checked","id"],[1,"form-check-label",3,"for"],[1,"form-check","mb-2"],[1,"form-check-label","fw-semibold",3,"for"],[1,"category-permissions-view"],[1,"category-card","large"],[1,"category-header","mb-3"],[1,"form-check-label","fw-bold","fs-5",3,"for"],[1,"fas","fa-check-double","me-2"],[1,"permission-card"],[4,"ngIf"],[1,"permission-card-title"],[1,"fas","fa-cog","me-2"],[1,"permission-card-items"],[1,"text-center","py-5"],[1,"fas","fa-search","fa-3x","text-muted","mb-3"],[1,"text-muted"],[1,"mt-3"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-circle","me-2"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"ol",6)(7,"li",7)(8,"a",8),l(9),p(10,"translate"),c()(),a(11,"li",9),l(12),p(13,"translate"),c()()()()()(),a(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"h4",15),m(20,"i",16),l(21),p(22,"translate"),c(),a(23,"div",17)(24,"div",18)(25,"label",19),m(26,"i",20),l(27),p(28,"translate"),c(),a(29,"input",21),p(30,"translate"),T("ngModelChange",function(O){return B(o.name,O)||(o.name=O),O}),c()(),a(31,"div",22)(32,"div",23)(33,"div",24)(34,"div"),m(35,"i",25),a(36,"strong"),l(37,"Permisos seleccionados:"),c(),a(38,"span",26),l(39),c()(),u(40,ye,3,0,"button",27),c()()()()(),m(41,"hr",28),a(42,"div",29)(43,"h5",30),m(44,"i",31),l(45),p(46,"translate"),c(),a(47,"div",32)(48,"div",33)(49,"div",34)(50,"div",35)(51,"span",36),m(52,"i",37),c(),a(53,"input",38),T("ngModelChange",function(O){return B(o.searchText,O)||(o.searchText=O),O}),c(),u(54,Re,2,0,"button",39),c()(),a(55,"div",40)(56,"ul",41)(57,"li",42)(58,"button",43),P("click",function(){return o.setActiveTab("all")}),m(59,"i",44),l(60," Todos "),c()(),u(61,Ie,4,5,"li",45),c()()()(),a(62,"div",46),u(63,Ue,3,1,"div",47)(64,$e,10,4,"div",48)(65,Ge,4,1,"div",49),c()(),m(66,"hr",28),a(67,"div",50)(68,"a",51),m(69,"i",52),l(70," Cancelar "),c(),a(71,"button",53),P("click",function(O){return o.save(O)}),m(72,"i",54),l(73),p(74,"translate"),c()(),u(75,je,9,6,"div",55)(76,Ye,9,6,"div",55)(77,We,8,4,"div",55),c()()()()()()),n&2&&(i(9),f("",_(10,21,"ROLES.ADD_ROLE.BREADCRUMB_ROLES")," >"),i(3),f(" ",_(13,23,"ROLES.ADD_ROLE.BREADCRUMB_REGISTER_ROLE")," "),i(9),f(" ",_(22,25,"ROLES.ADD_ROLE.CREATE_ROLE")," "),i(6),f(" ",_(28,27,"ROLES.ADD_ROLE.NAME")," "),i(2),L("ngModel",o.name),d("placeholder",_(30,29,"ROLES.ADD_ROLE.PLACEHOLDER_NAME")),i(10),v(o.permission.length),i(),d("ngIf",o.permission.length>0),i(5),f(" ",_(46,31,"ROLES.ADD_ROLE.ASIGNATION")," "),i(8),L("ngModel",o.searchText),i(),d("ngIf",o.searchText),i(4),I("active",o.activeTab==="all"),i(3),d("ngForOf",o.getCategories()),i(2),d("ngIf",o.activeTab==="all"),i(),d("ngIf",o.activeTab!=="all"),i(),d("ngIf",o.searchText&&o.getFilteredPermissions(o.activeTab!=="all"?o.activeTab:void 0).length===0),i(8),f(" ",_(74,33,"ROLES.ADD_ROLE.SAVE")," "),i(2),d("ngIf",o.valid_form),i(),d("ngIf",o.valid_form_succes),i(),d("ngIf",o.text_validation))},dependencies:[V,D,U,H,j,Y,W,y,ee,G,$],styles:["[_nghost-%COMP%]{display:block}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:1rem;border:4px solid var(--user-border-color, #0B7285)!important;background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;box-shadow:0 6px 20px #00000014;transition:background-color .2s ease,color .2s ease,border-color .2s ease,box-shadow .2s ease,transform .12s ease}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 24px #0000001f}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.form-control[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%], select.form-select[_ngcontent-%COMP%], textarea.form-control[_ngcontent-%COMP%]{border-radius:.6rem;padding:.6rem .9rem;border:1px solid rgba(0,0,0,.18);background-color:#fff;color:#111827;transition:border-color .15s ease,box-shadow .15s ease,background-color .15s ease,color .15s ease}.form-control[_ngcontent-%COMP%]::placeholder, select.form-control[_ngcontent-%COMP%]::placeholder, select.form-select[_ngcontent-%COMP%]::placeholder, textarea.form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af;opacity:1}.form-control[_ngcontent-%COMP%]:focus, select.form-control[_ngcontent-%COMP%]:focus, select.form-select[_ngcontent-%COMP%]:focus, textarea.form-control[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285);outline:none;box-shadow:0 0 0 3px color-mix(in srgb,var(--user-border-color, #0B7285) 25%,transparent)}.form-control.is-invalid[_ngcontent-%COMP%], select.form-control.is-invalid[_ngcontent-%COMP%], select.form-select.is-invalid[_ngcontent-%COMP%], textarea.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545!important;background-color:#fff5f5!important}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{accent-color:var(--user-border-color, #0B7285);cursor:pointer}.btn[_ngcontent-%COMP%]{font-weight:600;padding:.55rem 1.2rem;border-radius:.6rem;transition:all .15s ease}.btn-primary[_ngcontent-%COMP%]{background-color:var(--user-border-color, #0B7285);border-color:var(--user-border-color, #0B7285);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{filter:brightness(.95);transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.btn-primary[_ngcontent-%COMP%]:active{filter:brightness(.9);transform:translateY(0)}.btn-outline-primary[_ngcontent-%COMP%]{border-color:var(--user-btn-border-color, currentColor);color:var(--user-card-text-color, #111827)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background:var(--user-btn-border-color, rgba(0, 0, 0, .08));color:#fff;border-color:var(--user-btn-border-color, currentColor)}.btn-outline-secondary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.alert[_ngcontent-%COMP%]{border-radius:.5rem;font-size:.925rem;border-left:4px solid var(--user-border-color, #0B7285)}.category-tabs[_ngcontent-%COMP%]{gap:.5rem}.category-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:.5rem;padding:.5rem 1rem;color:var(--user-card-text-color, #111827);background-color:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent);border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);font-weight:500;transition:all .15s ease}.category-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent);transform:translateY(-2px)}.category-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:var(--user-border-color, #0B7285);color:#fff;border-color:var(--user-border-color, #0B7285);box-shadow:0 4px 12px color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent)}.category-card[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--user-border-color, #0B7285) 5%,transparent);border:2px solid color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent);border-radius:.75rem;padding:1rem;transition:all .15s ease;height:100%}.category-card[_ngcontent-%COMP%]:hover{border-color:var(--user-border-color, #0B7285);box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.category-card.large[_ngcontent-%COMP%]{padding:1.5rem}.category-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{padding-bottom:.75rem;border-bottom:2px solid color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent);margin-bottom:.75rem}.category-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-size:1.1rem;cursor:pointer;-webkit-user-select:none;user-select:none}.category-card[_ngcontent-%COMP%]   .category-permissions[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding-right:.5rem}.category-card[_ngcontent-%COMP%]   .category-permissions[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.category-card[_ngcontent-%COMP%]   .category-permissions[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000000d;border-radius:10px}.category-card[_ngcontent-%COMP%]   .category-permissions[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--user-border-color, #0B7285);border-radius:10px}.permission-group[_ngcontent-%COMP%]   .permission-group-title[_ngcontent-%COMP%]{font-weight:600;color:var(--user-border-color, #0B7285);margin-bottom:.5rem;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.permission-group[_ngcontent-%COMP%]   .permission-items[_ngcontent-%COMP%]{padding-left:1rem;border-left:2px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent)}.permission-card[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.1);border-radius:.5rem;padding:1rem;transition:all .15s ease;height:100%}.permission-card[_ngcontent-%COMP%]:hover{border-color:var(--user-border-color, #0B7285);box-shadow:0 2px 8px #0000001a}.permission-card[_ngcontent-%COMP%]   .permission-card-title[_ngcontent-%COMP%]{font-weight:600;color:var(--user-border-color, #0B7285);margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid rgba(0,0,0,.1)}.permission-card[_ngcontent-%COMP%]   .permission-card-items[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{margin-bottom:.5rem}.form-check[_ngcontent-%COMP%]{padding-left:1.8rem}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;margin-top:.15rem;cursor:pointer}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--user-border-color, #0B7285);border-color:var(--user-border-color, #0B7285)}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem color-mix(in srgb,var(--user-border-color, #0B7285) 25%,transparent)}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;line-height:1.5}.permissions-counter[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 5%,transparent));border-color:color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);color:var(--user-card-text-color, #111827)}.permissions-counter[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:1rem;padding:.4rem .8rem}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent);border-color:color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);color:var(--user-border-color, #0B7285)}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;background-color:transparent!important}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent)!important}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;border-bottom:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent)!important}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 7%,transparent)!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 8px 26px #00000073}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .form-control[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .form-control[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   select.form-control[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   select.form-control[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   select.form-select[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   select.form-select[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{background-color:#2a2f3a!important;color:#f1f5f9!important;border:1px solid #3a3f4a!important}.dark-mode[_nghost-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder, .dark-mode[_nghost-%COMP%]   select.form-control[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   select.form-control[_ngcontent-%COMP%]::placeholder, .dark-mode[_nghost-%COMP%]   select.form-select[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   select.form-select[_ngcontent-%COMP%]::placeholder, .dark-mode[_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]::placeholder{color:#bfc7cf!important;opacity:1!important}.dark-mode[_nghost-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .dark-mode[_nghost-%COMP%]   select.form-control[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   select.form-control[_ngcontent-%COMP%]:focus, .dark-mode[_nghost-%COMP%]   select.form-select[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   select.form-select[_ngcontent-%COMP%]:focus, .dark-mode[_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285)!important;box-shadow:0 0 0 3px color-mix(in srgb,var(--user-border-color, #0B7285) 25%,transparent)}.dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--user-border-color, #0B7285) 18%,transparent)}.dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important;border-color:#ffffff0f!important}.dark-mode[_nghost-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{color:#0b0e14}.dark-mode[_nghost-%COMP%]   .category-card[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .category-card[_ngcontent-%COMP%]{background:#ffffff0d;border-color:#ffffff1a}.dark-mode[_nghost-%COMP%]   .category-card[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .category-card[_ngcontent-%COMP%]:hover{background:#ffffff14}.dark-mode[_nghost-%COMP%]   .permission-card[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .permission-card[_ngcontent-%COMP%]{background:#2a2f3a;border-color:#3a3f4a}.dark-mode[_nghost-%COMP%]   .permission-card[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .permission-card[_ngcontent-%COMP%]:hover{background:#323742}.dark-mode[_nghost-%COMP%]   .input-group-text[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background-color:#2a2f3a;border-color:#3a3f4a;color:#f1f5f9}@media (prefers-reduced-motion: reduce){.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%], .category-card[_ngcontent-%COMP%], .permission-card[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%]{transition:none!important;transform:none!important}}@media (max-width: 768px){.category-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .8rem}.permission-card[_ngcontent-%COMP%], .category-card[_ngcontent-%COMP%]{margin-bottom:1rem}}"]});let r=s;return r})();var He=r=>["/roles/list/edit/",r];function qe(r,s){r&1&&(x(0),a(1,"span",44),m(2,"i",45),l(3),p(4,"translate"),c(),k()),r&2&&(i(3),f(" ",_(4,1,"ROLES.LIST_ROLE.ALL_PERMISSIONS")," "))}function Xe(r,s){if(r&1&&(a(0,"span",54),m(1,"i",55),l(2),c()),r&2){let t=s.$implicit;i(2),f("",t," ")}}function Je(r,s){if(r&1&&(x(0),a(1,"div",46)(2,"span",47),m(3,"i",48),a(4,"strong"),l(5),c(),l(6),c(),a(7,"button",49),m(8,"i",50),l(9,"Ver detalles "),c()(),a(10,"div",51)(11,"div",52),u(12,Xe,3,1,"span",53),c()(),k()),r&2){let t=g().$implicit;i(5),v(t.permission_pluck.length),i(),f(" ",t.permission_pluck.length===1?"permiso":"permisos"," "),i(),Q("data-bs-toggle","collapse")("data-bs-target","#permissions-"+t.id)("aria-expanded",!1)("aria-controls","permissions-"+t.id),i(3),Q("id","permissions-"+t.id),i(2),d("ngForOf",t.permission_pluck)}}function Qe(r,s){r&1&&(x(0),a(1,"span",56),m(2,"i",57),l(3,"Protegido "),c(),k())}function Ze(r,s){if(r&1&&(a(0,"button",63),m(1,"i",64),c()),r&2){let t=g(3).$implicit;d("routerLink",me(1,He,t.id))}}function Ke(r,s){if(r&1){let t=h();a(0,"button",65),P("click",function(){b(t);let n=g(3).$implicit,o=g();return M(o.selectRole(n))}),m(1,"i",66),c()}if(r&2){let t=g(3).$implicit;Q("data-bs-target","#delete_role-"+t.id)}}function et(r,s){if(r&1&&(a(0,"div",60),u(1,Ze,2,3,"button",61)(2,Ke,2,1,"button",62),c()),r&2){let t=g(3);i(),d("ngIf",t.canEditRole()),i(),d("ngIf",t.canDeleteRole())}}function tt(r,s){r&1&&(a(0,"span",67),m(1,"i",68),l(2,"Sin permisos "),c())}function nt(r,s){if(r&1&&(x(0),u(1,et,3,2,"div",58)(2,tt,3,0,"span",59),k()),r&2){let t=g(2);i(),d("ngIf",t.canEditRole()||t.canDeleteRole()),i(),d("ngIf",!t.canEditRole()&&!t.canDeleteRole())}}function rt(r,s){if(r&1&&(a(0,"tr")(1,"td")(2,"div",37),m(3,"i",38),a(4,"strong"),l(5),c()()(),a(6,"td")(7,"div",39),u(8,qe,5,3,"ng-container",40)(9,Je,13,8,"ng-container",40),c()(),a(10,"td",41)(11,"div",42),m(12,"i",43),a(13,"span"),l(14),p(15,"date"),c()()(),a(16,"td",41),u(17,Qe,4,0,"ng-container",40)(18,nt,3,2,"ng-container",40),c()()),r&2){let t=s.$implicit,e=g();i(5),v(t.name),i(3),d("ngIf",!t.permission_pluck||t.permission_pluck.length===0),i(),d("ngIf",t.permission_pluck&&t.permission_pluck.length>0),i(5),v(pe(15,6,t.created_at,"dd/MM/yyyy")),i(3),d("ngIf",e.isProtectedRole(t.id,t.name)),i(),d("ngIf",!e.isProtectedRole(t.id,t.name))}}function ot(r,s){if(r&1){let t=h();x(0),a(1,"li",35)(2,"a",36),P("click",function(){let n=b(t).$implicit,o=g();return M(o.moveToPage(n))}),l(3),c()(),k()}if(r&2){let t=s.$implicit,e=g();i(),I("active",t===e.currentPage),i(2),v(t)}}function it(r,s){if(r&1){let t=h();a(0,"div",70)(1,"div",71)(2,"div",72)(3,"div",73),m(4,"img",74),a(5,"h5",75),l(6),p(7,"translate"),a(8,"strong"),l(9),c(),l(10,"? "),c(),a(11,"div",76)(12,"button",77),l(13),p(14,"translate"),c(),a(15,"button",78),P("click",function(){b(t);let n=g(2);return M(n.deleteRol())}),l(16),p(17,"translate"),c()()()()()()}if(r&2){let t=g().$implicit;Q("id","delete_role-"+t.id),i(6),f(" ",_(7,5,"ROLES.LIST_ROLE.DELETE_CONFIRMATION2")," "),i(3),v(t.name),i(4),v(_(14,7,"ROLES.LIST_ROLE.CANCEL")),i(3),v(_(17,9,"ROLES.LIST_ROLE.DELETE"))}}function at(r,s){if(r&1&&(x(0),u(1,it,18,11,"div",69),k()),r&2){let t=s.$implicit,e=g();i(),d("ngIf",!e.isProtectedRole(t.id,t.name))}}var Ee=(()=>{let s=class s{constructor(){this.rolesList=[],this.showFilter=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0,this.role_generals=[],this.role_selected=null,this.roleService=K(X),this.translate=K(z),this.permissionService=K(te),this.selectedLang=localStorage.getItem("language")||"en",this.translate.use(this.selectedLang)}ngOnInit(){this.getTableData()}toggleLanguage(){this.selectedLang=this.selectedLang==="es"?"en":"es",this.translate.use(this.selectedLang),localStorage.setItem("language",this.selectedLang)}getTableData(){this.rolesList=[],this.serialNumberArray=[],this.roleService.listRoles().subscribe(e=>{this.totalData=e.roles.length,this.role_generals=e.roles.map(n=>ce(ae({},n),{permissions:n.permission_pluck||[]})).sort((n,o)=>n.name.localeCompare(o.name)),this.getTableDataGeneral()})}getTableDataGeneral(){this.rolesList=[],this.serialNumberArray=[],this.role_generals.map((e,n)=>{let o=n+1;n>=this.skip&&o<=this.limit&&(this.rolesList.push(e),this.serialNumberArray.push(o))}),this.dataSource=new Pe(this.rolesList),this.calculateTotalPages(this.totalData,this.pageSize)}selectRole(e){this.role_selected=e}deleteRol(){if(!this.role_selected){console.error("No se ha seleccionado ning\xFAn rol");return}this.roleService.deleteRoles(this.role_selected.id).subscribe(()=>{let e=this.role_generals.findIndex(n=>n.id===this.role_selected.id);e!==-1&&(this.role_generals.splice(e,1),this.totalData=this.role_generals.length),this.getTableDataGeneral(),this.role_selected=null})}searchData(e){this.dataSource.filter=e.trim().toLowerCase(),this.rolesList=this.dataSource.filteredData}sortData(e){let n=this.rolesList.slice();!e.active||e.direction===""?this.rolesList=n:this.rolesList=n.sort((o,C)=>{let O=o[e.active],E=C[e.active];return(O<E?-1:1)*(e.direction==="asc"?1:-1)})}getMoreData(e){e=="next"?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableDataGeneral()):e=="previous"&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableDataGeneral())}moveToPage(e){this.currentPage=e,this.skip=this.pageSelection[e-1].skip,this.limit=this.pageSelection[e-1].limit,e>this.currentPage?this.pageIndex=e-1:e<this.currentPage&&(this.pageIndex=e+1),this.getTableDataGeneral()}PageSize(){this.pageSelection=[],this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.searchDataValue="",this.getTableDataGeneral()}calculateTotalPages(e,n){this.pageNumberArray=[],this.totalPages=e/n,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(var o=1;o<=this.totalPages;o++){let C=n*o,O=C-n;this.pageNumberArray.push(o),this.pageSelection.push({skip:O,limit:C})}}canEditRole(){return this.permissionService.hasPermission("edit_rol")}canDeleteRole(){return this.permissionService.hasPermission("delete_rol")}isProtectedRole(e,n){if(e===1)return!0;let o=["director general","subdirector general"],C=n.toLowerCase().trim();return o.includes(C)}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=R({type:s,selectors:[["app-list-role-user"]],decls:71,vars:52,consts:[[1,"page-wrapper"],[1,"content","list-staff"],[1,"page-header","mb-4"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb","bg-light","p-2","rounded"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"card","card-list","shadow","border-0"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap","mb-3","header-bar"],[1,"mb-0","fw-semibold"],[1,"d-flex","align-items-center","gap-2","flex-wrap"],[1,"input-group","search-input"],["type","text",1,"form-control",3,"ngModelChange","placeholder","ngModel"],[1,"input-group-text"],[1,"fa","fa-search"],["routerLink","/roles/register",1,"btn","btn-options","d-flex","align-items-center","gap-1"],[1,"fa","fa-plus"],[1,"d-none","d-sm-inline"],[1,"table-responsive"],["matSort","",1,"table","table-hover","align-middle","modern-table",3,"matSortChange"],[1,"table-light"],["mat-sort-header","name",2,"width","20%"],[1,"fa","fa-user-tag","me-2"],["mat-sort-header","permisos",2,"width","45%"],[1,"fa","fa-shield-alt","me-2"],["mat-sort-header","created_at",1,"text-center",2,"width","15%"],[1,"fa","fa-calendar","me-2"],["mat-sort-header","actions",1,"text-center",2,"width","20%"],[1,"fa","fa-cog","me-2"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-3","flex-wrap"],[1,"pagination-info","small"],[1,"pagination","mb-0"],[1,"page-item"],[1,"page-link",3,"click"],[1,"role-name-cell"],[1,"fa","fa-shield","text-primary","me-2"],[1,"permissions-cell"],[4,"ngIf"],[1,"text-center"],[1,"date-cell"],[1,"fa","fa-calendar-alt","text-muted","me-2"],[1,"badge","badge-all-permissions"],[1,"fa","fa-unlock-alt","me-1"],[1,"permissions-summary"],[1,"permission-count"],[1,"fa","fa-key","me-1"],["type","button",1,"btn","btn-sm","btn-view-permissions"],[1,"fa","fa-eye","me-1"],[1,"collapse","permissions-collapse"],[1,"permissions-list","mt-2"],["class","badge badge-permission",4,"ngFor","ngForOf"],[1,"badge","badge-permission"],[1,"fa","fa-check-circle","me-1"],[1,"badge","badge-protected"],[1,"fa","fa-lock","me-1"],["class","action-buttons",4,"ngIf"],["class","badge badge-no-permission",4,"ngIf"],[1,"action-buttons"],["class","btn btn-sm btn-edit","title","Editar rol",3,"routerLink",4,"ngIf"],["class","btn btn-sm btn-delete","data-bs-toggle","modal","title","Eliminar rol",3,"click",4,"ngIf"],["title","Editar rol",1,"btn","btn-sm","btn-edit",3,"routerLink"],[1,"fa","fa-pen"],["data-bs-toggle","modal","title","Eliminar rol",1,"btn","btn-sm","btn-delete",3,"click"],[1,"fa","fa-trash"],[1,"badge","badge-no-permission"],[1,"fa","fa-ban","me-1"],["class","modal fade","tabindex","-1","aria-hidden","true",4,"ngIf"],["tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center","p-4"],["src","assets/img/sent.png","alt","","width","50","height","46"],[1,"mt-3"],[1,"mt-4","d-flex","justify-content-center","gap-3"],["data-bs-dismiss","modal",1,"btn","btn-light"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ol",5)(6,"li",6),l(7),p(8,"translate"),c(),a(9,"li",7),l(10),p(11,"translate"),c()()()()(),a(12,"div",3)(13,"div",4)(14,"div",8)(15,"div",9)(16,"div",10)(17,"h4",11),l(18),p(19,"translate"),c(),a(20,"div",12)(21,"div",13)(22,"input",14),p(23,"translate"),T("ngModelChange",function(O){return B(o.searchDataValue,O)||(o.searchDataValue=O),O}),P("ngModelChange",function(){return o.searchData(o.searchDataValue)}),c(),a(24,"span",15),m(25,"i",16),c()(),a(26,"a",17),m(27,"i",18),a(28,"span",19),l(29),p(30,"translate"),c()()()(),a(31,"div",20)(32,"table",21),P("matSortChange",function(O){return o.sortData(O)}),a(33,"thead",22)(34,"tr")(35,"th",23),m(36,"i",24),l(37),p(38,"translate"),c(),a(39,"th",25),m(40,"i",26),l(41),p(42,"translate"),c(),a(43,"th",27),m(44,"i",28),l(45),p(46,"translate"),c(),a(47,"th",29),m(48,"i",30),l(49),p(50,"translate"),c()()(),a(51,"tbody"),u(52,rt,19,9,"tr",31),c()()(),a(53,"div",32)(54,"div",33),l(55),p(56,"translate"),p(57,"translate"),p(58,"translate"),c(),a(59,"nav")(60,"ul",34)(61,"li",35)(62,"a",36),P("click",function(){return o.getMoreData("previous")}),l(63),p(64,"translate"),c()(),u(65,ot,4,3,"ng-container",31),a(66,"li",35)(67,"a",36),P("click",function(){return o.getMoreData("next")}),l(68),p(69,"translate"),c()()()()()()()()()()(),u(70,at,2,1,"ng-container",31)),n&2&&(i(7),f("",_(8,24,"ROLES.LIST_ROLE.BREADCRUMB_ROLES")," >"),i(3),v(_(11,26,"ROLES.LIST_ROLE.BREADCRUMB_LIST_ROLE")),i(8),v(_(19,28,"ROLES.LIST_ROLE.TITLE")),i(4),d("placeholder",_(23,30,"ROLES.LIST_ROLE.SEARCH_PLACEHOLDER")),L("ngModel",o.searchDataValue),i(7),v(_(30,32,"ROLES.LIST_ROLE.NEW")),i(8),f("",_(38,34,"ROLES.LIST_ROLE.NAME")," "),i(4),f("",_(42,36,"ROLES.LIST_ROLE.PERMISSIONS")," "),i(4),f("",_(46,38,"ROLES.LIST_ROLE.REGISTER")," "),i(4),f("",_(50,40,"ROLES.LIST_ROLE.ACTIONS")," "),i(3),d("ngForOf",o.rolesList),i(3),de(" ",_(56,42,"ROLES.LIST_ROLE.SHOWING")," ",o.serialNumberArray[0]," ",_(57,44,"ROLES.LIST_ROLE.TO")," ",o.totalData," ",_(58,46,"ROLES.LIST_ROLE.RECORDS")," "),i(6),I("disabled",o.currentPage===1),i(2),v(_(64,48,"ROLES.LIST_ROLE.PREVIOUS")),i(2),d("ngForOf",o.pageNumberArray),i(),I("disabled",o.currentPage===o.pageNumberArray[o.pageNumberArray.length-1]),i(2),v(_(69,50,"ROLES.LIST_ROLE.NEXT")),i(2),d("ngForOf",o.rolesList))},dependencies:[V,D,U,H,j,Y,W,y,ee,G,ge,$],styles:[".card.card-list[_ngcontent-%COMP%]{border-radius:1rem;padding:1.5rem;border:4px solid var(--user-border-color, #0B7285)!important;background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;position:relative;z-index:1;transition:background-color .3s,color .3s,border-color .3s}.card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:1rem;background-color:transparent!important;color:var(--user-card-text-color, #111827)!important}.card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0;width:100%;background-color:transparent!important;border:none!important;border-radius:12px;overflow:hidden}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 8%,transparent))!important;color:var(--user-card-text-color, #111827)!important;font-weight:600;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px;padding:1rem .75rem;border:none!important;vertical-align:middle}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.7;font-size:.85rem}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:12px}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:12px}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .2s ease;background:transparent!important}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 4%,transparent)!important;transform:translateY(-1px);box-shadow:0 2px 8px #0000000d}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .75rem;border:none!important;border-bottom:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 6%,transparent)!important;color:var(--user-card-text-color, #111827)!important;vertical-align:middle;background:transparent!important}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:12px}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:12px}.card.card-list[_ngcontent-%COMP%]   .role-name-cell[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.95rem}.card.card-list[_ngcontent-%COMP%]   .role-name-cell[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--user-border-color, #0B7285)}.card.card-list[_ngcontent-%COMP%]   .role-name-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.card.card-list[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:.875rem}.card.card-list[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.card.card-list[_ngcontent-%COMP%]   .permissions-cell[_ngcontent-%COMP%]{width:100%}.card.card-list[_ngcontent-%COMP%]   .permissions-summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap}.card.card-list[_ngcontent-%COMP%]   .permission-count[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.35rem .75rem;background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 12%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 6%,transparent));border-radius:20px;font-size:.85rem;color:var(--user-card-text-color, #111827)!important;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent)}.card.card-list[_ngcontent-%COMP%]   .permission-count[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;opacity:.8}.card.card-list[_ngcontent-%COMP%]   .permission-count[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;color:var(--user-border-color, #0B7285)}.card.card-list[_ngcontent-%COMP%]   .btn-view-permissions[_ngcontent-%COMP%]{background:transparent;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);color:var(--user-border-color, #0B7285);padding:.3rem .7rem;font-size:.8rem;border-radius:6px;transition:all .2s ease;font-weight:500}.card.card-list[_ngcontent-%COMP%]   .btn-view-permissions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.card.card-list[_ngcontent-%COMP%]   .btn-view-permissions[_ngcontent-%COMP%]:hover{background:var(--user-border-color, #0B7285);color:#fff;border-color:var(--user-border-color, #0B7285);transform:translateY(-1px);box-shadow:0 2px 6px #0000001a}.card.card-list[_ngcontent-%COMP%]   .btn-view-permissions[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent)}.card.card-list[_ngcontent-%COMP%]   .permissions-collapse[_ngcontent-%COMP%]{margin-top:.5rem}.card.card-list[_ngcontent-%COMP%]   .permissions-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem;padding:.75rem;background:color-mix(in srgb,var(--user-border-color, #0B7285) 3%,transparent);border-radius:8px;border:1px dashed color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent);max-height:200px;overflow-y:auto}.card.card-list[_ngcontent-%COMP%]   .permissions-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.card.card-list[_ngcontent-%COMP%]   .permissions-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:color-mix(in srgb,var(--user-border-color, #0B7285) 5%,transparent);border-radius:3px}.card.card-list[_ngcontent-%COMP%]   .permissions-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);border-radius:3px}.card.card-list[_ngcontent-%COMP%]   .permissions-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 50%,transparent)}.card.card-list[_ngcontent-%COMP%]   .badge-permission[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.35rem .7rem;background:#fff;color:var(--user-card-text-color, #111827)!important;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent);border-radius:6px;font-size:.75rem;font-weight:500;transition:all .2s ease}.card.card-list[_ngcontent-%COMP%]   .badge-permission[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285);font-size:.7rem}.card.card-list[_ngcontent-%COMP%]   .badge-permission[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 8%,transparent);transform:translateY(-1px);box-shadow:0 2px 4px #00000014}.card.card-list[_ngcontent-%COMP%]   .badge-all-permissions[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.5rem 1rem;background:linear-gradient(135deg,#10b981,#059669);color:#fff!important;border-radius:8px;font-size:.875rem;font-weight:600;box-shadow:0 2px 6px #10b9814d}.card.card-list[_ngcontent-%COMP%]   .badge-all-permissions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.card.card-list[_ngcontent-%COMP%]   .badge-protected[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.4rem .8rem;background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff!important;border-radius:6px;font-size:.8rem;font-weight:600;box-shadow:0 2px 4px #f59e0b4d}.card.card-list[_ngcontent-%COMP%]   .badge-protected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.card.card-list[_ngcontent-%COMP%]   .badge-no-permission[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.4rem .8rem;background:linear-gradient(135deg,#6b7280,#4b5563);color:#fff!important;border-radius:6px;font-size:.8rem;font-weight:600;box-shadow:0 2px 4px #6b72804d}.card.card-list[_ngcontent-%COMP%]   .badge-no-permission[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.card.card-list[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;align-items:center}.card.card-list[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);border:none;color:#fff;padding:.5rem .75rem;border-radius:6px;transition:all .2s ease;font-size:.875rem}.card.card-list[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.card.card-list[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #3b82f666;filter:brightness(1.1)}.card.card-list[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);border:none;color:#fff;padding:.5rem .75rem;border-radius:6px;transition:all .2s ease;font-size:.875rem}.card.card-list[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.card.card-list[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #ef444466;filter:brightness(1.1)}.card.card-list[_ngcontent-%COMP%]   .btn-options[_ngcontent-%COMP%]{background-color:var(--user-border-color, #0B7285);border:none;padding:.5rem 1rem;font-weight:600;font-size:.875rem;color:#fff;border-radius:8px;transition:all .2s ease-in-out;display:inline-flex;align-items:center;box-shadow:0 2px 6px #0000001a}.card.card-list[_ngcontent-%COMP%]   .btn-options[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px;font-size:.85rem}.card.card-list[_ngcontent-%COMP%]   .btn-options[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026;filter:brightness(1.1)}.page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;background:transparent!important}.page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   .bg-light[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   .table-light[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead.table-light[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]{background:transparent!important;background-color:transparent!important;color:var(--user-card-text-color, #111827)!important}.dark-mode[_nghost-%COMP%]   .card.card-list[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card.card-list[_ngcontent-%COMP%]{background-color:var(--user-card-bg, #23221c)!important;border-color:var(--user-border-color, #0B7285)!important;color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important;border-color:#ffffff14!important;background:transparent!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent))!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 8%,transparent)!important}.dark-mode[_nghost-%COMP%]   .badge-permission[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .badge-permission[_ngcontent-%COMP%]{background:#ffffff14!important;color:var(--user-card-text-color, #ffffff)!important;border-color:#ffffff26!important}.dark-mode[_nghost-%COMP%]   .permissions-list[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .permissions-list[_ngcontent-%COMP%]{background:#ffffff08!important;border-color:#ffffff1a!important}.dark-mode[_nghost-%COMP%]   .role-name-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .role-name-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .date-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .date-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .permission-count[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .permission-count[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:transparent!important;color:var(--user-card-text-color, #111827)!important;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent)!important;padding:.5rem 1rem;border-radius:8px;caret-color:var(--user-card-text-color, #111827)!important;transition:all .2s ease}.search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--user-border-color, #0B7285)!important;box-shadow:0 0 0 3px color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent)}.search-input[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:transparent!important;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent)!important;border-left:none!important;color:var(--user-card-text-color, #111827)!important;border-radius:0 8px 8px 0}.search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:color-mix(in srgb,var(--user-card-text-color, #111827) 50%,transparent)!important;opacity:1!important}.dark-mode[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important;border-color:#ffffff26!important}.dark-mode[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80!important}  .modal .modal-content{background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;border:2px solid var(--user-border-color, #0B7285);border-radius:1rem}  .modal .modal-content .modal-body h5,   .modal .modal-content .modal-body p,   .modal .modal-content .modal-body strong{color:var(--user-card-text-color, #111827)!important}  .modal .modal-content .modal-body .btn-light{background-color:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent);color:var(--user-card-text-color, #111827);border:1px solid var(--user-border-color, #0B7285);transition:all .2s ease}  .modal .modal-content .modal-body .btn-light:hover{background-color:color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent)}  .modal .modal-content .modal-body .btn-danger{background:linear-gradient(135deg,#ef4444,#dc2626);border:none;color:#fff;transition:all .2s ease}  .modal .modal-content .modal-body .btn-danger:hover{transform:scale(1.05);box-shadow:0 2px 8px #ef444466}.dark-mode[_nghost-%COMP%]     .modal .modal-content, .dark-mode   [_nghost-%COMP%]     .modal .modal-content{background-color:var(--user-card-bg, #1A2332)!important;color:var(--user-card-text-color, #ffffff)!important;box-shadow:0 8px 32px #00000080}  .modal-backdrop{background-color:#00000080!important}  .modal{background-color:transparent!important}  body.modal-open{overflow:hidden}.dark-mode[_nghost-%COMP%]     .modal-backdrop, .dark-mode   [_nghost-%COMP%]     .modal-backdrop{background-color:#000000b3!important}"]});let r=s;return r})();function ct(r,s){if(r&1){let t=h();a(0,"button",41),P("click",function(){b(t);let n=g();return M(n.permissions=[])}),m(1,"i",42),l(2," Limpiar todo "),c()}}function st(r,s){if(r&1){let t=h();a(0,"div",50)(1,"input",51),P("change",function(){let n=b(t).$implicit,o=g(3);return M(o.addPermission(n))}),c(),a(2,"label",52),l(3),p(4,"translate"),c()()}if(r&2){let t=s.$implicit,e=g(2).$implicit,n=g();i(),d("checked",n.permissions.includes(t.permision))("id",t.menuValue),i(),d("for",t.menuValue),i(),f(" ",_(4,4,"SIDEBAR."+n.cleanGroup(e.group)+"."+e.menuValue+"."+t.menuValue)," ")}}function lt(r,s){if(r&1&&(a(0,"div")(1,"div",46),m(2,"i",47),l(3),p(4,"translate"),c(),a(5,"div",48),u(6,st,5,6,"div",49),c()()),r&2){let t=g().$implicit,e=g();i(3),f(" ",_(4,2,"SIDEBAR."+e.cleanGroup(t.group)+"."+t.menuValue+".TITLE")," "),i(3),d("ngForOf",t.subMenus)}}function dt(r,s){if(r&1){let t=h();a(0,"div")(1,"div",50)(2,"input",51),P("change",function(){b(t);let n=g().$implicit,o=g();return M(o.addPermission(n))}),c(),a(3,"label",53),m(4,"i",47),l(5),p(6,"translate"),c()()()}if(r&2){let t=g().$implicit,e=g();i(2),d("checked",e.permissions.includes(t.permision))("id",t.menuValue),i(),d("for",t.menuValue),i(2),f(" ",_(6,4,"SIDEBAR."+e.cleanGroup(t.group)+"."+t.menuValue+".TITLE")," ")}}function mt(r,s){if(r&1&&(x(0),a(1,"div",43)(2,"div",44),u(3,lt,7,4,"div",45)(4,dt,7,6,"div",45),c()(),k()),r&2){let t=s.$implicit;i(3),d("ngIf",t.subMenus&&t.subMenus.length>0),i(),d("ngIf",!t.subMenus||t.subMenus.length===0)}}function pt(r,s){r&1&&(a(0,"div",54)(1,"div",55),m(2,"i",56),a(3,"strong"),l(4),p(5,"translate"),c(),l(6),p(7,"translate"),m(8,"button",57),c()()),r&2&&(i(4),f("",_(5,2,"ROLES.EDIT_ROLE.WARNING"),":"),i(2),f(" ",_(7,4,"ROLES.EDIT_ROLE.ALERT1")," "))}function gt(r,s){r&1&&(a(0,"div",54)(1,"div",58),m(2,"i",26),a(3,"strong"),l(4),p(5,"translate"),c(),l(6),p(7,"translate"),m(8,"button",57),c()()),r&2&&(i(4),f("",_(5,2,"ROLES.EDIT_ROLE.SUCCESS"),":"),i(2),f(" ",_(7,4,"ROLES.EDIT_ROLE.GREAT_ROLE")," "))}function _t(r,s){if(r&1&&(a(0,"div",54)(1,"div",59),m(2,"i",60),a(3,"strong"),l(4),p(5,"translate"),c(),l(6),m(7,"button",57),c()()),r&2){let t=g();i(4),f("",_(5,2,"ROLES.EDIT_ROLE.WARNING"),":"),i(2),f(" ",t.text_validation," ")}}var we=(()=>{let s=class s{constructor(e,n,o,C){this.DataService=e,this.RoleService=n,this.activedRoute=o,this.translate=C,this.sideBar=[],this.name="",this.permissions=[],this.valid_form=!1,this.valid_form_success=!1,this.text_validation=null,this.selectedLang=localStorage.getItem("language")||"en",this.translate.use(this.selectedLang)}ngOnInit(){this.DataService.sideBar&&this.DataService.sideBar.length>0&&(this.sideBar=this.DataService.sideBar[0].menu),this.activedRoute.params.subscribe(e=>{this.role_id=e.id,this.showRole()})}toggleLanguage(){this.selectedLang=this.selectedLang==="es"?"en":"es",this.translate.use(this.selectedLang),localStorage.setItem("language",this.selectedLang)}showRole(){this.RoleService.showRoles(this.role_id).subscribe(e=>{this.name=e.name,this.permissions=Array.isArray(e.permission_pluck)?e.permission_pluck:[]})}addPermission(e){if(e.permision){let n=this.permissions.findIndex(o=>o==e.permision);n!=-1?this.permissions.splice(n,1):this.permissions.push(e.permision)}}cleanGroup(e){return e.replace(/^GRUPO_/,"")}getRoleLabel(e){let n=e.match(/^(SIDEBAR_\w+?)(\d+)$/);if(n){let O=n[1],E=n[2],J=this.translate.instant(O);if(J!==O)return`${J} ${E}`;let w=O.replace(/^SIDEBAR_/,"").replace(/_/g," ");return w=w.charAt(0).toUpperCase()+w.slice(1).toLowerCase(),`${w} ${E}`}let o=this.translate.instant(e);if(o!==e)return o;let C=e.replace(/^SIDEBAR_/,"").replace(/_/g," ");return C=C.charAt(0).toUpperCase()+C.slice(1).toLowerCase(),C}save(){if(this.valid_form=!1,!this.name||this.permissions.length==0){this.valid_form=!0;return}let e={name:this.name,permissions:this.permissions};this.valid_form_success=!1,this.text_validation=null,this.RoleService.editRoles(e,this.role_id).subscribe({next:n=>{if(n.message==403){this.text_validation=n.message_text;return}n.message==200&&(this.valid_form_success=!0,this.text_validation=null)},error:n=>{console.error("Error al editar rol:",n),n.status===403?this.text_validation=n.error?.message_text||"No tienes permisos para realizar esta acci\xF3n":n.status===422?this.text_validation=n.error?.message||"Datos de entrada inv\xE1lidos":n.status===500?this.text_validation="Error interno del servidor. Intenta nuevamente.":this.text_validation="Error al actualizar el rol. Verifica tu conexi\xF3n e intenta nuevamente."}})}};s.\u0275fac=function(n){return new(n||s)(S(ne),S(X),S(Ce),S(z))},s.\u0275cmp=R({type:s,selectors:[["app-edit-role-user"]],decls:64,vars:29,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header","mb-4"],[1,"row"],[1,"col"],["aria-label","breadcrumb"],[1,"breadcrumb","bg-light","p-2","rounded"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","justify-content-center"],[1,"col-12"],[1,"card","shadow-sm","border-0"],[1,"card-body","p-4"],[1,"role-header","mb-4"],[1,"card-title","mb-4"],[1,"fas","fa-user-shield","me-2"],[1,"text-primary"],[1,"row","g-3"],[1,"col-md-6"],["for","roleName",1,"form-label","fw-semibold"],[1,"fas","fa-tag","me-2"],["type","text","id","roleName","name","name",1,"form-control","form-control-lg",3,"ngModelChange","ngModel","placeholder"],[1,"col-md-6","d-flex","align-items-end"],[1,"permissions-counter","w-100"],[1,"alert","alert-info","mb-0","d-flex","align-items-center","justify-content-between"],[1,"fas","fa-check-circle","me-2"],[1,"badge","bg-primary","fs-6","ms-2"],["type","button","class","btn btn-sm btn-outline-danger",3,"click",4,"ngIf"],[1,"my-4"],[1,"permissions-section"],[1,"mb-3"],[1,"fas","fa-key","me-2"],[1,"permissions-content"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap","gap-2"],["routerLink","/roles/list",1,"btn","btn-outline-secondary"],[1,"fas","fa-arrow-left","me-2"],[1,"btn","btn-primary","btn-lg",3,"click"],[1,"fas","fa-save","me-2"],["class","mt-3",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-times","me-1"],[1,"col-md-6","col-lg-4"],[1,"permission-card"],[4,"ngIf"],[1,"permission-card-title"],[1,"fas","fa-cog","me-2"],[1,"permission-card-items"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","checked","id"],[1,"form-check-label",3,"for"],[1,"form-check-label","fw-semibold",3,"for"],[1,"mt-3"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-circle","me-2"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"ol",6)(7,"li",7)(8,"a",8),l(9),p(10,"translate"),c()(),a(11,"li",9),l(12),p(13,"translate"),c()()()()()(),a(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"h4",15),m(20,"i",16),l(21),p(22,"translate"),a(23,"span",17),l(24),c()(),a(25,"div",18)(26,"div",19)(27,"label",20),m(28,"i",21),l(29),p(30,"translate"),c(),a(31,"input",22),p(32,"translate"),T("ngModelChange",function(O){return B(o.name,O)||(o.name=O),O}),c()(),a(33,"div",23)(34,"div",24)(35,"div",25)(36,"div"),m(37,"i",26),a(38,"strong"),l(39,"Permisos seleccionados:"),c(),a(40,"span",27),l(41),c()(),u(42,ct,3,0,"button",28),c()()()()(),m(43,"hr",29),a(44,"div",30)(45,"h5",31),m(46,"i",32),l(47),p(48,"translate"),c(),a(49,"div",33)(50,"div",18),u(51,mt,5,2,"ng-container",34),c()()(),m(52,"hr",29),a(53,"div",35)(54,"a",36),m(55,"i",37),l(56," Cancelar "),c(),a(57,"button",38),P("click",function(){return o.save()}),m(58,"i",39),l(59),p(60,"translate"),c()(),u(61,pt,9,6,"div",40)(62,gt,9,6,"div",40)(63,_t,8,4,"div",40),c()()()()()()),n&2&&(i(9),f("",_(10,15,"ROLES.EDIT_ROLE.BREADCRUMB_ROLES")," >"),i(3),f(" ",_(13,17,"ROLES.EDIT_ROLE.BREADCRUMB_EDIT_ROLE")," "),i(9),f(" ",_(22,19,"ROLES.EDIT_ROLE.TITLE"),": "),i(3),v(o.name),i(5),f(" ",_(30,21,"ROLES.EDIT_ROLE.NAME")," "),i(2),L("ngModel",o.name),d("placeholder",_(32,23,"ROLES.EDIT_ROLE.PLACEHOLDER_NAME")),i(10),v(o.permissions.length),i(),d("ngIf",o.permissions.length>0),i(5),f(" ",_(48,25,"ROLES.EDIT_ROLE.ASIGNATION")," "),i(4),d("ngForOf",o.sideBar),i(8),f(" ",_(60,27,"ROLES.EDIT_ROLE.SAVE_CHANGES")," "),i(2),d("ngIf",o.valid_form),i(),d("ngIf",o.valid_form_success),i(),d("ngIf",o.text_validation))},dependencies:[H,j,Y,W,V,D,U,G,$],styles:["[_nghost-%COMP%]{display:block}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:1rem;border:4px solid var(--user-border-color, #0B7285)!important;background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;box-shadow:0 6px 20px #00000014;transition:background-color .2s ease,color .2s ease,border-color .2s ease,box-shadow .2s ease,transform .12s ease}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 24px #0000001f}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.form-control[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%], select.form-select[_ngcontent-%COMP%], textarea.form-control[_ngcontent-%COMP%]{border-radius:.6rem;padding:.6rem .9rem;border:1px solid rgba(0,0,0,.18);background-color:#fff;color:#111827;transition:border-color .15s ease,box-shadow .15s ease,background-color .15s ease,color .15s ease}.form-control[_ngcontent-%COMP%]::placeholder, select.form-control[_ngcontent-%COMP%]::placeholder, select.form-select[_ngcontent-%COMP%]::placeholder, textarea.form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af;opacity:1}.form-control[_ngcontent-%COMP%]:focus, select.form-control[_ngcontent-%COMP%]:focus, select.form-select[_ngcontent-%COMP%]:focus, textarea.form-control[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285);outline:none;box-shadow:0 0 0 3px color-mix(in srgb,var(--user-border-color, #0B7285) 25%,transparent)}.form-control.is-invalid[_ngcontent-%COMP%], select.form-control.is-invalid[_ngcontent-%COMP%], select.form-select.is-invalid[_ngcontent-%COMP%], textarea.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545!important;background-color:#fff5f5!important}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{accent-color:var(--user-border-color, #0B7285);cursor:pointer}.btn[_ngcontent-%COMP%]{font-weight:600;padding:.55rem 1.2rem;border-radius:.6rem;transition:all .15s ease}.btn-primary[_ngcontent-%COMP%]{background-color:var(--user-border-color, #0B7285);border-color:var(--user-border-color, #0B7285);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{filter:brightness(.95);transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.btn-primary[_ngcontent-%COMP%]:active{filter:brightness(.9);transform:translateY(0)}.btn-outline-primary[_ngcontent-%COMP%]{border-color:var(--user-btn-border-color, currentColor);color:var(--user-card-text-color, #111827)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background:var(--user-btn-border-color, rgba(0, 0, 0, .08));color:#fff;border-color:var(--user-btn-border-color, currentColor)}.btn-outline-secondary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.alert[_ngcontent-%COMP%]{border-radius:.5rem;font-size:.925rem;border-left:4px solid var(--user-border-color, #0B7285)}.permission-card[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.1);border-radius:.5rem;padding:1rem;transition:all .15s ease;height:100%}.permission-card[_ngcontent-%COMP%]:hover{border-color:var(--user-border-color, #0B7285);box-shadow:0 2px 8px #0000001a}.permission-card[_ngcontent-%COMP%]   .permission-card-title[_ngcontent-%COMP%]{font-weight:600;color:var(--user-border-color, #0B7285);margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid rgba(0,0,0,.1)}.permission-card[_ngcontent-%COMP%]   .permission-card-items[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{margin-bottom:.5rem}.form-check[_ngcontent-%COMP%]{padding-left:1.8rem}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;margin-top:.15rem;cursor:pointer}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--user-border-color, #0B7285);border-color:var(--user-border-color, #0B7285)}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem color-mix(in srgb,var(--user-border-color, #0B7285) 25%,transparent)}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;line-height:1.5}.permissions-counter[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 5%,transparent));border-color:color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);color:var(--user-card-text-color, #111827)}.permissions-counter[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:1rem;padding:.4rem .8rem}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;background-color:transparent!important}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent)!important}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;border-bottom:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent)!important}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 7%,transparent)!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 8px 26px #00000073}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .form-control[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .form-control[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   select.form-control[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   select.form-control[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   select.form-select[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   select.form-select[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{background-color:#2a2f3a!important;color:#f1f5f9!important;border:1px solid #3a3f4a!important}.dark-mode[_nghost-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder, .dark-mode[_nghost-%COMP%]   select.form-control[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   select.form-control[_ngcontent-%COMP%]::placeholder, .dark-mode[_nghost-%COMP%]   select.form-select[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   select.form-select[_ngcontent-%COMP%]::placeholder, .dark-mode[_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]::placeholder{color:#bfc7cf!important;opacity:1!important}.dark-mode[_nghost-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .dark-mode[_nghost-%COMP%]   select.form-control[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   select.form-control[_ngcontent-%COMP%]:focus, .dark-mode[_nghost-%COMP%]   select.form-select[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   select.form-select[_ngcontent-%COMP%]:focus, .dark-mode[_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285)!important;box-shadow:0 0 0 3px color-mix(in srgb,var(--user-border-color, #0B7285) 25%,transparent)}.dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--user-border-color, #0B7285) 18%,transparent)}.dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important;border-color:#ffffff0f!important}.dark-mode[_nghost-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{color:#0b0e14}.dark-mode[_nghost-%COMP%]   .permission-card[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .permission-card[_ngcontent-%COMP%]{background:#2a2f3a;border-color:#3a3f4a}.dark-mode[_nghost-%COMP%]   .permission-card[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .permission-card[_ngcontent-%COMP%]:hover{background:#323742}@media (prefers-reduced-motion: reduce){.page-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%], .permission-card[_ngcontent-%COMP%]{transition:none!important;transform:none!important}}@media (max-width: 768px){.permission-card[_ngcontent-%COMP%]{margin-bottom:1rem}}"]});let r=s;return r})();var oe=(()=>{let s=class s{constructor(e,n){this.router=e,this.permissionService=n}canActivate(e){if(!this.permissionService.isAuthenticated())return this.router.parseUrl(ie.login);let n=e.data?.requiredPermissions||[],o=e.data?.requireAllPermissions||!1;return n.length===0||(o?this.permissionService.hasAllPermissions(n):this.permissionService.hasAnyPermission(n))?!0:(console.log("\u{1F6AB} Acceso denegado. Permisos insuficientes para acceder a esta ruta"),this.router.parseUrl(ie.profile))}};s.\u0275fac=function(n){return new(n||s)(A(Oe),A(te))},s.\u0275prov=Z({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})();var Ct=[{path:"",component:be,children:[{path:"register",component:ke,canActivate:[oe],data:{requiredPermissions:["register_rol"]}},{path:"list",component:Ee,canActivate:[oe],data:{requiredPermissions:["list_rol"]}},{path:"list/edit/:id",component:we,canActivate:[oe],data:{requiredPermissions:["edit_rol"]}}]}],Qt=(()=>{let s=class s{};s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=le({type:s}),s.\u0275inj=se({imports:[y.forChild(Ct),y]});let r=s;return r})();export{be as a,ke as b,Ee as c,we as d,oe as e,Qt as f};
