import{W as u}from"./chunk-UAHOMQAC.js";import{a as r}from"./chunk-53SADUUO.js";import{Bc as d,Dc as o,T as p,W as c}from"./chunk-GPA4TO5E.js";var L=(()=>{let a=class a{constructor(e,t){this.http=e,this.authService=t}getHeaders(){return new d({Authorization:"Bearer "+this.authService.token})}listArchives(){let e=`${r}/archives`;return this.http.get(e,{headers:this.getHeaders()})}checkUniqueArchiveNumber(e){return this.http.get(`${r}/archives/check-unique?archive_number=${e}`,{headers:this.getHeaders()})}listArchivesWithFilters(e,t,s,h="asc"){let i=new URLSearchParams;if(i.append("sort_dir",h),e.archiveNumberSearch?.trim()&&i.append("archive_number",e.archiveNumberSearch.trim()),e.nameSearch?.trim()&&i.append("name",e.nameSearch.trim()),e.selectedGender&&i.append("gender_id",e.selectedGender),e.stateTextFilter?.trim()&&i.append("state_text",e.stateTextFilter.trim()),e.municipalityTextFilter?.trim()&&i.append("municipality_text",e.municipalityTextFilter.trim()),e.locationTextFilter?.trim()&&i.append("location_text",e.locationTextFilter.trim()),e.dateFilterType)switch(i.append("date_filter_type",e.dateFilterType),e.dateFilterType){case"year":e.specificYear&&i.append("filter_year",e.specificYear);break;case"month":e.specificYear&&e.specificMonth?(i.append("filter_year",e.specificYear),i.append("filter_month",e.specificMonth)):e.specificMonth&&i.append("filter_month",e.specificMonth);break;case"day":e.specificYear&&e.specificMonth&&e.specificDay&&(i.append("filter_year",e.specificYear),i.append("filter_month",e.specificMonth),i.append("filter_day",e.specificDay.toString().padStart(2,"0")));break;case"range":e.dateFrom&&i.append("date_from",e.dateFrom),e.dateTo&&i.append("date_to",e.dateTo);break}i.append("skip",t.toString()),i.append("limit",s.toString()),i.append("case_insensitive","true");let g=`${r}/archives?${i.toString()}`;return this.http.get(g,{headers:this.getHeaders()})}searchArchivesGlobal(e,t,s){let h=new URLSearchParams;e?.trim()&&h.append("global_search",e.trim()),h.append("skip",t.toString()),h.append("limit",s.toString());let i=`${r}/archives/search?${h.toString()}`;return this.http.get(i,{headers:this.getHeaders()})}listArchivesPaginated(e,t){let s=`${r}/archives?skip=${e}&limit=${t}`;return this.http.get(s,{headers:this.getHeaders()})}getAllArchives(){let e=`${r}/archives?all=true`;return this.http.get(e,{headers:this.getHeaders()})}showArchive(e){let t=`${r}/archives/${e}`;return this.http.get(t,{headers:this.getHeaders()})}registerArchive(e){let t=`${r}/archives`;return this.http.post(t,e,{headers:this.getHeaders()})}updateArchive(e,t){let s=`${r}/archives/${e}`;return this.http.put(s,t,{headers:this.getHeaders()})}deleteArchive(e){let t=`${r}/archives/${e}`;return this.http.delete(t,{headers:this.getHeaders()})}listConfig(){let e=`${r}/archives/config`;return this.http.get(e,{headers:this.getHeaders()})}listGenders(){let e=`${r}/genders`;return this.http.get(e,{headers:this.getHeaders()})}listStates(){let e=`${r}/states`;return this.http.get(e,{headers:this.getHeaders()})}listMunicipalities(e){let t=`${r}/municipalities`;return e&&(t+=`?state_id=${e}`),this.http.get(t,{headers:this.getHeaders()})}listLocations(e){let t=`${r}/locations`;return e&&(t+=`?municipality_id=${e}`),this.http.get(t,{headers:this.getHeaders()})}getArchiveStats(){let e=`${r}/archives/stats`;return this.http.get(e,{headers:this.getHeaders()})}getNextNumber(){let e=`${r}/archives/next-number`;return this.http.get(e,{headers:this.getHeaders()})}uploadBackup(e){let t=`${r}/archives/backup/upload`;return this.http.post(t,e,{headers:this.getHeaders()})}listBackups(){let e=`${r}/archives/backup/list`;return this.http.get(e,{headers:this.getHeaders()})}downloadBackup(e){let t=`${r}/archives/backup/download/${e}`;return this.http.get(t,{headers:this.getHeaders(),responseType:"blob"})}};a.\u0275fac=function(t){return new(t||a)(c(o),c(u))},a.\u0275prov=p({token:a,factory:a.\u0275fac,providedIn:"root"});let n=a;return n})();export{L as a};
