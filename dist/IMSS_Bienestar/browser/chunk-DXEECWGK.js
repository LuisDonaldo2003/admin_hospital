import{a as Dt}from"./chunk-4MUWVQZ3.js";import{a as ot}from"./chunk-NRL4JHSN.js";import{a as Z}from"./chunk-DHAPD6OD.js";import{Cb as Et,o as J,p as Q}from"./chunk-DPT7PEQW.js";import"./chunk-F2ICCPYY.js";import"./chunk-J42P6XQ7.js";import{U as gt,W as ft}from"./chunk-VGV4PYU3.js";import{a as C}from"./chunk-53SADUUO.js";import{C as Ct,c as xt,g as bt,l as _t,s as wt,t as At,u as St}from"./chunk-TGRLCVBP.js";import"./chunk-WQVNDNHP.js";import{b as K,c as q,d as X}from"./chunk-6X77IDS4.js";import{a as $}from"./chunk-FAG66VBE.js";import{Ab as rt,Cc as vt,Ea as k,Ec as yt,Fb as B,Gb as M,Hb as H,Ia as z,Ib as W,Ja as N,Mb as U,Mc as ut,Na as f,Nc as O,Ob as F,Pb as mt,Qb as ht,Rb as h,Sb as v,T as lt,U as L,Ub as D,W as nt,X as dt,Xa as c,Ya as r,Z as _,Za as n,_ as w,_a as u,fb as R,hb as S,jb as y,kc as j,lc as G,mc as Y,tb as E,ub as T,va as a,vb as ct,xb as l,xc as P,yb as d,zb as A}from"./chunk-5AV27Q4N.js";import{a as pt,b as st}from"./chunk-6DGDWVBL.js";var Mt=(e,s,i)=>({t:e,s,v:i,ic:"fa-calendar-day"}),Ht=(e,s,i)=>({t:e,s,v:i,ic:"fa-layer-group"}),Ut=(e,s,i)=>({t:e,s,v:i,ic:"fa-chart-column"}),Pt=(e,s,i)=>({t:e,s,v:i,ic:"fa-database"}),Vt=(e,s,i,t)=>[e,s,i,t];function Ft(e,s){if(e&1&&(r(0,"div",37)(1,"div",38),u(2,"i",39),n(),r(3,"div",40)(4,"div",41),l(5),r(6,"small"),l(7),n()(),r(8,"div",42),l(9),n()()()),e&2){let i=s.$implicit;a(2),c("ngClass",i.ic),a(3),A("",i.t," "),a(2),d(i.s),a(2),d(i.v)}}function Lt(e,s){if(e&1&&(r(0,"div",43)(1,"div",44),u(2,"div",45)(3,"div",46),n(),r(4,"ul",47)(5,"li"),u(6,"span",48),l(7),h(8,"translate"),n(),r(9,"li"),u(10,"span",49),l(11),h(12,"translate"),n()()()),e&2){let i=y(2);a(2),T("width",i.byGender.male/(i.byGender.male+i.byGender.female)*100+"%"),a(),T("width",i.byGender.female/(i.byGender.male+i.byGender.female)*100+"%"),a(4),rt(" ",v(8,8,"DASHBOARD.DASHBOARD_ARCHIVE.MAN"),": ",i.byGender.male," "),a(4),rt(" ",v(12,10,"DASHBOARD.DASHBOARD_ARCHIVE.WOMAN"),": ",i.byGender.female)}}function zt(e,s){e&1&&(r(0,"div",50),l(1),h(2,"translate"),n()),e&2&&(a(),d(v(2,1,"DASHBOARD.DASHBOARD_ARCHIVE.NOT_DATES")))}function Nt(e,s){if(e&1&&(r(0,"div",53)(1,"div",54),l(2),n(),r(3,"div",55)(4,"div",56),l(5),n(),r(6,"div",57),u(7,"span",58),n()(),r(8,"div",59),l(9),n()()),e&2){let i=s.$implicit,t=s.index,o=y(3);a(2),d(t+1),a(2),c("title",i.state),a(),d(i.state),a(2),T("width",i.count/o.byState[0].count*100+"%"),a(2),d(i.count)}}function Wt(e,s){if(e&1&&(r(0,"div",51),f(1,Nt,10,6,"div",52),n()),e&2){let i=y(2);a(),c("ngForOf",i.byState)}}function jt(e,s){e&1&&(r(0,"div",50),l(1),h(2,"translate"),n()),e&2&&(a(),d(v(2,1,"DASHBOARD.DASHBOARD_ARCHIVE.NOT_REGISTERS")))}function Gt(e,s){e&1&&(r(0,"button",60),u(1,"i",61),r(2,"span"),l(3),h(4,"translate"),n()()),e&2&&(a(3),d(v(4,1,"DASHBOARD.DASHBOARD_ARCHIVE.NEW")))}function Yt(e,s){e&1&&(r(0,"button",62),u(1,"i",63),r(2,"span"),l(3),h(4,"translate"),n()()),e&2&&(a(3),d(v(4,1,"DASHBOARD.DASHBOARD_ARCHIVE.EXPORT")))}function $t(e,s){e&1&&(r(0,"button",64),u(1,"i",65),r(2,"span"),l(3),h(4,"translate"),n()()),e&2&&(a(3),d(v(4,1,"DASHBOARD.DASHBOARD_ARCHIVE.BACKUP")))}function Kt(e,s){if(e&1&&u(0,"apx-chart",70),e&2){let i=y(3);c("series",i.weeklyChart.series)("chart",i.weeklyChart.chart)("xaxis",i.weeklyChart.xaxis)("yaxis",i.weeklyChart.yaxis)("dataLabels",i.weeklyChart.dataLabels)("stroke",i.weeklyChart.stroke)("grid",i.weeklyChart.grid)("tooltip",i.weeklyChart.tooltip)("fill",i.weeklyChart.fill)}}function qt(e,s){if(e&1&&(r(0,"section",66)(1,"div",67)(2,"header",22)(3,"h3"),l(4),h(5,"translate"),n()(),r(6,"div",68),f(7,Kt,1,9,"apx-chart",69),n()()()),e&2){let i=y(2);a(4),d(v(5,2,"DASHBOARD.DASHBOARD_ARCHIVE.RECENT_REGISTERS")),a(3),c("ngIf",i.weeklyChart)}}function Xt(e,s){if(e&1&&u(0,"apx-chart",70),e&2){let i=y(3);c("series",i.monthlyChart.series)("chart",i.monthlyChart.chart)("xaxis",i.monthlyChart.xaxis)("yaxis",i.monthlyChart.yaxis)("dataLabels",i.monthlyChart.dataLabels)("stroke",i.monthlyChart.stroke)("grid",i.monthlyChart.grid)("tooltip",i.monthlyChart.tooltip)("fill",i.monthlyChart.fill)}}function Jt(e,s){if(e&1&&(r(0,"section",71)(1,"div",67)(2,"header",22)(3,"h3"),l(4,"Pacientes por mes (a\xF1o actual)"),n()(),r(5,"div",68),f(6,Xt,1,9,"apx-chart",69),n()()()),e&2){let i=y(2);a(6),c("ngIf",i.monthlyChart)}}function Qt(e,s){if(e&1&&(r(0,"div",76)(1,"div",77),l(2),n(),r(3,"div",78)(4,"div",79),u(5,"div",80),n()(),r(6,"div",81),l(7),n()()),e&2){let i=s.$implicit,t=y(3);ct("is-current",i.year===t.currentYear),a(2),d(i.year),a(3),T("width",t.yearPercent(i.count)+"%"),a(2),d(i.count)}}function Zt(e,s){if(e&1&&(r(0,"section",72)(1,"div",73)(2,"header",22)(3,"h3"),l(4,"Pacientes por a\xF1o"),n()(),r(5,"div",74),f(6,Qt,8,6,"div",75),n()()()),e&2){let i=y(2);a(6),c("ngForOf",i.yearlyCounts)}}function te(e,s){if(e&1&&(r(0,"div",82),l(1),n()),e&2){let i=y(2);a(),d(i.error)}}function ee(e,s){if(e&1){let i=R();r(0,"div",6)(1,"div",7)(2,"ul",8)(3,"li",9)(4,"a"),l(5),h(6,"translate"),n()(),r(7,"li",10),l(8),h(9,"translate"),n()(),r(10,"section",11)(11,"div",12)(12,"div",13)(13,"h1")(14,"span"),l(15),h(16,"translate"),n(),l(17),h(18,"translate"),n(),r(19,"p"),l(20),h(21,"translate"),n()(),r(22,"div",14)(23,"button",15),S("click",function(){_(i);let o=y();return w(o.loadStats())}),u(24,"i",16),n()()(),u(25,"div",17),n(),r(26,"section",18),f(27,Ft,10,4,"div",19),h(28,"translate"),h(29,"translate"),h(30,"translate"),h(31,"translate"),h(32,"translate"),h(33,"translate"),h(34,"translate"),h(35,"translate"),n(),r(36,"div",20)(37,"div",21)(38,"header",22)(39,"h3"),l(40),h(41,"translate"),n()(),f(42,Lt,13,12,"div",23)(43,zt,3,3,"ng-template",null,1,D),n(),r(45,"div",24)(46,"header",22)(47,"h3"),l(48),h(49,"translate"),n()(),f(50,Wt,2,1,"div",25)(51,jt,3,3,"ng-template",null,2,D),n(),r(53,"div",26)(54,"header",22)(55,"h3"),l(56),h(57,"translate"),n()(),r(58,"div",27),f(59,Gt,5,3,"button",28),r(60,"button",29),u(61,"i",30),r(62,"span"),l(63),h(64,"translate"),n()(),f(65,Yt,5,3,"button",31)(66,$t,5,3,"button",32),n()()(),f(67,qt,8,4,"section",33)(68,Jt,7,1,"section",34)(69,Zt,7,1,"section",35)(70,te,2,1,"div",36),n()()}if(e&2){let i=E(44),t=E(52),o=y();a(5),A("",v(6,21,"DASHBOARD.DASHBOARD_ARCHIVE.DASHBOARD")," >"),a(3),d(v(9,23,"DASHBOARD.DASHBOARD_ARCHIVE.ARCHIVE")),a(7),d(v(16,25,"DASHBOARD.DASHBOARD_ARCHIVE.ARCHIVE")),a(2),A(" | ",v(18,27,"DASHBOARD.DASHBOARD_ARCHIVE.SUMMARY")),a(3),d(v(21,29,"DASHBOARD.DASHBOARD_ARCHIVE.VISION")),a(7),c("ngForOf",mt(71,Vt,F(55,Mt,v(28,31,"DASHBOARD.DASHBOARD_ARCHIVE.TODAY"),v(29,33,"DASHBOARD.DASHBOARD_ARCHIVE.REGISTER"),o.stats.todayAdded),F(59,Ht,v(30,35,"DASHBOARD.DASHBOARD_ARCHIVE.WEEK"),v(31,37,"DASHBOARD.DASHBOARD_ARCHIVE.ACCUMULATED"),o.stats.weekAdded),F(63,Ut,v(32,39,"DASHBOARD.DASHBOARD_ARCHIVE.MONTH"),v(33,41,"DASHBOARD.DASHBOARD_ARCHIVE.ACCUMULATED"),o.stats.monthAdded),F(67,Pt,v(34,43,"DASHBOARD.DASHBOARD_ARCHIVE.TOTAL"),v(35,45,"DASHBOARD.DASHBOARD_ARCHIVE.HISTORICAL"),o.stats.totalArchives))),a(13),d(v(41,47,"DASHBOARD.DASHBOARD_ARCHIVE.DISTRIBUTION_BY_GENDER")),a(2),c("ngIf",o.byGender.male+o.byGender.female>0)("ngIfElse",i),a(6),d(v(49,49,"DASHBOARD.DASHBOARD_ARCHIVE.TOP_LOCATIONS")),a(2),c("ngIf",o.byState.length)("ngIfElse",t),a(6),d(v(57,51,"DASHBOARD.DASHBOARD_ARCHIVE.ACTIONS")),a(3),c("ngIf",o.canAdd()),a(4),d(v(64,53,"DASHBOARD.DASHBOARD_ARCHIVE.LIST")),a(2),c("ngIf",o.canExport()),a(),c("ngIf",o.canBackup()),a(),c("ngIf",o.weeklyChart),a(),c("ngIf",o.monthlyChart),a(),c("ngIf",o.yearlyCounts==null?null:o.yearlyCounts.length),a(),c("ngIf",o.error)}}function ie(e,s){e&1&&(r(0,"div",6)(1,"div",83)(2,"div",84),l(3),h(4,"translate"),n()()()),e&2&&(a(3),d(v(4,1,"DASHBOARD.DASHBOARD_ARCHIVE.STATISTICS_LOADING")))}var et=(()=>{let s=class s{constructor(t,o,p){this.archiveService=t,this.translate=o,this.driverTourService=p,this.routes=$,this.todayDate=new Date,this.currentYear=new Date().getFullYear(),this.stats={todayAdded:0,weekAdded:0,monthAdded:0,totalArchives:0},this.loading=!0,this.error=null,this.byGender={male:0,female:0},this.byState=[],this.weeklyCategories=[],this.weeklyCounts=[],this.weeklyChart=null,this.monthlyChart=null,this.yearlyCounts=[],this.yearlyMax=0,this.permissionService=dt(gt)}ngOnInit(){this.loadStats()}loadStats(){this.loading=!0,this.archiveService.getArchiveStats().subscribe({next:t=>{t?.stats&&(this.stats=t.stats),t?.byGender&&(this.byGender=t.byGender),t?.topLocations&&(this.byState=t.topLocations.map(p=>({state:p.name,count:p.count})));let o=t?.dailySeries||t?.dailyTrend||t?.last7Days||t?.daily||null;this.prepareWeeklyChart(o),this.prepareMonthlyChart(t?.monthlyCounts||t?.perMonth||null),this.yearlyCounts=Array.isArray(t?.yearlyCounts)?[...t.yearlyCounts].sort((p,m)=>p.year-m.year):[],this.yearlyMax=this.yearlyCounts.length?Math.max(...this.yearlyCounts.map(p=>Number(p.count||0))):0,this.loading=!1},error:t=>{this.error=t?.error?.message||"Error cargando estad\xEDsticas",this.loading=!1}})}startArchiveDashboardTour(){this.driverTourService.startArchiveDashboardTour()}prepareWeeklyChart(t){let o=new Date,p=[];for(let m=6;m>=0;m--){let x=new Date(o);x.setDate(o.getDate()-m);let g=x.toISOString().substring(0,10);p.push({date:g,count:0})}Array.isArray(t)&&t.forEach(m=>{let x=(m.date||m.day||m.fecha||"").toString().substring(0,10),g=p.find(I=>I.date===x);g&&(g.count=Number(m.count||m.total||m.value||0))}),this.weeklyCategories=p.map(m=>this.formatShortDate(m.date)),this.weeklyCounts=p.map(m=>m.count),this.weeklyChart={series:[{name:"Registros",data:this.weeklyCounts}],chart:{type:"area",height:240,sparkline:{enabled:!1},toolbar:{show:!1},animations:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},xaxis:{categories:this.weeklyCategories,labels:{style:{colors:"#8fa2c2",fontSize:"11px"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{colors:"#8fa2c2",fontSize:"11px"}},forceNiceScale:!0,min:0},grid:{borderColor:"rgba(255,255,255,0.06)",strokeDashArray:4,xaxis:{lines:{show:!1}}},tooltip:{theme:"dark",x:{show:!0},y:{formatter:m=>m+" pacientes"}},fill:{type:"gradient",gradient:{shadeIntensity:.4,opacityFrom:.35,opacityTo:0,stops:[0,100]}}}}prepareMonthlyChart(t){let p=new Date().getFullYear(),m=Array.from({length:12},(b,V)=>V+1),x=new Map;Array.isArray(t)&&t.forEach(b=>{let V=Number(b.year??b.y),at=Number(b.month??b.m??b.month_number);V===p&&at>=1&&at<=12&&x.set(at,Number(b.count??b.total??0))});let g=m.map(b=>x.get(b)??0),I=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];this.monthlyChart={series:[{name:"Pacientes",data:g}],chart:{type:"bar",height:240,toolbar:{show:!1},animations:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},xaxis:{categories:I,labels:{style:{colors:"#8fa2c2",fontSize:"11px"}}},yaxis:{labels:{style:{colors:"#8fa2c2",fontSize:"11px"}},min:0},grid:{borderColor:"rgba(255,255,255,0.06)",strokeDashArray:4},tooltip:{theme:"dark",x:{show:!0},y:{formatter:b=>b+" pacientes"}},fill:{type:"gradient",gradient:{shadeIntensity:.3,opacityFrom:.3,opacityTo:0,stops:[0,100]}}}}yearPercent(t){let o=this.yearlyMax||1,p=Math.round(Number(t||0)/o*100);return Math.max(0,Math.min(100,p))}formatShortDate(t){return new Date(t+"T00:00:00").toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit"})}canAdd(){return this.permissionService.hasPermission("add_archive")}canExport(){return this.permissionService.hasPermission("export_archive")}canBackup(){return this.permissionService.hasPermission("backup_archive")}};s.\u0275fac=function(o){return new(o||s)(k(Dt),k(K),k(Z))},s.\u0275cmp=z({type:s,selectors:[["app-archive-dashboard"]],decls:6,vars:6,consts:[["loadingTpl",""],["noGender",""],["noLocations",""],["class","page-wrapper",4,"ngIf","ngIfElse"],["type","button",1,"tour-help-button",3,"click","title"],[1,"fa","fa-question"],[1,"page-wrapper"],[1,"content","archive-dash-new"],[1,"breadcrumb","mb-3"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"hero","mb-4"],[1,"hero-inner"],[1,"hero-text"],[1,"hero-meta"],[1,"btn","btn-refresh",3,"click"],[1,"fa","fa-rotate"],[1,"hero-bg"],[1,"kpi-grid","mb-4"],["class","kpi-card",4,"ngFor","ngForOf"],[1,"grid-panels","mb-4"],[1,"panel","panel-gender"],[1,"panel-hd"],["class","gender-wrap",4,"ngIf","ngIfElse"],[1,"panel","panel-locations"],["class","locations-list",4,"ngIf","ngIfElse"],[1,"panel","actions","panel-actions"],[1,"actions-grid"],["class","action","routerLink","/archives/add_archive",4,"ngIf"],["routerLink","/archives/list_archive",1,"action"],[1,"fa","fa-list"],["class","action","routerLink","/archives/export_archive",4,"ngIf"],["class","action","routerLink","/archives/backup_archive",4,"ngIf"],["class","weekly-chart",4,"ngIf"],["class","monthly-chart",4,"ngIf"],["class","yearly-summary",4,"ngIf"],["class","alert alert-danger py-2 px-3 small mb-0",4,"ngIf"],[1,"kpi-card"],[1,"kpi-icon"],[1,"fa",3,"ngClass"],[1,"kpi-body"],[1,"kpi-label"],[1,"kpi-value"],[1,"gender-wrap"],[1,"gender-bars"],["aria-label","Masculino",1,"bar"],["aria-label","Femenino",1,"bar","female"],[1,"legend"],[1,"dot","male"],[1,"dot","female"],[1,"empty"],[1,"locations-list"],["class","loc-item",4,"ngFor","ngForOf"],[1,"loc-item"],[1,"loc-rank"],[1,"loc-body"],[1,"loc-name",3,"title"],[1,"loc-meter"],[1,"meter-fill"],[1,"loc-count"],["routerLink","/archives/add_archive",1,"action"],[1,"fa","fa-plus"],["routerLink","/archives/export_archive",1,"action"],[1,"fa","fa-file-export"],["routerLink","/archives/backup_archive",1,"action"],[1,"fa","fa-database"],[1,"weekly-chart"],[1,"panel","panel-chart"],[1,"chart-wrapper"],[3,"series","chart","xaxis","yaxis","dataLabels","stroke","grid","tooltip","fill",4,"ngIf"],[3,"series","chart","xaxis","yaxis","dataLabels","stroke","grid","tooltip","fill"],[1,"monthly-chart"],[1,"yearly-summary"],[1,"panel","panel-yearly"],[1,"yearly-list"],["class","year-row",3,"is-current",4,"ngFor","ngForOf"],[1,"year-row"],[1,"col-year"],[1,"col-bar"],[1,"bar-outer"],[1,"bar-inner"],[1,"col-count"],[1,"alert","alert-danger","py-2","px-3","small","mb-0"],[1,"content"],[1,"text-center","py-5","text-muted"]],template:function(o,p){if(o&1){let m=R();f(0,ee,71,76,"div",3)(1,ie,5,3,"ng-template",null,0,D),r(3,"button",4),h(4,"translate"),S("click",function(){return _(m),w(p.startArchiveDashboardTour())}),u(5,"i",5),n()}if(o&2){let m=E(2);c("ngIf",!p.loading)("ngIfElse",m),a(3),c("title",W(v(4,4,"TOUR.HELP_BUTTON")))}},dependencies:[P,j,G,Y,O,ut,Q,J,X,q],styles:['@charset "UTF-8";.archive-dash-new[_ngcontent-%COMP%]{padding-left:clamp(.75rem,1.2vw,1rem);padding-right:clamp(.75rem,1.8vw,1.25rem);overflow-x:hidden}ul.breadcrumb[_ngcontent-%COMP%]{background:transparent;padding:0;margin:0 0 .75rem;list-style:none;display:flex;gap:.5rem;font-size:.8rem;text-transform:none}ul.breadcrumb[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{opacity:.85;color:#bcd0f0}ul.breadcrumb[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{opacity:1;color:#e6eeff}ul.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8fb4ff;text-decoration:none}.hero[_ngcontent-%COMP%]{position:relative;border-radius:16px;padding:1.5rem 1.25rem;background:linear-gradient(135deg,#1f2432,#12151d);border:1px solid #262c3a;overflow:hidden}.hero-inner[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between;gap:1rem}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .35rem;font-weight:700;font-size:1.5rem;color:#dfe7ff}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6ea8ff}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#9fb4d6;opacity:.9;font-size:.95rem}.btn-refresh[_ngcontent-%COMP%]{background:#222633;border:1px solid #2e3344;color:#6ea8ff;border-radius:10px;width:42px;height:42px;display:grid;place-items:center;transition:.2s}.btn-refresh[_ngcontent-%COMP%]:hover{background:#2a3040}.kpi-grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.kpi-card[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.9rem;background:#171a22;border:1px solid #232936;border-radius:14px;padding:1rem 1.1rem;transition:transform .2s ease,box-shadow .2s ease}.kpi-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 18px -10px #0009}.kpi-icon[_ngcontent-%COMP%]{width:48px;height:48px;flex:0 0 48px;border-radius:12px;display:grid;place-items:center;background:#1e2230;color:#6ea8ff;box-shadow:0 0 0 1px #2c3442 inset}.kpi-label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#9fb4d6}.kpi-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-left:.35rem;opacity:.8}.kpi-value[_ngcontent-%COMP%]{font-size:1.9rem;font-weight:800;line-height:1;letter-spacing:-.5px;color:#e8efff;margin-top:.25rem}.grid-panels[_ngcontent-%COMP%]{display:grid;gap:1.2rem;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));align-items:start}.panel[_ngcontent-%COMP%]{background:#171a22;border:1px solid #232936;border-radius:16px;padding:1rem 1.1rem 1.1rem}.panel-hd[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:.95rem;text-transform:uppercase;letter-spacing:.6px;color:#9fb4d6;font-weight:700}.gender-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.9rem}.gender-bars[_ngcontent-%COMP%]{position:relative;display:flex;height:18px;background:#0f1217;border-radius:9px;overflow:hidden;box-shadow:0 0 0 1px #252a37 inset}.gender-bars[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4d6bff,#6088ff)}.gender-bars[_ngcontent-%COMP%]   .female[_ngcontent-%COMP%]{background:linear-gradient(90deg,#0ac8b8,#2dd6c7)}.legend[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;gap:1rem;flex-wrap:wrap;font-size:.8rem;font-weight:600;color:#e8efff}.legend[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:.35rem;box-shadow:0 0 0 2px #fff,0 0 0 3px #ffffff0f}.legend[_ngcontent-%COMP%]   .male[_ngcontent-%COMP%]{background:#5576ff}.legend[_ngcontent-%COMP%]   .female[_ngcontent-%COMP%]{background:#0ac8b8}.empty[_ngcontent-%COMP%]{font-size:.85rem;opacity:.7;color:#a5b6cf}.locations-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6rem}.loc-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:32px 1fr 50px;gap:.75rem;align-items:center;background:#12141b;border:1px solid #222836;padding:.6rem .7rem;border-radius:12px}.loc-rank[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:10px;display:grid;place-items:center;background:#1d212a;color:#6ea8ff;font-weight:700;box-shadow:0 0 0 1px #2a3140 inset}.loc-body[_ngcontent-%COMP%]{min-width:0}.loc-name[_ngcontent-%COMP%]{color:#d9e2f5;font-weight:600;font-size:.85rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.loc-meter[_ngcontent-%COMP%]{height:6px;background:#212730;border-radius:4px;overflow:hidden;position:relative}.meter-fill[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(90deg,#6ea8ff,#2dd6c7)}.loc-count[_ngcontent-%COMP%]{text-align:right;color:#9fb4d6;font-weight:700}.actions-grid[_ngcontent-%COMP%]{display:grid;gap:.8rem;grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}.action[_ngcontent-%COMP%]{border:1px solid #2a3140;background:#14171e;border-radius:14px;padding:.85rem .55rem .7rem;font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.4px;display:flex;flex-direction:column;align-items:center;gap:.55rem;color:#b8c7e2;transition:.18s}.action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.05rem;color:#6ea8ff}.action[_ngcontent-%COMP%]:hover{background:#1d212a;color:#fff;box-shadow:0 6px 18px -8px #000;transform:translateY(-2px)}.weekly-chart[_ngcontent-%COMP%], .monthly-chart[_ngcontent-%COMP%]{margin-bottom:1.25rem}.yearly-summary[_ngcontent-%COMP%]{margin-top:.75rem}.panel-chart[_ngcontent-%COMP%]{min-height:200px}.chart-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:240px}.chart-wrapper[_ngcontent-%COMP%]     .apexcharts-tooltip{background:#1e222b!important;border:1px solid #2c3240!important}.chart-wrapper[_ngcontent-%COMP%]     .apexcharts-tooltip-title{background:#171b22!important;border-bottom:1px solid #2c3240!important}.panel-yearly[_ngcontent-%COMP%]{padding-top:.6rem}.yearly-list[_ngcontent-%COMP%]{display:grid;gap:.5rem}.year-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:72px 1fr 80px;gap:.6rem;align-items:center;background:#12141b;border:1px solid #222836;border-radius:12px;padding:.5rem .7rem}.year-row.is-current[_ngcontent-%COMP%]{outline:1px solid #2dd6c7;box-shadow:0 0 0 3px #2dd6c714 inset}.col-year[_ngcontent-%COMP%]{font-weight:800;color:#e8efff;letter-spacing:.3px}.col-count[_ngcontent-%COMP%]{text-align:right;font-weight:700;color:#9fb4d6}.bar-outer[_ngcontent-%COMP%]{position:relative;height:10px;background:#212730;border-radius:6px;overflow:hidden}.bar-inner[_ngcontent-%COMP%]{position:absolute;inset:0;width:0;background:linear-gradient(90deg,#6ea8ff,#2dd6c7);transition:width .6s ease}@media (max-width: 992px){.kpi-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.grid-panels[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}}@media (max-width: 576px){.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem}.kpi-value[_ngcontent-%COMP%]{font-size:1.6rem}.grid-panels[_ngcontent-%COMP%]{grid-template-columns:1fr}}']});let e=s;return e})();var It=(()=>{let s=class s{constructor(t,o){this.http=t,this.authService=o}getHeaders(){return new vt({Authorization:"Bearer "+this.authService.token})}getActivityStats(){let t=`${C}/user-activities/stats`;return this.http.get(t,{headers:this.getHeaders()})}getRecentActivities(t={},o=0,p=50){let m=new URLSearchParams;t.user_id&&m.append("user_id",t.user_id),t.action_type&&m.append("action_type",t.action_type),t.module&&m.append("module",t.module),t.date_from&&m.append("date_from",t.date_from),t.date_to&&m.append("date_to",t.date_to),t.search&&m.append("search",t.search),m.append("skip",o.toString()),m.append("limit",p.toString());let x=`${C}/user-activities?${m.toString()}`;return this.http.get(x,{headers:this.getHeaders()})}getActivitiesByUser(){let t=`${C}/user-activities/by-user`;return this.http.get(t,{headers:this.getHeaders()})}getActivitiesByModule(){let t=`${C}/user-activities/by-module`;return this.http.get(t,{headers:this.getHeaders()})}getActivitiesByActionType(){let t=`${C}/user-activities/by-action`;return this.http.get(t,{headers:this.getHeaders()})}getMostActiveUsers(t=10){let o=`${C}/user-activities/most-active?limit=${t}`;return this.http.get(o,{headers:this.getHeaders()})}logActivity(t){let o=`${C}/user-activities`;return this.http.post(o,t,{headers:this.getHeaders()})}getActivityDetail(t){let o=`${C}/user-activities/${t}`;return this.http.get(o,{headers:this.getHeaders()})}getUserActivities(t,o=0,p=50){let m=`${C}/user-activities/user/${t}?skip=${o}&limit=${p}`;return this.http.get(m,{headers:this.getHeaders()})}};s.\u0275fac=function(o){return new(o||s)(nt(yt),nt(ft))},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"root"});let e=s;return e})();var ne=e=>({tKey:"DASHBOARD.DASHBOARD_USER_ACTIVITIES.TODAY_ACTIVITIES",v:e,ic:"fa-calendar-day"}),re=e=>({tKey:"DASHBOARD.DASHBOARD_USER_ACTIVITIES.WEEK_ACTIVITIES",v:e,ic:"fa-layer-group"}),oe=e=>({tKey:"DASHBOARD.DASHBOARD_USER_ACTIVITIES.MONTH_ACTIVITIES",v:e,ic:"fa-chart-column"}),pe=e=>({tKey:"DASHBOARD.DASHBOARD_USER_ACTIVITIES.TOTAL_ACTIVITIES",v:e,ic:"fa-database"}),se=e=>({tKey:"DASHBOARD.DASHBOARD_USER_ACTIVITIES.ACTIVE_USERS",v:e,ic:"fa-users"}),le=(e,s,i,t,o)=>[e,s,i,t,o];function de(e,s){if(e&1&&(r(0,"div",80)(1,"div",81),u(2,"i",82),n(),r(3,"div",83)(4,"div",84),l(5),h(6,"translate"),n(),r(7,"div",85),l(8),n()()()),e&2){let i=s.$implicit;a(2),c("ngClass",i.ic),a(3),d(v(6,3,i.tKey)),a(3),d(i.v)}}function ce(e,s){if(e&1&&(r(0,"div",88)(1,"div",89),l(2),n(),r(3,"div",90)(4,"div",91),l(5),n(),r(6,"div",92),u(7,"span",93),n()(),r(8,"div",94),l(9),n()()),e&2){let i=s.$implicit,t=s.index,o=y(3);a(2),d(t+1),a(2),c("title",i.module),a(),d(o.getModuleLabel(i.module)),a(2),T("width",i.count/o.activitiesByModule[0].count*100+"%"),a(2),d(i.count)}}function me(e,s){if(e&1&&(r(0,"div",86),f(1,ce,10,6,"div",87),n()),e&2){let i=y(2);a(),c("ngForOf",i.activitiesByModule)}}function he(e,s){e&1&&(r(0,"div",95),l(1,"Sin datos de m\xF3dulos"),n())}function ve(e,s){if(e&1&&(r(0,"div",98)(1,"div",99),l(2),n(),r(3,"div",100)(4,"div",101),l(5),n(),r(6,"div",102),u(7,"span",103),n()(),r(8,"div",104),l(9),n()()),e&2){let i=s.$implicit,t=s.index,o=y(3);a(2),d(t+1),a(2),c("title",i.user_name),a(),d(i.user_name),a(2),T("width",i.count/o.mostActiveUsers[0].count*100+"%"),a(2),d(i.count)}}function ye(e,s){if(e&1&&(r(0,"div",96),f(1,ve,10,6,"div",97),n()),e&2){let i=y(2);a(),c("ngForOf",i.mostActiveUsers)}}function ue(e,s){e&1&&(r(0,"div",95),l(1,"Sin datos de usuarios"),n())}function ge(e,s){if(e&1&&(r(0,"div",105)(1,"div",106),u(2,"i",82),n(),r(3,"div",107)(4,"div",108),l(5),n(),r(6,"div",109),l(7),n()(),r(8,"div",110),l(9),n()()),e&2){let i=s.$implicit;a(2),c("ngClass",i.icon),a(3),d(i.label),a(2),A("",i.h,"h"),a(2),d(i.count)}}function fe(e,s){if(e&1&&(r(0,"div",111)(1,"div",112),l(2),n(),r(3,"div",113),l(4),n(),r(5,"div",114),l(6),n()()),e&2){let i=s.$implicit,t=y(2);a(2),d(i.user_name),a(2),d(i.description),a(2),d(t.formatDateTime(i.created_at))}}function xe(e,s){e&1&&(r(0,"div",115),l(1," Sin actividades de creaci\xF3n "),n())}function be(e,s){if(e&1&&(r(0,"div",111)(1,"div",112),l(2),n(),r(3,"div",113),l(4),n(),r(5,"div",114),l(6),n()()),e&2){let i=s.$implicit,t=y(2);a(2),d(i.user_name),a(2),d(i.description),a(2),d(t.formatDateTime(i.created_at))}}function _e(e,s){e&1&&(r(0,"div",115),l(1," Sin actividades de visualizaci\xF3n "),n())}function we(e,s){if(e&1&&(r(0,"div",111)(1,"div",112),l(2),n(),r(3,"div",113),l(4),n(),r(5,"div",114),l(6),n()()),e&2){let i=s.$implicit,t=y(2);a(2),d(i.user_name),a(2),d(i.description),a(2),d(t.formatDateTime(i.created_at))}}function Ae(e,s){e&1&&(r(0,"div",115),l(1," Sin actividades de edici\xF3n "),n())}function Se(e,s){if(e&1&&(r(0,"div",111)(1,"div",112),l(2),n(),r(3,"div",113),l(4),n(),r(5,"div",114),l(6),n()()),e&2){let i=s.$implicit,t=y(2);a(2),d(i.user_name),a(2),d(i.description),a(2),d(t.formatDateTime(i.created_at))}}function Ce(e,s){e&1&&(r(0,"div",115),l(1," Sin actividades de eliminaci\xF3n "),n())}function Ee(e,s){if(e&1&&u(0,"apx-chart",120),e&2){let i=y(3);c("series",i.dailyChart.series)("chart",i.dailyChart.chart)("xaxis",i.dailyChart.xaxis)("yaxis",i.dailyChart.yaxis)("dataLabels",i.dailyChart.dataLabels)("stroke",i.dailyChart.stroke)("grid",i.dailyChart.grid)("tooltip",i.dailyChart.tooltip)("fill",i.dailyChart.fill)}}function De(e,s){if(e&1&&(r(0,"section",116)(1,"div",117)(2,"header",22)(3,"h3"),l(4),h(5,"translate"),n()(),r(6,"div",118),f(7,Ee,1,9,"apx-chart",119),n()()()),e&2){let i=y(2);a(4),d(v(5,2,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.DAILY_CHART")),a(3),c("ngIf",i.dailyChart)}}function Ie(e,s){if(e&1&&u(0,"apx-chart",124),e&2){let i=y(3);c("series",i.moduleChart.series)("chart",i.moduleChart.chart)("xaxis",i.moduleChart.xaxis)("yaxis",i.moduleChart.yaxis)("dataLabels",i.moduleChart.dataLabels)("plotOptions",i.moduleChart.plotOptions)("stroke",i.moduleChart.stroke)("grid",i.moduleChart.grid)("tooltip",i.moduleChart.tooltip)("fill",i.moduleChart.fill)}}function ke(e,s){if(e&1&&(r(0,"section",121)(1,"div",117)(2,"header",22)(3,"h3"),l(4),h(5,"translate"),n()(),r(6,"div",122),f(7,Ie,1,10,"apx-chart",123),n()()()),e&2){let i=y(2);a(4),d(v(5,2,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.MODULE_CHART")),a(3),c("ngIf",i.moduleChart)}}function Te(e,s){if(e&1&&(r(0,"option",125),l(1),n()),e&2){let i=s.$implicit;c("value",i.value),a(),d(i.label)}}function Oe(e,s){if(e&1&&(r(0,"option",125),l(1),n()),e&2){let i=s.$implicit;c("value",i.value),a(),d(i.label)}}function Re(e,s){if(e&1&&(r(0,"div",128)(1,"div",129),u(2,"i",82),n(),r(3,"div",130)(4,"div",131)(5,"span",112),l(6),n(),r(7,"span",132),l(8),n(),r(9,"span",133),l(10),n()(),r(11,"div",134),l(12),n(),r(13,"div",135)(14,"span",114),l(15),n()()()()),e&2){let i=s.$implicit,t=y(3);a(2),c("ngClass",t.getActionIcon(i.action_type)),a(4),d(i.user_name),a(),c("ngClass",t.getActionClass(i.action_type)),a(),A(" ",t.getActionTypeLabel(i.action_type)," "),a(2),d(t.getModuleLabel(i.module)),a(2),d(i.description),a(3),d(t.formatDateTime(i.created_at))}}function Be(e,s){if(e&1&&(r(0,"div",126),f(1,Re,16,7,"div",127),n()),e&2){let i=y(2);a(),c("ngForOf",i.recentActivities)}}function Me(e,s){e&1&&(r(0,"div",95),l(1),h(2,"translate"),n()),e&2&&(a(),d(v(2,1,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.NO_ACTIVITIES")))}function He(e,s){if(e&1&&(r(0,"div",136),l(1),n()),e&2){let i=y(2);a(),d(i.error)}}function Ue(e,s){if(e&1){let i=R();r(0,"div",7)(1,"div",8)(2,"ul",9)(3,"li",10)(4,"a"),l(5),h(6,"translate"),n()(),r(7,"li",11),l(8),h(9,"translate"),n()(),r(10,"section",12)(11,"div",13)(12,"div",14)(13,"h1")(14,"span"),l(15),h(16,"translate"),n(),l(17),h(18,"translate"),n(),r(19,"p"),l(20),h(21,"translate"),n()(),r(22,"div",15)(23,"button",16),S("click",function(){_(i);let o=y();return w(o.loadStats())}),u(24,"i",17),n()()()(),r(25,"section",18),f(26,de,9,5,"div",19),n(),r(27,"div",20)(28,"div",21)(29,"header",22)(30,"h3"),l(31),h(32,"translate"),n()(),r(33,"div",23)(34,"div",24)(35,"div",25),u(36,"i",26),n(),r(37,"div",27)(38,"div",28),l(39),h(40,"translate"),n(),r(41,"div",29),l(42),n(),r(43,"div",30),l(44),n()()(),r(45,"div",31)(46,"div",25),u(47,"i",32),n(),r(48,"div",27)(49,"div",28),l(50),h(51,"translate"),n(),r(52,"div",29),l(53),n(),r(54,"div",30),l(55),n()()(),r(56,"div",33)(57,"div",25),u(58,"i",34),n(),r(59,"div",27)(60,"div",28),l(61),h(62,"translate"),n(),r(63,"div",29),l(64),n(),r(65,"div",30),l(66),n()()(),r(67,"div",35)(68,"div",25),u(69,"i",36),n(),r(70,"div",27)(71,"div",28),l(72),h(73,"translate"),n(),r(74,"div",29),l(75),n(),r(76,"div",30),l(77),n()()()()(),r(78,"div",37)(79,"header",22)(80,"h3"),l(81),h(82,"translate"),n()(),f(83,me,2,1,"div",38)(84,he,2,0,"ng-template",null,1,D),n(),r(86,"div",39)(87,"header",22)(88,"h3"),l(89),h(90,"translate"),n()(),f(91,ye,2,1,"div",40)(92,ue,2,0,"ng-template",null,2,D),n(),r(94,"div",41)(95,"header",22)(96,"h3"),l(97),h(98,"translate"),n()(),r(99,"div",42),f(100,ge,10,4,"div",43),n()()(),r(101,"section",44)(102,"div",45)(103,"div",46)(104,"div",47)(105,"header",48)(106,"h4"),u(107,"i",49),l(108),h(109,"translate"),n(),r(110,"span",50),l(111),n()(),r(112,"div",51),f(113,fe,7,3,"div",52)(114,xe,2,0,"div",53),n()()(),r(115,"div",46)(116,"div",54)(117,"header",55)(118,"h4"),u(119,"i",56),l(120),h(121,"translate"),n(),r(122,"span",50),l(123),n()(),r(124,"div",51),f(125,be,7,3,"div",52)(126,_e,2,0,"div",53),n()()(),r(127,"div",46)(128,"div",57)(129,"header",58)(130,"h4"),u(131,"i",59),l(132),h(133,"translate"),n(),r(134,"span",50),l(135),n()(),r(136,"div",51),f(137,we,7,3,"div",52)(138,Ae,2,0,"div",53),n()()(),r(139,"div",46)(140,"div",60)(141,"header",61)(142,"h4"),u(143,"i",62),l(144),h(145,"translate"),n(),r(146,"span",50),l(147),n()(),r(148,"div",51),f(149,Se,7,3,"div",52)(150,Ce,2,0,"div",53),n()()()()(),f(151,De,8,4,"section",63)(152,ke,8,4,"section",64),r(153,"section",65)(154,"div",66)(155,"header",22)(156,"h3"),l(157),h(158,"translate"),n(),r(159,"div",67)(160,"button",68),S("click",function(){_(i);let o=y();return w(o.clearFilters())}),u(161,"i",69),l(162),h(163,"translate"),n()()(),r(164,"div",70)(165,"div",45)(166,"div",71)(167,"select",72),H("ngModelChange",function(o){_(i);let p=y();return M(p.filters.action_type,o)||(p.filters.action_type=o),w(o)}),S("change",function(){_(i);let o=y();return w(o.applyFilters())}),f(168,Te,2,2,"option",73),n()(),r(169,"div",71)(170,"select",72),H("ngModelChange",function(o){_(i);let p=y();return M(p.filters.module,o)||(p.filters.module=o),w(o)}),S("change",function(){_(i);let o=y();return w(o.applyFilters())}),f(171,Oe,2,2,"option",73),n()(),r(172,"div",71)(173,"input",74),H("ngModelChange",function(o){_(i);let p=y();return M(p.filters.date_from,o)||(p.filters.date_from=o),w(o)}),S("change",function(){_(i);let o=y();return w(o.applyFilters())}),n()(),r(174,"div",71)(175,"input",75),H("ngModelChange",function(o){_(i);let p=y();return M(p.filters.date_to,o)||(p.filters.date_to=o),w(o)}),S("change",function(){_(i);let o=y();return w(o.applyFilters())}),n()(),r(176,"div",76)(177,"input",77),H("ngModelChange",function(o){_(i);let p=y();return M(p.filters.search,o)||(p.filters.search=o),w(o)}),S("keyup.enter",function(){_(i);let o=y();return w(o.applyFilters())}),n()()()(),f(178,Be,2,1,"div",78)(179,Me,3,3,"ng-template",null,3,D),n()(),f(181,He,2,1,"div",79),n()()}if(e&2){let i=E(85),t=E(93),o=E(180),p=y();a(5),A("",v(6,57,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.TITLE")," >"),a(3),d(v(9,59,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.SUBTITLE")),a(7),d(v(16,61,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.DASHBOARD")),a(2),A(" | ",v(18,63,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.HISTORY")),a(3),d(v(21,65,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.DESCRIPTION")),a(6),c("ngForOf",ht(105,le,U(95,ne,p.stats.todayActivities),U(97,re,p.stats.weekActivities),U(99,oe,p.stats.monthActivities),U(101,pe,p.stats.totalActivities),U(103,se,p.stats.activeUsers))),a(5),A("",v(32,67,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.ACTIVITY_TYPES")," "),a(8),d(v(40,69,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.CREATE")),a(3),d(p.activityTypeStats.CREATE.count),a(2),A("",p.activityTypeStats.CREATE.percentage,"%"),a(6),d(v(51,71,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.READ")),a(3),d(p.activityTypeStats.READ.count),a(2),A("",p.activityTypeStats.READ.percentage,"%"),a(6),d(v(62,73,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.UPDATE")),a(3),d(p.activityTypeStats.UPDATE.count),a(2),A("",p.activityTypeStats.UPDATE.percentage,"%"),a(6),d(v(73,75,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.DELETE")),a(3),d(p.activityTypeStats.DELETE.count),a(2),A("",p.activityTypeStats.DELETE.percentage,"%"),a(4),d(v(82,77,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.MOST_ACTIVE_MODULES")),a(2),c("ngIf",p.activitiesByModule.length)("ngIfElse",i),a(6),d(v(90,79,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.MOST_ACTIVE_USERS")),a(2),c("ngIf",p.mostActiveUsers&&p.mostActiveUsers.length)("ngIfElse",t),a(6),d(v(98,81,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.HOURLY_STATS")),a(3),c("ngForOf",p.hourlyStats),a(8),d(v(109,83,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.CREATE")),a(3),d(p.separatedActivities.CREATE.length),a(2),c("ngForOf",p.separatedActivities.CREATE.slice(0,5)),a(),c("ngIf",p.separatedActivities.CREATE.length===0),a(6),d(v(121,85,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.READ")),a(3),d(p.separatedActivities.READ.length),a(2),c("ngForOf",p.separatedActivities.READ.slice(0,5)),a(),c("ngIf",p.separatedActivities.READ.length===0),a(6),d(v(133,87,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.UPDATE")),a(3),d(p.separatedActivities.UPDATE.length),a(2),c("ngForOf",p.separatedActivities.UPDATE.slice(0,5)),a(),c("ngIf",p.separatedActivities.UPDATE.length===0),a(6),d(v(145,89,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.DELETE")),a(3),d(p.separatedActivities.DELETE.length),a(2),c("ngForOf",p.separatedActivities.DELETE.slice(0,5)),a(),c("ngIf",p.separatedActivities.DELETE.length===0),a(),c("ngIf",p.dailyChart),a(),c("ngIf",p.moduleChart),a(5),A(" ",v(158,91,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.RECENT_ACTIVITIES")),a(5),A(" ",v(163,93,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.CLEAR_FILTERS")," "),a(5),B("ngModel",p.filters.action_type),a(),c("ngForOf",p.actionTypes),a(2),B("ngModel",p.filters.module),a(),c("ngForOf",p.moduleOptions),a(2),B("ngModel",p.filters.date_from),a(2),B("ngModel",p.filters.date_to),a(2),B("ngModel",p.filters.search),a(),c("ngIf",p.recentActivities.length)("ngIfElse",o),a(3),c("ngIf",p.error)}}function Pe(e,s){e&1&&(r(0,"div",7)(1,"div",137)(2,"div",138),l(3),h(4,"translate"),n()()()),e&2&&(a(3),d(v(4,1,"DASHBOARD.DASHBOARD_USER_ACTIVITIES.LOADING")))}var it=(()=>{let s=class s{get hourlyStats(){let t=this.calculateHourlyActivities();return[{h:"00-06",label:"Madrugada",count:t.dawn,icon:"fa-moon"},{h:"06-12",label:"Ma\xF1ana",count:t.morning,icon:"fa-sun"},{h:"12-18",label:"Tarde",count:t.afternoon,icon:"fa-cloud-sun"},{h:"18-24",label:"Noche",count:t.night,icon:"fa-moon"}]}calculateHourlyActivities(){let t={dawn:0,morning:0,afternoon:0,night:0},o=new Date;return this.recentActivities.forEach(p=>{try{let m=new Date(p.created_at);if(isNaN(m.getTime())){console.warn("Fecha inv\xE1lida:",p.created_at);return}if(m.getFullYear()===o.getFullYear()&&m.getMonth()===o.getMonth()&&m.getDate()===o.getDate()){let g=m.getHours();g>=0&&g<6?t.dawn++:g>=6&&g<12?t.morning++:g>=12&&g<18?t.afternoon++:g>=18&&g<24&&t.night++}}catch(m){console.error("Error procesando actividad:",p,m)}}),t}constructor(t,o,p){this.userActivityService=t,this.translate=o,this.driverTourService=p,this.routes=$,this.todayDate=new Date,this.currentYear=new Date().getFullYear(),this.stats={todayActivities:0,weekActivities:0,monthActivities:0,totalActivities:0,activeUsers:0,mostActiveUser:""},this.loading=!0,this.error=null,this.recentActivities=[],this.activitiesByUser=[],this.activitiesByModule=[],this.activitiesByAction=[],this.separatedActivities={CREATE:[],READ:[],UPDATE:[],DELETE:[]},this.activityTypeStats={CREATE:{count:0,percentage:0,color:"#28a745"},READ:{count:0,percentage:0,color:"#17a2b8"},UPDATE:{count:0,percentage:0,color:"#ffc107"},DELETE:{count:0,percentage:0,color:"#dc3545"}},this.mostActiveUsersByAction={CREATE:[],READ:[],UPDATE:[],DELETE:[]},this.mostActiveUsers=[],this.filters={action_type:"",module:"",date_from:"",date_to:"",search:""},this.dailyChart=null,this.moduleChart=null,this.actionTypes=[{value:"",label:"Todos los tipos"},{value:"create",label:"Crear"},{value:"read",label:"Ver"},{value:"update",label:"Editar"},{value:"delete",label:"Eliminar"},{value:"login",label:"Iniciar sesi\xF3n"},{value:"logout",label:"Cerrar sesi\xF3n"},{value:"export",label:"Exportar"},{value:"import",label:"Importar"}],this.moduleOptions=[{value:"",label:"Todos los m\xF3dulos"},{value:"Staff",label:"Personal (Staff)"},{value:"ContractType",label:"Tipos de Contrato"},{value:"Personal",label:"Personal"},{value:"Archive",label:"Archivo M\xE9dico"},{value:"Role",label:"Roles"},{value:"RoleFamily",label:"Familias de Roles"},{value:"Profile",label:"Perfiles"},{value:"Departament",label:"Departamentos"},{value:"Credit",label:"Cr\xE9ditos"},{value:"OrganizationChart",label:"Organigrama"},{value:"PDFCompressor",label:"Compresor de PDF"},{value:"Assistant",label:"Asistentes"},{value:"Area",label:"\xC1reas"},{value:"Evaluation",label:"Evaluaciones"},{value:"Modality",label:"Modalidades"},{value:"Stakeholding",label:"Participaciones"},{value:"Assistants",label:"Asistentes"},{value:"Areas",label:"\xC1reas"},{value:"Evaluations",label:"Evaluaciones"},{value:"Modalities",label:"Modalidades"},{value:"Stakeholdings",label:"Participaciones"},{value:"Teachings",label:"Ense\xF1anza"},{value:"staff",label:"Personal (Staff)"},{value:"contractType",label:"Tipos de Contrato"},{value:"personal",label:"Personal"},{value:"archive",label:"Archivo"},{value:"role",label:"Roles"},{value:"roleFamily",label:"Familias de Roles"},{value:"profile",label:"Perfiles"},{value:"departament",label:"Departamentos"},{value:"credit",label:"Cr\xE9ditos"},{value:"organizationChart",label:"Organigrama"},{value:"assistant",label:"Asistentes"},{value:"assistants",label:"Asistentes"},{value:"area",label:"\xC1reas"},{value:"areas",label:"\xC1reas"},{value:"evaluation",label:"Evaluaciones"},{value:"evaluations",label:"Evaluaciones"},{value:"modality",label:"Modalidades"},{value:"modalities",label:"Modalidades"},{value:"stakeholding",label:"Participaciones"},{value:"stakeholdings",label:"Participaciones"},{value:"users",label:"Usuarios"},{value:"reports",label:"Reportes"},{value:"config",label:"Configuraci\xF3n"},{value:"backup",label:"Respaldos"}]}startUserActivityDashboardTour(){this.driverTourService.startUserActivityDashboardTour()}ngOnInit(){this.loadStats(),this.loadRecentActivities()}loadStats(){this.loading=!0,this.userActivityService.getActivityStats().subscribe({next:t=>{t?.stats&&(this.stats=t.stats),this.loadActivitiesByUser(),this.loadActivitiesByModule(),this.loadActivitiesByAction(),this.loadMostActiveUsers(),this.prepareDailyChart(t?.dailySeries||[]),this.loading=!1},error:t=>{this.error=t?.error?.message||"Error cargando estad\xEDsticas",this.loading=!1}})}loadRecentActivities(){this.userActivityService.getRecentActivities(this.filters,0,100).subscribe({next:t=>{this.recentActivities=t?.activities||t?.data||[],this.processSeparatedActivities()},error:t=>{console.error("Error loading recent activities:",t)}})}loadActivitiesByUser(){this.userActivityService.getActivitiesByUser().subscribe({next:t=>{this.activitiesByUser=t?.data||[]},error:t=>{console.error("Error loading activities by user:",t)}})}loadActivitiesByModule(){this.userActivityService.getActivitiesByModule().subscribe({next:t=>{this.activitiesByModule=t?.data||[],this.prepareModuleChart()},error:t=>{console.error("Error loading activities by module:",t)}})}loadActivitiesByAction(){this.userActivityService.getActivitiesByActionType().subscribe({next:t=>{this.activitiesByAction=(t?.data||[]).map((o,p)=>st(pt({},o),{color:this.getActionColor(o.action_type,p)}))},error:t=>{console.error("Error loading activities by action:",t)}})}loadMostActiveUsers(){this.userActivityService.getMostActiveUsers(10).subscribe({next:t=>{this.mostActiveUsers=t?.data||[]},error:t=>{console.error("Error loading most active users:",t)}})}prepareDailyChart(t){let o=new Date,p=[];for(let g=6;g>=0;g--){let I=new Date(o);I.setDate(o.getDate()-g);let b=I.toISOString().substring(0,10);p.push({date:b,count:0})}Array.isArray(t)&&t.forEach(g=>{let I=(g.date||g.day||g.fecha||"").toString().substring(0,10),b=p.find(V=>V.date===I);b&&(b.count=Number(g.count||g.total||g.value||0))});let m=p.map(g=>this.formatShortDate(g.date)),x=p.map(g=>g.count);this.dailyChart={series:[{name:"Actividades",data:x}],chart:{type:"area",height:280,sparkline:{enabled:!1},toolbar:{show:!1},animations:{enabled:!0,speed:600},background:"transparent",foreColor:"#495057"},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3,colors:["#3498db"]},xaxis:{categories:m,labels:{style:{colors:Array(m.length).fill("#6c757d"),fontSize:"12px",fontWeight:400}},axisBorder:{show:!0,color:"#dee2e6"},axisTicks:{show:!0,color:"#dee2e6"}},yaxis:{labels:{style:{colors:["#6c757d"],fontSize:"12px",fontWeight:400}},forceNiceScale:!0,min:0},grid:{borderColor:"#e9ecef",strokeDashArray:2,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},tooltip:{theme:"light",style:{fontSize:"12px",fontFamily:"Segoe UI, sans-serif"},x:{show:!0},y:{formatter:g=>g+" actividades"},marker:{show:!0}},fill:{type:"gradient",gradient:{shade:"light",type:"vertical",shadeIntensity:.3,gradientToColors:["rgba(52, 152, 219, 0.1)"],opacityFrom:.5,opacityTo:.1,stops:[0,100]}}}}prepareModuleChart(){if(!this.activitiesByModule.length)return;let t=this.activitiesByModule.map(p=>this.getModuleLabel(p.module)),o=this.activitiesByModule.map(p=>p.count);this.moduleChart={series:[{name:"Actividades",data:o}],chart:{type:"bar",height:320,toolbar:{show:!1},animations:{enabled:!0,speed:600},background:"transparent",foreColor:"#495057"},plotOptions:{bar:{horizontal:!0,borderRadius:4,borderRadiusApplication:"end",barHeight:"60%",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,style:{colors:["#ffffff"],fontWeight:600,fontSize:"11px"}},stroke:{width:0},xaxis:{categories:t,labels:{style:{colors:Array(t.length).fill("#6c757d"),fontSize:"12px",fontWeight:400}},axisBorder:{show:!0,color:"#dee2e6"},axisTicks:{show:!0,color:"#dee2e6"}},yaxis:{labels:{style:{colors:["#6c757d"],fontSize:"12px",fontWeight:400}}},grid:{borderColor:"#e9ecef",strokeDashArray:2,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},tooltip:{theme:"light",style:{fontSize:"12px",fontFamily:"Segoe UI, sans-serif"},y:{formatter:p=>p+" actividades"},marker:{show:!0}},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.2,gradientToColors:["#2980b9"],opacityFrom:.8,opacityTo:.6,stops:[0,100]},colors:["#3498db"]}}}applyFilters(){this.loadRecentActivities()}clearFilters(){this.filters={action_type:"",module:"",date_from:"",date_to:"",search:""},this.loadRecentActivities()}getActionColor(t,o){return{create:"#28a745",read:"#17a2b8",update:"#ffc107",delete:"#dc3545",login:"#007bff",logout:"#6c757d",export:"#e83e8c",import:"#20c997"}[t]||["#6f42c1","#fd7e14","#e83e8c"][o%3]}formatShortDate(t){return new Date(t+"T00:00:00").toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit"})}formatDateTime(t){return new Date(t).toLocaleDateString("es-MX",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}getActionTypeLabel(t){let o=this.actionTypes.find(p=>p.value===t);return o?o.label:t}getModuleLabel(t){let o=this.moduleOptions.find(p=>p.value===t);return o?o.label:t}getActionIcon(t){return{create:"fa-plus",read:"fa-eye",update:"fa-edit",delete:"fa-trash",login:"fa-sign-in-alt",logout:"fa-sign-out-alt",export:"fa-download",import:"fa-upload"}[t]||"fa-cog"}getActionClass(t){return{create:"badge-success",read:"badge-info",update:"badge-warning",delete:"badge-danger",login:"badge-primary",logout:"badge-secondary",export:"badge-purple",import:"badge-teal"}[t]||"badge-secondary"}processSeparatedActivities(){this.separatedActivities={CREATE:[],READ:[],UPDATE:[],DELETE:[]},this.activityTypeStats={CREATE:{count:0,percentage:0,color:"#28a745"},READ:{count:0,percentage:0,color:"#17a2b8"},UPDATE:{count:0,percentage:0,color:"#ffc107"},DELETE:{count:0,percentage:0,color:"#dc3545"}},this.recentActivities.forEach(o=>{let p=o.action_type?.toUpperCase();this.separatedActivities[p]&&(this.separatedActivities[p].push(o),this.activityTypeStats[p].count++)});let t=this.recentActivities.length;t>0&&Object.keys(this.activityTypeStats).forEach(o=>{let p=o;this.activityTypeStats[p].percentage=Math.round(this.activityTypeStats[p].count/t*100)}),this.processMostActiveUsersByAction()}processMostActiveUsersByAction(){Object.keys(this.separatedActivities).forEach(t=>{let o=this.separatedActivities[t],p={};o.forEach(m=>{let x=m.user_name;p[x]||(p[x]={count:0,user_name:x,role:m.role||"Usuario"}),p[x].count++}),this.mostActiveUsersByAction[t]=Object.values(p).sort((m,x)=>x.count-m.count).slice(0,5)})}getActivityPercentage(t){return this.activityTypeStats[t]?.percentage||0}getActivityColor(t){return this.activityTypeStats[t]?.color||"#6c757d"}};s.\u0275fac=function(o){return new(o||s)(k(It),k(K),k(Z))},s.\u0275cmp=z({type:s,selectors:[["app-user-activity-dashboard"]],decls:6,vars:6,consts:[["loadingTpl",""],["noModules",""],["noUsers",""],["noActivities",""],["class","page-wrapper",4,"ngIf","ngIfElse"],["type","button",1,"tour-help-button",3,"click","title"],[1,"fa","fa-question"],[1,"page-wrapper"],[1,"content","activity-dash-new"],[1,"breadcrumb","mb-3"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"hero","mb-4"],[1,"hero-inner"],[1,"hero-text"],[1,"hero-meta"],[1,"btn","btn-refresh",3,"click"],[1,"fa","fa-rotate"],[1,"kpi-grid","mb-4"],["class","kpi-card",4,"ngFor","ngForOf"],[1,"grid-panels","mb-4"],[1,"panel","panel-activity-stats"],[1,"panel-hd"],[1,"activity-types-grid"],[1,"activity-type-card","create-card"],[1,"activity-type-icon"],[1,"fa","fa-plus"],[1,"activity-type-body"],[1,"activity-type-label"],[1,"activity-type-count"],[1,"activity-type-percentage"],[1,"activity-type-card","read-card"],[1,"fa","fa-eye"],[1,"activity-type-card","update-card"],[1,"fa","fa-edit"],[1,"activity-type-card","delete-card"],[1,"fa","fa-trash"],[1,"panel","panel-modules"],["class","modules-list",4,"ngIf","ngIfElse"],[1,"panel","panel-top-users"],["class","users-list",4,"ngIf","ngIfElse"],[1,"panel","panel-hourly-stats"],[1,"hourly-stats"],["class","hour-item",4,"ngFor","ngForOf"],[1,"separated-activities","mb-4"],[1,"row"],[1,"col-lg-6","col-xl-3","mb-4"],[1,"panel","panel-create"],[1,"panel-hd","create-header"],[1,"fa","fa-plus","me-2"],[1,"activity-count-badge"],[1,"activities-list-compact"],["class","activity-item-compact",4,"ngFor","ngForOf"],["class","empty-compact",4,"ngIf"],[1,"panel","panel-read"],[1,"panel-hd","read-header"],[1,"fa","fa-eye","me-2"],[1,"panel","panel-update"],[1,"panel-hd","update-header"],[1,"fa","fa-edit","me-2"],[1,"panel","panel-delete"],[1,"panel-hd","delete-header"],[1,"fa","fa-trash","me-2"],["class","daily-chart",4,"ngIf"],["class","module-chart",4,"ngIf"],[1,"recent-activities"],[1,"panel"],[1,"panel-actions"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fa","fa-times"],[1,"filters-row","mb-3"],[1,"col-md-2"],[1,"form-control","form-control-sm",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","date","placeholder","Desde",1,"form-control","form-control-sm",3,"ngModelChange","change","ngModel"],["type","date","placeholder","Hasta",1,"form-control","form-control-sm",3,"ngModelChange","change","ngModel"],[1,"col-md-4"],["type","text","placeholder","Buscar en descripciones...",1,"form-control","form-control-sm",3,"ngModelChange","keyup.enter","ngModel"],["class","activities-list",4,"ngIf","ngIfElse"],["class","alert alert-danger py-2 px-3 small mb-0",4,"ngIf"],[1,"kpi-card"],[1,"kpi-icon"],[1,"fa",3,"ngClass"],[1,"kpi-body"],[1,"kpi-label"],[1,"kpi-value"],[1,"modules-list"],["class","module-item",4,"ngFor","ngForOf"],[1,"module-item"],[1,"module-rank"],[1,"module-body"],[1,"module-name",3,"title"],[1,"module-meter"],[1,"meter-fill"],[1,"module-count"],[1,"empty"],[1,"users-list"],["class","user-item",4,"ngFor","ngForOf"],[1,"user-item"],[1,"user-rank"],[1,"user-body"],[1,"user-name",3,"title"],[1,"user-meter"],[1,"meter-fill","user-fill"],[1,"user-count"],[1,"hour-item"],[1,"hour-icon"],[1,"hour-body"],[1,"hour-label"],[1,"hour-range"],[1,"hour-count"],[1,"activity-item-compact"],[1,"activity-user"],[1,"activity-desc"],[1,"activity-time"],[1,"empty-compact"],[1,"daily-chart"],[1,"panel","panel-chart"],[1,"chart-wrapper"],[3,"series","chart","xaxis","yaxis","dataLabels","stroke","grid","tooltip","fill",4,"ngIf"],[3,"series","chart","xaxis","yaxis","dataLabels","stroke","grid","tooltip","fill"],[1,"module-chart"],[1,"chart-wrapper",2,"height","320px !important"],[3,"series","chart","xaxis","yaxis","dataLabels","plotOptions","stroke","grid","tooltip","fill",4,"ngIf"],[3,"series","chart","xaxis","yaxis","dataLabels","plotOptions","stroke","grid","tooltip","fill"],[3,"value"],[1,"activities-list"],["class","activity-item",4,"ngFor","ngForOf"],[1,"activity-item"],[1,"activity-icon"],[1,"activity-content"],[1,"activity-header"],[1,"badge",3,"ngClass"],[1,"activity-module"],[1,"activity-description"],[1,"activity-meta"],[1,"alert","alert-danger","py-2","px-3","small","mb-0"],[1,"content"],[1,"text-center","py-5","text-muted"]],template:function(o,p){if(o&1){let m=R();f(0,Ue,182,111,"div",4)(1,Pe,5,3,"ng-template",null,0,D),r(3,"button",5),h(4,"translate"),S("click",function(){return _(m),w(p.startUserActivityDashboardTour())}),u(5,"i",6),n()}if(o&2){let m=E(2);c("ngIf",!p.loading)("ngIfElse",m),a(3),c("title",W(v(4,4,"TOUR.HELP_BUTTON")))}},dependencies:[P,j,G,Y,O,Q,J,X,Ct,At,St,xt,wt,bt,_t,q],styles:[`.activity-dash-new{padding-left:clamp(.75rem,1.2vw,1rem)!important;padding-right:clamp(.75rem,1.8vw,1.25rem)!important;overflow-x:hidden!important;background:transparent!important;min-height:auto!important}.activity-dash-new *{box-sizing:border-box}.activity-dash-new ul.breadcrumb{background:transparent!important;padding:0!important;margin:0 0 .75rem!important;list-style:none!important;display:flex!important;gap:.5rem;font-size:.8rem!important;text-transform:none!important;border:none!important;border-radius:0!important}.activity-dash-new ul.breadcrumb li{opacity:.85;color:#bcd0f0!important;background:transparent!important;border:none!important;padding:0!important;margin:0!important}.activity-dash-new ul.breadcrumb .active{opacity:1;color:#e6eeff!important;background:transparent!important}.activity-dash-new ul.breadcrumb a{color:#8fb4ff!important;text-decoration:none!important;background:transparent!important;border:none!important;padding:0!important}.activity-dash-new .hero{position:relative!important;border-radius:16px!important;padding:1.5rem 1.25rem!important;background:linear-gradient(135deg,#1f2432,#12151d)!important;border:1px solid #262c3a!important;overflow:hidden!important;margin-bottom:1.5rem!important;box-shadow:none!important}.activity-dash-new .hero .hero-inner{display:flex!important;align-items:flex-end!important;justify-content:space-between!important;gap:1rem!important}.activity-dash-new .hero .hero-text h1{margin:0 0 .35rem!important;font-weight:700!important;font-size:1.5rem!important;color:#dfe7ff!important;background:none!important;-webkit-text-fill-color:initial!important;text-shadow:none!important}.activity-dash-new .hero .hero-text h1 span{color:#6ea8ff!important;background:none!important;-webkit-text-fill-color:initial!important}.activity-dash-new .hero .hero-text p{margin:0!important;color:#9fb4d6!important;opacity:.9!important;font-size:.95rem!important;text-shadow:none!important}.activity-dash-new .hero .btn-refresh{background:#222633!important;border:1px solid #2e3344!important;color:#6ea8ff!important;border-radius:10px!important;width:42px!important;height:42px!important;display:grid!important;place-items:center!important;transition:.2s!important;box-shadow:none!important;padding:0!important}.activity-dash-new .hero .btn-refresh:hover{background:#2a3040!important;transform:none!important;box-shadow:none!important}.activity-dash-new .hero .btn-refresh:focus{box-shadow:none!important;outline:none!important}.activity-dash-new .kpi-grid{display:grid!important;gap:1rem!important;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))!important;margin-bottom:1.5rem!important}.activity-dash-new .kpi-grid .kpi-card{position:relative!important;display:flex!important;align-items:center!important;gap:.9rem!important;background:#171a22!important;border:1px solid #232936!important;border-radius:14px!important;padding:1rem 1.1rem!important;transition:transform .2s ease,box-shadow .2s ease!important;box-shadow:none!important;overflow:hidden!important;height:100%!important;min-height:90px!important;max-height:120px!important}.activity-dash-new .kpi-grid .kpi-card:hover{transform:translateY(-3px)!important;box-shadow:0 10px 18px -10px #0009!important}.activity-dash-new .kpi-grid .kpi-card .kpi-icon{width:48px!important;height:48px!important;flex:0 0 48px!important;border-radius:12px!important;display:grid!important;place-items:center!important;background:#1e2230!important;color:#6ea8ff!important;box-shadow:0 0 0 1px #2c3442 inset!important;flex-shrink:0!important}.activity-dash-new .kpi-grid .kpi-card .kpi-icon i{font-size:1.2rem!important;color:#6ea8ff!important}.activity-dash-new .kpi-grid .kpi-card .kpi-body{overflow:hidden!important;flex:1!important;min-width:0!important}.activity-dash-new .kpi-grid .kpi-card .kpi-body .kpi-label{font-size:.8rem!important;font-weight:600!important;color:#9fb4d6!important;margin-bottom:.25rem!important;text-transform:none!important;letter-spacing:normal!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;line-height:1.2!important;max-height:1.2rem!important}.activity-dash-new .kpi-grid .kpi-card .kpi-body .kpi-label small{margin-left:.35rem!important;opacity:.8!important;color:#9fb4d6!important}.activity-dash-new .kpi-grid .kpi-card .kpi-body .kpi-value{font-size:1.9rem!important;font-weight:800!important;line-height:1!important;letter-spacing:-.5px!important;color:#e8efff!important;background:none!important;-webkit-text-fill-color:initial!important;-webkit-background-clip:initial!important;background-clip:initial!important;text-shadow:none!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}.activity-dash-new .grid-panels{display:grid!important;gap:1.2rem!important;grid-template-columns:repeat(auto-fit,minmax(320px,1fr))!important;align-items:start!important;margin-bottom:1.5rem!important}.activity-dash-new .panel{background:#171a22!important;border:1px solid #232936!important;border-radius:16px!important;padding:1rem 1.1rem 1.1rem!important;box-shadow:none!important}.activity-dash-new .panel .panel-hd{padding:0!important;border-bottom:none!important;background:transparent!important}.activity-dash-new .panel .panel-hd h3{margin:0 0 .75rem!important;font-size:.95rem!important;text-transform:uppercase!important;letter-spacing:.6px!important;color:#9fb4d6!important;font-weight:700!important;background:transparent!important;border:none!important;padding:0!important}.activity-dash-new .panel-activity-stats{grid-column:1/-1!important}.activity-dash-new .panel-activity-stats .activity-types-grid{display:grid!important;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))!important;gap:1rem!important;padding:1rem!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card{background:#12141b!important;border:1px solid #222836!important;border-radius:12px!important;padding:1.5rem!important;text-align:center!important;transition:all .3s ease!important;box-shadow:none!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card:hover{transform:translateY(-3px)!important;box-shadow:0 8px 20px #0000004d!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card .activity-type-icon{width:50px!important;height:50px!important;border-radius:50%!important;display:flex!important;align-items:center!important;justify-content:center!important;margin:0 auto 1rem!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card .activity-type-icon i{color:#fff!important;font-size:1.25rem!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card.create-card .activity-type-icon{background:linear-gradient(135deg,#28a745,#20c997)!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card.read-card .activity-type-icon{background:linear-gradient(135deg,#17a2b8,#007bff)!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card.update-card .activity-type-icon{background:linear-gradient(135deg,#ffc107,#fd7e14)!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card.delete-card .activity-type-icon{background:linear-gradient(135deg,#dc3545,#e83e8c)!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card .activity-type-label{font-size:.875rem!important;font-weight:600!important;color:#9fb4d6!important;margin-bottom:.5rem!important;text-transform:uppercase!important;letter-spacing:.5px!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card .activity-type-count{font-size:2rem!important;font-weight:700!important;color:#e8efff!important;margin-bottom:.25rem!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card .activity-type-percentage{font-size:.875rem!important;color:#9fb4d6!important;font-weight:500!important}.activity-dash-new .panel-modules{overflow:hidden!important}.activity-dash-new .panel-modules .modules-list{display:flex!important;flex-direction:column!important;gap:.6rem!important;padding:0!important;margin:0!important}.activity-dash-new .panel-modules .modules-list .module-item{display:grid!important;grid-template-columns:32px 1fr 50px!important;gap:.75rem!important;align-items:center!important;background:#12141b!important;border:1px solid #222836!important;padding:.6rem .7rem!important;border-radius:12px!important;overflow:hidden!important}.activity-dash-new .panel-modules .modules-list .module-item .module-rank{width:32px!important;height:32px!important;border-radius:10px!important;display:grid!important;place-items:center!important;background:#1d212a!important;color:#6ea8ff!important;font-weight:700!important;box-shadow:0 0 0 1px #2a3140 inset!important;flex-shrink:0!important}.activity-dash-new .panel-modules .modules-list .module-item .module-body{min-width:0!important;overflow:hidden!important}.activity-dash-new .panel-modules .modules-list .module-item .module-body .module-name{color:#d9e2f5!important;font-weight:600!important;font-size:.85rem!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;max-width:100%!important;line-height:1.2!important;margin-bottom:.25rem!important}.activity-dash-new .panel-modules .modules-list .module-item .module-body .module-meter{height:6px!important;background:#212730!important;border-radius:4px!important;overflow:hidden!important;position:relative!important;width:100%!important}.activity-dash-new .panel-modules .modules-list .module-item .module-body .module-meter .meter-fill{position:absolute!important;top:0!important;left:0!important;height:100%!important;background:linear-gradient(90deg,#6ea8ff,#2dd6c7)!important;transition:width .3s ease!important;border-radius:4px!important}.activity-dash-new .panel-modules .modules-list .module-item .module-count{text-align:right!important;color:#9fb4d6!important;font-weight:700!important;flex-shrink:0!important;font-size:.875rem!important}.activity-dash-new .panel-modules .empty{text-align:center!important;padding:2rem!important;color:#9fb4d6!important;font-style:italic!important}.activity-dash-new .panel-top-users{overflow:hidden!important}.activity-dash-new .panel-top-users .users-list{display:flex!important;flex-direction:column!important;gap:.6rem!important;padding:0!important;margin:0!important}.activity-dash-new .panel-top-users .users-list .user-item{display:grid!important;grid-template-columns:32px 1fr 50px!important;gap:.75rem!important;align-items:center!important;background:#12141b!important;border:1px solid #222836!important;padding:.6rem .7rem!important;border-radius:12px!important;overflow:hidden!important}.activity-dash-new .panel-top-users .users-list .user-item .user-rank{width:32px!important;height:32px!important;border-radius:10px!important;display:grid!important;place-items:center!important;background:#1d212a!important;color:#20c997!important;font-weight:700!important;box-shadow:0 0 0 1px #2a3140 inset!important;flex-shrink:0!important}.activity-dash-new .panel-top-users .users-list .user-item .user-body{min-width:0!important;overflow:hidden!important}.activity-dash-new .panel-top-users .users-list .user-item .user-body .user-name{font-weight:600!important;color:#d9e2f5!important;font-size:.85rem!important;margin-bottom:.35rem!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}.activity-dash-new .panel-top-users .users-list .user-item .user-body .user-meter{height:5px!important;background:#1e2230!important;border-radius:3px!important;overflow:hidden!important;position:relative!important;width:100%!important}.activity-dash-new .panel-top-users .users-list .user-item .user-body .user-meter .user-fill{position:absolute!important;top:0!important;left:0!important;height:100%!important;background:linear-gradient(90deg,#20c997,#17a2b8)!important;transition:width .3s ease!important;border-radius:4px!important}.activity-dash-new .panel-top-users .users-list .user-item .user-count{text-align:right!important;color:#9fb4d6!important;font-weight:700!important;flex-shrink:0!important;font-size:.875rem!important}.activity-dash-new .panel-top-users .empty{text-align:center!important;padding:2rem!important;color:#9fb4d6!important;font-style:italic!important}.activity-dash-new .panel-hourly-stats{overflow:hidden!important}.activity-dash-new .panel-hourly-stats .hourly-stats{display:flex!important;flex-direction:column!important;gap:.8rem!important;padding:0!important;margin:0!important}.activity-dash-new .panel-hourly-stats .hourly-stats .hour-item{display:grid!important;grid-template-columns:40px 1fr 50px!important;gap:.75rem!important;align-items:center!important;background:#12141b!important;border:1px solid #222836!important;padding:.8rem .7rem!important;border-radius:12px!important;overflow:hidden!important}.activity-dash-new .panel-hourly-stats .hourly-stats .hour-item .hour-icon{width:40px!important;height:40px!important;border-radius:12px!important;display:grid!important;place-items:center!important;background:#1d212a!important;color:#ffc107!important;font-size:1rem!important;box-shadow:0 0 0 1px #2a3140 inset!important;flex-shrink:0!important}.activity-dash-new .panel-hourly-stats .hourly-stats .hour-item .hour-body{min-width:0!important;overflow:hidden!important}.activity-dash-new .panel-hourly-stats .hourly-stats .hour-item .hour-body .hour-label{font-weight:600!important;color:#d9e2f5!important;font-size:.85rem!important;margin-bottom:.2rem!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}.activity-dash-new .panel-hourly-stats .hourly-stats .hour-item .hour-body .hour-range{color:#9fb4d6!important;font-size:.75rem!important;font-weight:500!important;opacity:.8!important}.activity-dash-new .panel-hourly-stats .hourly-stats .hour-item .hour-count{text-align:right!important;color:#ffc107!important;font-weight:700!important;flex-shrink:0!important;font-size:.875rem!important}.activity-dash-new .separated-activities{margin-bottom:1.5rem!important}.activity-dash-new .separated-activities .panel{background:#171a22!important;border:1px solid #232936!important;border-radius:16px!important;overflow:hidden!important;box-shadow:none!important;height:auto!important;min-height:0!important}.activity-dash-new .separated-activities .panel .panel-hd{padding:1rem 1.5rem!important;display:flex!important;justify-content:space-between!important;align-items:center!important;border-bottom:1px solid #262c3a!important;background:transparent!important;flex-shrink:0!important}.activity-dash-new .separated-activities .panel .panel-hd h4{margin:0!important;font-size:1rem!important;font-weight:600!important;display:flex!important;align-items:center!important;color:#9fb4d6!important;background:transparent!important;border:none!important;padding:0!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}.activity-dash-new .separated-activities .panel .panel-hd h4 i{margin-right:.5rem!important;flex-shrink:0!important}.activity-dash-new .separated-activities .panel .panel-hd .activity-count-badge{background:#6ea8ff!important;color:#fff!important;padding:.25rem .75rem!important;border-radius:20px!important;font-size:.75rem!important;font-weight:600!important;border:none!important;flex-shrink:0!important}.activity-dash-new .separated-activities .panel .panel-hd.create-header{background:#28a7451a!important}.activity-dash-new .separated-activities .panel .panel-hd.create-header h4{color:#28a745!important}.activity-dash-new .separated-activities .panel .panel-hd.create-header .activity-count-badge{background:#28a745!important}.activity-dash-new .separated-activities .panel .panel-hd.read-header{background:#17a2b81a!important}.activity-dash-new .separated-activities .panel .panel-hd.read-header h4{color:#17a2b8!important}.activity-dash-new .separated-activities .panel .panel-hd.read-header .activity-count-badge{background:#17a2b8!important}.activity-dash-new .separated-activities .panel .panel-hd.update-header{background:#ffc1071a!important}.activity-dash-new .separated-activities .panel .panel-hd.update-header h4{color:#ffc107!important}.activity-dash-new .separated-activities .panel .panel-hd.update-header .activity-count-badge{background:#ffc107!important;color:#212529!important}.activity-dash-new .separated-activities .panel .panel-hd.delete-header{background:#dc35451a!important}.activity-dash-new .separated-activities .panel .panel-hd.delete-header h4{color:#dc3545!important}.activity-dash-new .separated-activities .panel .panel-hd.delete-header .activity-count-badge{background:#dc3545!important}.activity-dash-new .separated-activities .panel .activities-list-compact{padding:1rem!important;max-height:250px!important;overflow-y:auto!important;overflow-x:hidden!important}.activity-dash-new .separated-activities .panel .activities-list-compact .activity-item-compact{padding:.75rem 0!important;border-bottom:1px solid #262c3a!important;background:transparent!important;overflow:hidden!important}.activity-dash-new .separated-activities .panel .activities-list-compact .activity-item-compact:last-child{border-bottom:none!important}.activity-dash-new .separated-activities .panel .activities-list-compact .activity-item-compact .activity-user{font-weight:600!important;color:#d9e2f5!important;font-size:.875rem!important;margin-bottom:.25rem!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}.activity-dash-new .separated-activities .panel .activities-list-compact .activity-item-compact .activity-desc{color:#9fb4d6!important;font-size:.8rem!important;line-height:1.3!important;margin-bottom:.5rem!important;display:-webkit-box!important;-webkit-line-clamp:2!important;line-clamp:2!important;-webkit-box-orient:vertical!important;overflow:hidden!important;word-break:break-word!important;max-height:2.6rem!important}.activity-dash-new .separated-activities .panel .activities-list-compact .activity-item-compact .activity-time{color:#9fb4d6!important;font-size:.75rem!important;font-weight:500!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}.activity-dash-new .separated-activities .panel .activities-list-compact .empty-compact{text-align:center!important;color:#9fb4d6!important;font-style:italic!important;padding:2rem 1rem!important;font-size:.875rem!important}.activity-dash-new .panel-chart{background:#171a22!important;border:1px solid #232936!important;border-radius:16px!important;margin-bottom:1.5rem!important;box-shadow:none!important;overflow:hidden!important;position:relative!important}.activity-dash-new .panel-chart .panel-hd{padding:1rem 1.1rem 0!important;background:transparent!important;border-bottom:none!important}.activity-dash-new .panel-chart .panel-hd h3{margin:0 0 .75rem!important;font-size:.95rem!important;text-transform:uppercase!important;letter-spacing:.6px!important;color:#9fb4d6!important;font-weight:700!important;background:transparent!important;border:none!important;padding:0!important}.activity-dash-new .panel-chart .chart-wrapper{padding:1rem!important;position:relative!important;width:100%!important;height:280px!important;overflow:hidden!important}.activity-dash-new .panel-chart .chart-wrapper apx-chart{display:block!important;width:100%!important;height:100%!important;max-width:100%!important;max-height:100%!important;overflow:hidden!important;position:relative!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-canvas{background:transparent!important;max-width:100%!important;max-height:100%!important;overflow:hidden!important;position:relative!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-svg{max-width:100%!important;max-height:100%!important;overflow:hidden!important;width:100%!important;height:100%!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-inner{overflow:hidden!important;max-width:100%!important;max-height:100%!important}.activity-dash-new .panel-chart .chart-wrapper svg,.activity-dash-new .panel-chart .chart-wrapper foreignObject{max-width:100%!important;max-height:100%!important;overflow:hidden!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-tooltip{background:#1e222b!important;border:1px solid #2c3240!important;color:#d9e2f5!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-tooltip .apexcharts-tooltip-title{background:#171b22!important;border-bottom:1px solid #2c3240!important;color:#d9e2f5!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-legend{color:#d9e2f5!important;max-width:100%!important;overflow:hidden!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-legend .apexcharts-legend-series{overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-xaxis-label,.activity-dash-new .panel-chart .chart-wrapper .apexcharts-yaxis-label{fill:#9fb4d6!important;font-size:11px!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-gridline{stroke:#262c3a!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-text{fill:#9fb4d6!important;font-size:11px!important;overflow:hidden!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-datalabel{fill:#d9e2f5!important;font-size:10px!important;overflow:hidden!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-bar-series{overflow:hidden!important}.activity-dash-new .panel-chart .chart-wrapper .apexcharts-series,.activity-dash-new .panel-chart .chart-wrapper .apexcharts-data-labels{overflow:hidden!important;max-width:100%!important}.activity-dash-new .recent-activities .panel{background:#171a22!important;border:1px solid #232936!important;border-radius:16px!important;box-shadow:none!important}.activity-dash-new .recent-activities .panel .panel-hd{padding:1.5rem 1.5rem 1rem!important;border-bottom:1px solid #262c3a!important;display:flex!important;justify-content:space-between!important;align-items:center!important;background:transparent!important}.activity-dash-new .recent-activities .panel .panel-hd h3{margin:0!important;font-size:.95rem!important;text-transform:uppercase!important;letter-spacing:.6px!important;color:#9fb4d6!important;font-weight:700!important;background:transparent!important;border:none!important;padding:0!important}.activity-dash-new .recent-activities .panel .panel-hd .panel-actions .btn{background:#222633!important;border:1px solid #2e3344!important;color:#6ea8ff!important;border-radius:8px!important;padding:.375rem .75rem!important;font-size:.875rem!important;box-shadow:none!important}.activity-dash-new .recent-activities .panel .panel-hd .panel-actions .btn:hover{background:#2a3040!important;transform:none!important;box-shadow:none!important}.activity-dash-new .recent-activities .panel .panel-hd .panel-actions .btn:focus{box-shadow:none!important;outline:none!important}.activity-dash-new .recent-activities .panel .filters-row{padding:1rem 1.5rem 0!important}.activity-dash-new .recent-activities .panel .filters-row .form-control{background:#12141b!important;border:1px solid #222836!important;color:#d9e2f5!important;border-radius:8px!important;box-shadow:none!important}.activity-dash-new .recent-activities .panel .filters-row .form-control:focus{background:#12141b!important;border-color:#6ea8ff!important;color:#d9e2f5!important;box-shadow:0 0 0 .2rem #6ea8ff40!important;outline:none!important}.activity-dash-new .recent-activities .panel .filters-row .form-control option{background:#12141b!important;color:#d9e2f5!important}.activity-dash-new .recent-activities .panel .activities-list{padding:1rem 1.5rem 1.5rem!important;max-height:500px!important;overflow-y:auto!important}.activity-dash-new .recent-activities .panel .activities-list .activity-item{display:flex!important;align-items:flex-start!important;padding:1rem 0!important;border-bottom:1px solid #262c3a!important;background:transparent!important}.activity-dash-new .recent-activities .panel .activities-list .activity-item:last-child{border-bottom:none!important}.activity-dash-new .recent-activities .panel .activities-list .activity-item .activity-icon{width:40px!important;height:40px!important;background:#1e2230!important;border-radius:8px!important;display:flex!important;align-items:center!important;justify-content:center!important;margin-right:1rem!important;flex-shrink:0!important}.activity-dash-new .recent-activities .panel .activities-list .activity-item .activity-icon i{color:#6ea8ff!important;font-size:1rem!important}.activity-dash-new .recent-activities .panel .activities-list .activity-item .activity-content{flex:1!important}.activity-dash-new .recent-activities .panel .activities-list .activity-item .activity-content .activity-header{display:flex!important;align-items:center!important;margin-bottom:.5rem!important;flex-wrap:wrap!important;gap:.5rem!important}.activity-dash-new .recent-activities .panel .activities-list .activity-item .activity-content .activity-header .activity-user{font-weight:600!important;color:#d9e2f5!important}.activity-dash-new .recent-activities .panel .activities-list .activity-item .activity-content .activity-header .badge{font-size:.75rem!important;padding:.25rem .5rem!important;border-radius:4px!important;border:none!important}.activity-dash-new .recent-activities .panel .activities-list .activity-item .activity-content .activity-header .activity-module{font-size:.875rem!important;color:#9fb4d6!important;background:#12141b!important;padding:.25rem .5rem!important;border-radius:4px!important;border:1px solid #222836!important}.activity-dash-new .recent-activities .panel .activities-list .activity-item .activity-content .activity-description{color:#9fb4d6!important;margin-bottom:.5rem!important;line-height:1.4!important}.activity-dash-new .recent-activities .panel .activities-list .activity-item .activity-content .activity-meta{display:flex!important;gap:1rem!important;font-size:.75rem!important;color:#9fb4d6!important}.activity-dash-new .recent-activities .panel .activities-list .activity-item .activity-content .activity-meta .activity-time{font-weight:500!important}.activity-dash-new .empty{text-align:center!important;padding:2rem!important;color:#9fb4d6!important;font-style:italic!important}.activity-dash-new .badge-success{background-color:#28a745!important;color:#fff!important}.activity-dash-new .badge-info{background-color:#17a2b8!important;color:#fff!important}.activity-dash-new .badge-warning{background-color:#ffc107!important;color:#212529!important}.activity-dash-new .badge-danger{background-color:#dc3545!important;color:#fff!important}.activity-dash-new .badge-primary{background-color:#007bff!important;color:#fff!important}.activity-dash-new .badge-secondary{background-color:#6c757d!important;color:#fff!important}.activity-dash-new .badge-purple{background-color:#6f42c1!important;color:#fff!important}.activity-dash-new .badge-teal{background-color:#20c997!important;color:#fff!important}.activity-dash-new .module-chart .chart-wrapper,.activity-dash-new .daily-chart .chart-wrapper{position:relative!important;width:100%!important;max-width:100%!important;overflow:hidden!important;contain:layout style!important}.activity-dash-new .module-chart .chart-wrapper *,.activity-dash-new .daily-chart .chart-wrapper *{max-width:100%!important;overflow:hidden!important}.activity-dash-new .module-chart .chart-wrapper .apexcharts-canvas,.activity-dash-new .daily-chart .chart-wrapper .apexcharts-canvas{transform:none!important;position:relative!important;left:0!important;top:0!important}.activity-dash-new .module-chart .chart-wrapper .apexcharts-bar-goals-markers,.activity-dash-new .module-chart .chart-wrapper .apexcharts-bar-series,.activity-dash-new .module-chart .chart-wrapper .apexcharts-series,.activity-dash-new .daily-chart .chart-wrapper .apexcharts-bar-goals-markers,.activity-dash-new .daily-chart .chart-wrapper .apexcharts-bar-series,.activity-dash-new .daily-chart .chart-wrapper .apexcharts-series{transform:none!important;contain:layout!important}.activity-dash-new .module-chart .chart-wrapper .apexcharts-yaxis-texts-g,.activity-dash-new .module-chart .chart-wrapper .apexcharts-xaxis-texts-g,.activity-dash-new .daily-chart .chart-wrapper .apexcharts-yaxis-texts-g,.activity-dash-new .daily-chart .chart-wrapper .apexcharts-xaxis-texts-g{overflow:hidden!important}.activity-dash-new .module-chart .chart-wrapper .apexcharts-yaxis-texts-g text,.activity-dash-new .module-chart .chart-wrapper .apexcharts-xaxis-texts-g text,.activity-dash-new .daily-chart .chart-wrapper .apexcharts-yaxis-texts-g text,.activity-dash-new .daily-chart .chart-wrapper .apexcharts-xaxis-texts-g text{max-width:120px!important;overflow:hidden!important;text-overflow:ellipsis!important}.activity-dash-new .row{margin-left:0!important;margin-right:0!important}.activity-dash-new .col-lg-6,.activity-dash-new .col-xl-3,.activity-dash-new .col-md-2,.activity-dash-new .col-md-4{padding-left:.75rem!important;padding-right:.75rem!important}.activity-dash-new button,.activity-dash-new .btn,.activity-dash-new input,.activity-dash-new select,.activity-dash-new .form-control,.activity-dash-new .panel,.activity-dash-new .kpi-card,.activity-dash-new .activity-type-card,.activity-dash-new .module-item,.activity-dash-new .activity-item{font-family:inherit!important;line-height:inherit!important}.activity-dash-new .alert{border-radius:8px!important;border:1px solid #dc3545!important;background-color:#dc35451a!important;color:#dc3545!important;font-size:.875rem!important}@media (max-width: 992px){.activity-dash-new .kpi-grid{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))!important}.activity-dash-new .grid-panels{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))!important}}@media (max-width: 768px){.activity-dash-new .hero .hero-inner{flex-direction:column!important;text-align:center!important;gap:1rem!important}.activity-dash-new .hero .hero-text h1{font-size:1.25rem!important}.activity-dash-new .kpi-grid{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))!important;gap:1rem!important}.activity-dash-new .kpi-grid .kpi-card{padding:1rem!important}.activity-dash-new .kpi-grid .kpi-card .kpi-icon{width:40px!important;height:40px!important}.activity-dash-new .kpi-grid .kpi-card .kpi-icon i{font-size:1rem!important}.activity-dash-new .kpi-grid .kpi-card .kpi-value{font-size:1.5rem!important}.activity-dash-new .grid-panels{grid-template-columns:1fr!important}.activity-dash-new .separated-activities .row .col-lg-6.col-xl-3{margin-bottom:1rem!important}.activity-dash-new .separated-activities .panel .activities-list-compact .activity-item-compact .activity-desc{-webkit-line-clamp:1!important;line-clamp:1!important}.activity-dash-new .panel-activity-stats .activity-types-grid{grid-template-columns:repeat(2,1fr)!important;gap:.75rem!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card{padding:1rem!important}.activity-dash-new .panel-activity-stats .activity-types-grid .activity-type-card .activity-type-count{font-size:1.5rem!important}}
`],encapsulation:2});let e=s;return e})();var Ve=[{path:"",redirectTo:"archive",pathMatch:"full"},{path:"archive",component:et,canActivate:[ot],data:{requiredPermissions:["archive_dashboard"]}},{path:"user-activities",component:it,canActivate:[ot],data:{requiredPermissions:["user_activity_dashboard"]}}],kt=(()=>{let s=class s{};s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=N({type:s}),s.\u0275inj=L({imports:[O.forChild(Ve),O]});let e=s;return e})();var xi=(()=>{let s=class s{};s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=N({type:s}),s.\u0275inj=L({imports:[P,Et,kt,et,it]});let e=s;return e})();export{xi as DashboardModule};
