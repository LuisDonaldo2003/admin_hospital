import{a as Pe}from"./chunk-6HVB3NBU.js";import{a as Me}from"./chunk-T4DWMFMY.js";import{a as xo}from"./chunk-PJTO6QAK.js";import{a as Ce}from"./chunk-D2UOI4SC.js";import{a as xe}from"./chunk-5T756SM4.js";import{U as wo,W as we}from"./chunk-UAHOMQAC.js";import{a as Oo}from"./chunk-53SADUUO.js";import{C as J,c as be,g as re,h as De,j as Be,l as ae,m as Le,s as se,t as ce,u as le,x as Re}from"./chunk-LSHNZHTL.js";import{b as _e,c as he,d as ie}from"./chunk-LWMB2SYJ.js";import"./chunk-M3SFDXF4.js";import{Ab as At,Bc as Mo,Db as It,Dc as Po,Ea as k,Eb as S,Fb as T,Gb as E,Hb as oe,Ia as Z,Ic as Ne,Ja as Tt,Jc as vo,Kb as Nt,Kc as ue,Lb as bo,Lc as Bt,Mc as K,Na as N,Nb as Co,Qb as h,Rb as b,Sa as D,Ta as B,U as St,Ua as uo,Va as Et,Wa as kt,Xa as v,Ya as i,Z as A,Za as s,_ as I,_a as _,cb as _o,db as ho,fb as z,hb as w,ib as y,jc as Dt,kc as fe,lc as Ie,ub as Y,va as a,wb as l,wc as G,xb as O,yb as P,zb as Je}from"./chunk-GPA4TO5E.js";import{e as fa,f as fo}from"./chunk-6DGDWVBL.js";var ln=fa((ye,cn)=>{"use strict";(function(c,u){typeof ye=="object"&&typeof cn<"u"?cn.exports=u():typeof define=="function"&&define.amd?define(u):(c=typeof globalThis<"u"?globalThis:c||self,c.Sweetalert2=u())})(ye,function(){"use strict";function c(e,t,o){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:o;throw new TypeError("Private element is not present on this object")}function u(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function p(e,t){return e.get(c(e,t))}function r(e,t,o){u(e,t),t.set(e,o)}function d(e,t,o){return e.set(c(e,t),o),o}let n=100,f={},g=()=>{f.previousActiveElement instanceof HTMLElement?(f.previousActiveElement.focus(),f.previousActiveElement=null):document.body&&document.body.focus()},j=e=>new Promise(t=>{if(!e)return t();let o=window.scrollX,m=window.scrollY;f.restoreFocusTimeout=setTimeout(()=>{g(),t()},n),window.scrollTo(o,m)}),te="swal2-",M=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((e,t)=>(e[t]=te+t,e),{}),mt=["success","warning","info","question","error"].reduce((e,t)=>(e[t]=te+t,e),{}),mn="SweetAlert2:",Ft=e=>e.charAt(0).toUpperCase()+e.slice(1),Q=e=>{console.warn(`${mn} ${typeof e=="object"?e.join(" "):e}`)},ze=e=>{console.error(`${mn} ${e}`)},pn=[],Lo=e=>{pn.includes(e)||(pn.push(e),Q(e))},gn=(e,t=null)=>{Lo(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},pt=e=>typeof e=="function"?e():e,Vt=e=>e&&typeof e.toPromise=="function",ot=e=>Vt(e)?e.toPromise():Promise.resolve(e),Wt=e=>e&&Promise.resolve(e)===e,ee=()=>document.body.querySelector(`.${M.container}`),it=e=>{let t=ee();return t?t.querySelector(e):null},de=e=>it(`.${e}`),R=()=>de(M.popup),He=()=>de(M.icon),Ro=()=>de(M["icon-content"]),fn=()=>de(M.title),jt=()=>de(M["html-container"]),un=()=>de(M.image),Ht=()=>de(M["progress-steps"]),gt=()=>de(M["validation-message"]),ve=()=>it(`.${M.actions} .${M.confirm}`),Ue=()=>it(`.${M.actions} .${M.cancel}`),Fe=()=>it(`.${M.actions} .${M.deny}`),zo=()=>de(M["input-label"]),qe=()=>it(`.${M.loader}`),rt=()=>de(M.actions),_n=()=>de(M.footer),ft=()=>de(M["timer-progress-bar"]),Ut=()=>de(M.close),Fo=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,qt=()=>{let e=R();if(!e)return[];let t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),o=Array.from(t).sort((x,L)=>{let V=parseInt(x.getAttribute("tabindex")||"0"),H=parseInt(L.getAttribute("tabindex")||"0");return V>H?1:V<H?-1:0}),m=e.querySelectorAll(Fo),C=Array.from(m).filter(x=>x.getAttribute("tabindex")!=="-1");return[...new Set(o.concat(C))].filter(x=>ne(x))},$t=()=>Se(document.body,M.shown)&&!Se(document.body,M["toast-shown"])&&!Se(document.body,M["no-backdrop"]),ut=()=>{let e=R();return e?Se(e,M.toast):!1},Vo=()=>{let e=R();return e?e.hasAttribute("data-loading"):!1},me=(e,t)=>{if(e.textContent="",t){let m=new DOMParser().parseFromString(t,"text/html"),C=m.querySelector("head");C&&Array.from(C.childNodes).forEach(L=>{e.appendChild(L)});let x=m.querySelector("body");x&&Array.from(x.childNodes).forEach(L=>{L instanceof HTMLVideoElement||L instanceof HTMLAudioElement?e.appendChild(L.cloneNode(!0)):e.appendChild(L)})}},Se=(e,t)=>{if(!t)return!1;let o=t.split(/\s+/);for(let m=0;m<o.length;m++)if(!e.classList.contains(o[m]))return!1;return!0},Wo=(e,t)=>{Array.from(e.classList).forEach(o=>{!Object.values(M).includes(o)&&!Object.values(mt).includes(o)&&!Object.values(t.showClass||{}).includes(o)&&e.classList.remove(o)})},pe=(e,t,o)=>{if(Wo(e,t),!t.customClass)return;let m=t.customClass[o];if(m){if(typeof m!="string"&&!m.forEach){Q(`Invalid type of customClass.${o}! Expected string or iterable object, got "${typeof m}"`);return}F(e,m)}},_t=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${M.popup} > .${M[t]}`);case"checkbox":return e.querySelector(`.${M.popup} > .${M.checkbox} input`);case"radio":return e.querySelector(`.${M.popup} > .${M.radio} input:checked`)||e.querySelector(`.${M.popup} > .${M.radio} input:first-child`);case"range":return e.querySelector(`.${M.popup} > .${M.range} input`);default:return e.querySelector(`.${M.popup} > .${M.input}`)}},hn=e=>{if(e.focus(),e.type!=="file"){let t=e.value;e.value="",e.value=t}},bn=(e,t,o)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(m=>{Array.isArray(e)?e.forEach(C=>{o?C.classList.add(m):C.classList.remove(m)}):o?e.classList.add(m):e.classList.remove(m)}))},F=(e,t)=>{bn(e,t,!0)},ge=(e,t)=>{bn(e,t,!1)},ke=(e,t)=>{let o=Array.from(e.children);for(let m=0;m<o.length;m++){let C=o[m];if(C instanceof HTMLElement&&Se(C,t))return C}},Ve=(e,t,o)=>{o===`${parseInt(`${o}`)}`&&(o=parseInt(o)),o||parseInt(`${o}`)===0?e.style.setProperty(t,typeof o=="number"?`${o}px`:o):e.style.removeProperty(t)},$=(e,t="flex")=>{e&&(e.style.display=t)},X=e=>{e&&(e.style.display="none")},Yt=(e,t="block")=>{e&&new MutationObserver(()=>{at(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},Cn=(e,t,o,m)=>{let C=e.querySelector(t);C&&C.style.setProperty(o,m)},at=(e,t,o="flex")=>{t?$(e,o):X(e)},ne=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),jo=()=>!ne(ve())&&!ne(Fe())&&!ne(Ue()),Gt=e=>e.scrollHeight>e.clientHeight,Ho=(e,t)=>{let o=e;for(;o&&o!==t;){if(Gt(o))return!0;o=o.parentElement}return!1},Mn=e=>{let t=window.getComputedStyle(e),o=parseFloat(t.getPropertyValue("animation-duration")||"0"),m=parseFloat(t.getPropertyValue("transition-duration")||"0");return o>0||m>0},Kt=(e,t=!1)=>{let o=ft();o&&ne(o)&&(t&&(o.style.transition="none",o.style.width="100%"),setTimeout(()=>{o.style.transition=`width ${e/1e3}s linear`,o.style.width="0%"},10))},Uo=()=>{let e=ft();if(!e)return;let t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";let o=parseInt(window.getComputedStyle(e).width),m=t/o*100;e.style.width=`${m}%`},qo=()=>typeof window>"u"||typeof document>"u",$o=`
 <div aria-labelledby="${M.title}" aria-describedby="${M["html-container"]}" class="${M.popup}" tabindex="-1">
   <button type="button" class="${M.close}"></button>
   <ul class="${M["progress-steps"]}"></ul>
   <div class="${M.icon}"></div>
   <img class="${M.image}" />
   <h2 class="${M.title}" id="${M.title}"></h2>
   <div class="${M["html-container"]}" id="${M["html-container"]}"></div>
   <input class="${M.input}" id="${M.input}" />
   <input type="file" class="${M.file}" />
   <div class="${M.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${M.select}" id="${M.select}"></select>
   <div class="${M.radio}"></div>
   <label class="${M.checkbox}">
     <input type="checkbox" id="${M.checkbox}" />
     <span class="${M.label}"></span>
   </label>
   <textarea class="${M.textarea}" id="${M.textarea}"></textarea>
   <div class="${M["validation-message"]}" id="${M["validation-message"]}"></div>
   <div class="${M.actions}">
     <div class="${M.loader}"></div>
     <button type="button" class="${M.confirm}"></button>
     <button type="button" class="${M.deny}"></button>
     <button type="button" class="${M.cancel}"></button>
   </div>
   <div class="${M.footer}"></div>
   <div class="${M["timer-progress-bar-container"]}">
     <div class="${M["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Yo=()=>{let e=ee();return e?(e.remove(),ge([document.documentElement,document.body],[M["no-backdrop"],M["toast-shown"],M["has-column"]]),!0):!1},We=()=>{f.currentInstance.resetValidationMessage()},Go=()=>{let e=R(),t=ke(e,M.input),o=ke(e,M.file),m=e.querySelector(`.${M.range} input`),C=e.querySelector(`.${M.range} output`),x=ke(e,M.select),L=e.querySelector(`.${M.checkbox} input`),V=ke(e,M.textarea);t.oninput=We,o.onchange=We,x.onchange=We,L.onchange=We,V.oninput=We,m.oninput=()=>{We(),C.value=m.value},m.onchange=()=>{We(),C.value=m.value}},Ko=e=>typeof e=="string"?document.querySelector(e):e,Xo=e=>{let t=R();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Zo=e=>{window.getComputedStyle(e).direction==="rtl"&&F(ee(),M.rtl)},Jo=e=>{let t=Yo();if(qo()){ze("SweetAlert2 requires document to initialize");return}let o=document.createElement("div");o.className=M.container,t&&F(o,M["no-transition"]),me(o,$o),o.dataset.swal2Theme=e.theme;let m=Ko(e.target);m.appendChild(o),e.topLayer&&(o.setAttribute("popover",""),o.showPopover()),Xo(e),Zo(m),Go()},Xt=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?Qo(e,t):e&&me(t,e)},Qo=(e,t)=>{e.jquery?ei(t,e):me(t,e.toString())},ei=(e,t)=>{if(e.textContent="",0 in t)for(let o=0;o in t;o++)e.appendChild(t[o].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},ti=(e,t)=>{let o=rt(),m=qe();!o||!m||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?X(o):$(o),pe(o,t,"actions"),ni(o,m,t),me(m,t.loaderHtml||""),pe(m,t,"loader"))};function ni(e,t,o){let m=ve(),C=Fe(),x=Ue();!m||!C||!x||(Jt(m,"confirm",o),Jt(C,"deny",o),Jt(x,"cancel",o),oi(m,C,x,o),o.reverseButtons&&(o.toast?(e.insertBefore(x,m),e.insertBefore(C,m)):(e.insertBefore(x,t),e.insertBefore(C,t),e.insertBefore(m,t))))}function oi(e,t,o,m){if(!m.buttonsStyling){ge([e,t,o],M.styled);return}F([e,t,o],M.styled),m.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",m.confirmButtonColor),m.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",m.denyButtonColor),m.cancelButtonColor&&o.style.setProperty("--swal2-cancel-button-background-color",m.cancelButtonColor),Zt(e),Zt(t),Zt(o)}function Zt(e){let t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let o=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${o}`))}function Jt(e,t,o){let m=Ft(t);at(e,o[`show${m}Button`],"inline-block"),me(e,o[`${t}ButtonText`]||""),e.setAttribute("aria-label",o[`${t}ButtonAriaLabel`]||""),e.className=M[t],pe(e,o,`${t}Button`)}let ii=(e,t)=>{let o=Ut();o&&(me(o,t.closeButtonHtml||""),pe(o,t,"closeButton"),at(o,t.showCloseButton),o.setAttribute("aria-label",t.closeButtonAriaLabel||""))},ri=(e,t)=>{let o=ee();o&&(ai(o,t.backdrop),si(o,t.position),ci(o,t.grow),pe(o,t,"container"))};function ai(e,t){typeof t=="string"?e.style.background=t:t||F([document.documentElement,document.body],M["no-backdrop"])}function si(e,t){t&&(t in M?F(e,M[t]):(Q('The "position" parameter is not valid, defaulting to "center"'),F(e,M.center)))}function ci(e,t){t&&F(e,M[`grow-${t}`])}var W={innerParams:new WeakMap,domCache:new WeakMap};let li=["input","file","range","select","radio","checkbox","textarea"],di=(e,t)=>{let o=R();if(!o)return;let m=W.innerParams.get(e),C=!m||t.input!==m.input;li.forEach(x=>{let L=ke(o,M[x]);L&&(gi(x,t.inputAttributes),L.className=M[x],C&&X(L))}),t.input&&(C&&mi(t),fi(t))},mi=e=>{if(!e.input)return;if(!U[e.input]){ze(`Unexpected type of input! Expected ${Object.keys(U).join(" | ")}, got "${e.input}"`);return}let t=Pn(e.input);if(!t)return;let o=U[e.input](t,e);$(t),e.inputAutoFocus&&setTimeout(()=>{hn(o)})},pi=e=>{for(let t=0;t<e.attributes.length;t++){let o=e.attributes[t].name;["id","type","value","style"].includes(o)||e.removeAttribute(o)}},gi=(e,t)=>{let o=R();if(!o)return;let m=_t(o,e);if(m){pi(m);for(let C in t)m.setAttribute(C,t[C])}},fi=e=>{if(!e.input)return;let t=Pn(e.input);t&&pe(t,e,"input")},Qt=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},st=(e,t,o)=>{if(o.inputLabel){let m=document.createElement("label"),C=M["input-label"];m.setAttribute("for",e.id),m.className=C,typeof o.customClass=="object"&&F(m,o.customClass.inputLabel),m.innerText=o.inputLabel,t.insertAdjacentElement("beforebegin",m)}},Pn=e=>{let t=R();if(t)return ke(t,M[e]||M.input)},ht=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:Wt(t)||Q(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},U={};U.text=U.email=U.password=U.number=U.tel=U.url=U.search=U.date=U["datetime-local"]=U.time=U.week=U.month=(e,t)=>(ht(e,t.inputValue),st(e,e,t),Qt(e,t),e.type=t.input,e),U.file=(e,t)=>(st(e,e,t),Qt(e,t),e),U.range=(e,t)=>{let o=e.querySelector("input"),m=e.querySelector("output");return ht(o,t.inputValue),o.type=t.input,ht(m,t.inputValue),st(o,e,t),e},U.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){let o=document.createElement("option");me(o,t.inputPlaceholder),o.value="",o.disabled=!0,o.selected=!0,e.appendChild(o)}return st(e,e,t),e},U.radio=e=>(e.textContent="",e),U.checkbox=(e,t)=>{let o=_t(R(),"checkbox");o.value="1",o.checked=!!t.inputValue;let m=e.querySelector("span");return me(m,t.inputPlaceholder||t.inputLabel),o},U.textarea=(e,t)=>{ht(e,t.inputValue),Qt(e,t),st(e,e,t);let o=m=>parseInt(window.getComputedStyle(m).marginLeft)+parseInt(window.getComputedStyle(m).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let m=parseInt(window.getComputedStyle(R()).width),C=()=>{if(!document.body.contains(e))return;let x=e.offsetWidth+o(e);x>m?R().style.width=`${x}px`:Ve(R(),"width",t.width)};new MutationObserver(C).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};let ui=(e,t)=>{let o=jt();o&&(Yt(o),pe(o,t,"htmlContainer"),t.html?(Xt(t.html,o),$(o,"block")):t.text?(o.textContent=t.text,$(o,"block")):X(o),di(e,t))},_i=(e,t)=>{let o=_n();o&&(Yt(o),at(o,!!t.footer,"block"),t.footer&&Xt(t.footer,o),pe(o,t,"footer"))},hi=(e,t)=>{let o=W.innerParams.get(e),m=He();if(!m)return;if(o&&t.icon===o.icon){wn(m,t),vn(m,t);return}if(!t.icon&&!t.iconHtml){X(m);return}if(t.icon&&Object.keys(mt).indexOf(t.icon)===-1){ze(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),X(m);return}$(m),wn(m,t),vn(m,t),F(m,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",On)},vn=(e,t)=>{for(let[o,m]of Object.entries(mt))t.icon!==o&&ge(e,m);F(e,t.icon&&mt[t.icon]),Mi(e,t),On(),pe(e,t,"icon")},On=()=>{let e=R();if(!e)return;let t=window.getComputedStyle(e).getPropertyValue("background-color"),o=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let m=0;m<o.length;m++)o[m].style.backgroundColor=t},bi=e=>`
  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${e.animation?'<div class="swal2-success-fix"></div>':""}
  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Ci=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,wn=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let o=e.innerHTML,m="";t.iconHtml?m=xn(t.iconHtml):t.icon==="success"?(m=bi(t),o=o.replace(/ style=".*?"/g,"")):t.icon==="error"?m=Ci:t.icon&&(m=xn({question:"?",warning:"!",info:"i"}[t.icon])),o.trim()!==m.trim()&&me(e,m)},Mi=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(let o of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Cn(e,o,"background-color",t.iconColor);Cn(e,".swal2-success-ring","border-color",t.iconColor)}},xn=e=>`<div class="${M["icon-content"]}">${e}</div>`,Pi=(e,t)=>{let o=un();if(o){if(!t.imageUrl){X(o);return}$(o,""),o.setAttribute("src",t.imageUrl),o.setAttribute("alt",t.imageAlt||""),Ve(o,"width",t.imageWidth),Ve(o,"height",t.imageHeight),o.className=M.image,pe(o,t,"image")}},en=!1,yn=0,Sn=0,Tn=0,En=0,vi=e=>{e.addEventListener("mousedown",bt),document.body.addEventListener("mousemove",Ct),e.addEventListener("mouseup",Mt),e.addEventListener("touchstart",bt),document.body.addEventListener("touchmove",Ct),e.addEventListener("touchend",Mt)},Oi=e=>{e.removeEventListener("mousedown",bt),document.body.removeEventListener("mousemove",Ct),e.removeEventListener("mouseup",Mt),e.removeEventListener("touchstart",bt),document.body.removeEventListener("touchmove",Ct),e.removeEventListener("touchend",Mt)},bt=e=>{let t=R();if(e.target===t||He().contains(e.target)){en=!0;let o=kn(e);yn=o.clientX,Sn=o.clientY,Tn=parseInt(t.style.insetInlineStart)||0,En=parseInt(t.style.insetBlockStart)||0,F(t,"swal2-dragging")}},Ct=e=>{let t=R();if(en){let{clientX:o,clientY:m}=kn(e);t.style.insetInlineStart=`${Tn+(o-yn)}px`,t.style.insetBlockStart=`${En+(m-Sn)}px`}},Mt=()=>{let e=R();en=!1,ge(e,"swal2-dragging")},kn=e=>{let t=0,o=0;return e.type.startsWith("mouse")?(t=e.clientX,o=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,o=e.touches[0].clientY),{clientX:t,clientY:o}},wi=(e,t)=>{let o=ee(),m=R();if(!(!o||!m)){if(t.toast){Ve(o,"width",t.width),m.style.width="100%";let C=qe();C&&m.insertBefore(C,He())}else Ve(m,"width",t.width);Ve(m,"padding",t.padding),t.color&&(m.style.color=t.color),t.background&&(m.style.background=t.background),X(gt()),xi(m,t),t.draggable&&!t.toast?(F(m,M.draggable),vi(m)):(ge(m,M.draggable),Oi(m))}},xi=(e,t)=>{let o=t.showClass||{};e.className=`${M.popup} ${ne(e)?o.popup:""}`,t.toast?(F([document.documentElement,document.body],M["toast-shown"]),F(e,M.toast)):F(e,M.modal),pe(e,t,"popup"),typeof t.customClass=="string"&&F(e,t.customClass),t.icon&&F(e,M[`icon-${t.icon}`])},yi=(e,t)=>{let o=Ht();if(!o)return;let{progressSteps:m,currentProgressStep:C}=t;if(!m||m.length===0||C===void 0){X(o);return}$(o),o.textContent="",C>=m.length&&Q("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),m.forEach((x,L)=>{let V=Si(x);if(o.appendChild(V),L===C&&F(V,M["active-progress-step"]),L!==m.length-1){let H=Ti(t);o.appendChild(H)}})},Si=e=>{let t=document.createElement("li");return F(t,M["progress-step"]),me(t,e),t},Ti=e=>{let t=document.createElement("li");return F(t,M["progress-step-line"]),e.progressStepsDistance&&Ve(t,"width",e.progressStepsDistance),t},Ei=(e,t)=>{let o=fn();o&&(Yt(o),at(o,!!(t.title||t.titleText),"block"),t.title&&Xt(t.title,o),t.titleText&&(o.innerText=t.titleText),pe(o,t,"title"))},An=(e,t)=>{wi(e,t),ri(e,t),yi(e,t),hi(e,t),Pi(e,t),Ei(e,t),ii(e,t),ui(e,t),ti(e,t),_i(e,t);let o=R();typeof t.didRender=="function"&&o&&t.didRender(o),f.eventEmitter.emit("didRender",o)},ki=()=>ne(R()),In=()=>{var e;return(e=ve())===null||e===void 0?void 0:e.click()},Ai=()=>{var e;return(e=Fe())===null||e===void 0?void 0:e.click()},Ii=()=>{var e;return(e=Ue())===null||e===void 0?void 0:e.click()},$e=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Nn=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Ni=(e,t,o)=>{Nn(e),t.toast||(e.keydownHandler=m=>Bi(t,m,o),e.keydownTarget=t.keydownListenerCapture?window:R(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},tn=(e,t)=>{var o;let m=qt();if(m.length){e=e+t,e===-2&&(e=m.length-1),e===m.length?e=0:e===-1&&(e=m.length-1),m[e].focus();return}(o=R())===null||o===void 0||o.focus()},Dn=["ArrowRight","ArrowDown"],Di=["ArrowLeft","ArrowUp"],Bi=(e,t,o)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?Li(t,e):t.key==="Tab"?Ri(t):[...Dn,...Di].includes(t.key)?zi(t.key):t.key==="Escape"&&Fi(t,e,o)))},Li=(e,t)=>{if(!pt(t.allowEnterKey))return;let o=_t(R(),t.input);if(e.target&&o&&e.target instanceof HTMLElement&&e.target.outerHTML===o.outerHTML){if(["textarea","file"].includes(t.input))return;In(),e.preventDefault()}},Ri=e=>{let t=e.target,o=qt(),m=-1;for(let C=0;C<o.length;C++)if(t===o[C]){m=C;break}e.shiftKey?tn(m,-1):tn(m,1),e.stopPropagation(),e.preventDefault()},zi=e=>{let t=rt(),o=ve(),m=Fe(),C=Ue();if(!t||!o||!m||!C)return;let x=[o,m,C];if(document.activeElement instanceof HTMLElement&&!x.includes(document.activeElement))return;let L=Dn.includes(e)?"nextElementSibling":"previousElementSibling",V=document.activeElement;if(V){for(let H=0;H<t.children.length;H++){if(V=V[L],!V)return;if(V instanceof HTMLButtonElement&&ne(V))break}V instanceof HTMLButtonElement&&V.focus()}},Fi=(e,t,o)=>{e.preventDefault(),pt(t.allowEscapeKey)&&o($e.esc)};var Ye={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Vi=()=>{let e=ee();Array.from(document.body.children).forEach(o=>{o.contains(e)||(o.hasAttribute("aria-hidden")&&o.setAttribute("data-previous-aria-hidden",o.getAttribute("aria-hidden")||""),o.setAttribute("aria-hidden","true"))})},Bn=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},Ln=typeof window<"u"&&!!window.GestureEvent,Wi=()=>{if(Ln&&!Se(document.body,M.iosfix)){let e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,F(document.body,M.iosfix),ji()}},ji=()=>{let e=ee();if(!e)return;let t;e.ontouchstart=o=>{t=Hi(o)},e.ontouchmove=o=>{t&&(o.preventDefault(),o.stopPropagation())}},Hi=e=>{let t=e.target,o=ee(),m=jt();return!o||!m||Ui(e)||qi(e)?!1:t===o||!Gt(o)&&t instanceof HTMLElement&&!Ho(t,m)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Gt(m)&&m.contains(t))},Ui=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",qi=e=>e.touches&&e.touches.length>1,$i=()=>{if(Se(document.body,M.iosfix)){let e=parseInt(document.body.style.top,10);ge(document.body,M.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},Yi=()=>{let e=document.createElement("div");e.className=M["scrollbar-measure"],document.body.appendChild(e);let t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},Ge=null,Gi=e=>{Ge===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Ge=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ge+Yi()}px`)},Ki=()=>{Ge!==null&&(document.body.style.paddingRight=`${Ge}px`,Ge=null)};function Rn(e,t,o,m){ut()?Fn(e,m):(j(o).then(()=>Fn(e,m)),Nn(f)),Ln?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),$t()&&(Ki(),$i(),Bn()),Xi()}function Xi(){ge([document.documentElement,document.body],[M.shown,M["height-auto"],M["no-backdrop"],M["toast-shown"]])}function Ae(e){e=Ji(e);let t=Ye.swalPromiseResolve.get(this),o=Zi(this);this.isAwaitingPromise?e.isDismissed||(ct(this),t(e)):o&&t(e)}let Zi=e=>{let t=R();if(!t)return!1;let o=W.innerParams.get(e);if(!o||Se(t,o.hideClass.popup))return!1;ge(t,o.showClass.popup),F(t,o.hideClass.popup);let m=ee();return ge(m,o.showClass.backdrop),F(m,o.hideClass.backdrop),Qi(e,t,o),!0};function zn(e){let t=Ye.swalPromiseReject.get(this);ct(this),t&&t(e)}let ct=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,W.innerParams.get(e)||e._destroy())},Ji=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Qi=(e,t,o)=>{var m;let C=ee(),x=Mn(t);typeof o.willClose=="function"&&o.willClose(t),(m=f.eventEmitter)===null||m===void 0||m.emit("willClose",t),x?er(e,t,C,o.returnFocus,o.didClose):Rn(e,C,o.returnFocus,o.didClose)},er=(e,t,o,m,C)=>{f.swalCloseEventFinishedCallback=Rn.bind(null,e,o,m,C);let x=function(L){if(L.target===t){var V;(V=f.swalCloseEventFinishedCallback)===null||V===void 0||V.call(f),delete f.swalCloseEventFinishedCallback,t.removeEventListener("animationend",x),t.removeEventListener("transitionend",x)}};t.addEventListener("animationend",x),t.addEventListener("transitionend",x)},Fn=(e,t)=>{setTimeout(()=>{var o;typeof t=="function"&&t.bind(e.params)(),(o=f.eventEmitter)===null||o===void 0||o.emit("didClose"),e._destroy&&e._destroy()})},Ke=e=>{let t=R();if(t||new yt,t=R(),!t)return;let o=qe();ut()?X(He()):tr(t,e),$(o),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},tr=(e,t)=>{let o=rt(),m=qe();!o||!m||(!t&&ne(ve())&&(t=ve()),$(o),t&&(X(t),m.setAttribute("data-button-to-replace",t.className),o.insertBefore(m,t)),F([e,o],M.loading))},nr=(e,t)=>{t.input==="select"||t.input==="radio"?sr(e,t):["text","email","number","tel","textarea"].some(o=>o===t.input)&&(Vt(t.inputValue)||Wt(t.inputValue))&&(Ke(ve()),cr(e,t))},or=(e,t)=>{let o=e.getInput();if(!o)return null;switch(t.input){case"checkbox":return ir(o);case"radio":return rr(o);case"file":return ar(o);default:return t.inputAutoTrim?o.value.trim():o.value}},ir=e=>e.checked?1:0,rr=e=>e.checked?e.value:null,ar=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,sr=(e,t)=>{let o=R();if(!o)return;let m=C=>{t.input==="select"?lr(o,Pt(C),t):t.input==="radio"&&dr(o,Pt(C),t)};Vt(t.inputOptions)||Wt(t.inputOptions)?(Ke(ve()),ot(t.inputOptions).then(C=>{e.hideLoading(),m(C)})):typeof t.inputOptions=="object"?m(t.inputOptions):ze(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},cr=(e,t)=>{let o=e.getInput();o&&(X(o),ot(t.inputValue).then(m=>{o.value=t.input==="number"?`${parseFloat(m)||0}`:`${m}`,$(o),o.focus(),e.hideLoading()}).catch(m=>{ze(`Error in inputValue promise: ${m}`),o.value="",$(o),o.focus(),e.hideLoading()}))};function lr(e,t,o){let m=ke(e,M.select);if(!m)return;let C=(x,L,V)=>{let H=document.createElement("option");H.value=V,me(H,L),H.selected=Vn(V,o.inputValue),x.appendChild(H)};t.forEach(x=>{let L=x[0],V=x[1];if(Array.isArray(V)){let H=document.createElement("optgroup");H.label=L,H.disabled=!1,m.appendChild(H),V.forEach(Ze=>C(H,Ze[1],Ze[0]))}else C(m,V,L)}),m.focus()}function dr(e,t,o){let m=ke(e,M.radio);if(!m)return;t.forEach(x=>{let L=x[0],V=x[1],H=document.createElement("input"),Ze=document.createElement("label");H.type="radio",H.name=M.radio,H.value=L,Vn(L,o.inputValue)&&(H.checked=!0);let sn=document.createElement("span");me(sn,V),sn.className=M.label,Ze.appendChild(H),Ze.appendChild(sn),m.appendChild(Ze)});let C=m.querySelectorAll("input");C.length&&C[0].focus()}let Pt=e=>{let t=[];return e instanceof Map?e.forEach((o,m)=>{let C=o;typeof C=="object"&&(C=Pt(C)),t.push([m,C])}):Object.keys(e).forEach(o=>{let m=e[o];typeof m=="object"&&(m=Pt(m)),t.push([o,m])}),t},Vn=(e,t)=>!!t&&t.toString()===e.toString(),mr=e=>{let t=W.innerParams.get(e);e.disableButtons(),t.input?Wn(e,"confirm"):on(e,!0)},pr=e=>{let t=W.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?Wn(e,"deny"):nn(e,!1)},gr=(e,t)=>{e.disableButtons(),t($e.cancel)},Wn=(e,t)=>{let o=W.innerParams.get(e);if(!o.input){ze(`The "input" parameter is needed to be set when using returnInputValueOn${Ft(t)}`);return}let m=e.getInput(),C=or(e,o);o.inputValidator?fr(e,C,t):m&&!m.checkValidity()?(e.enableButtons(),e.showValidationMessage(o.validationMessage||m.validationMessage)):t==="deny"?nn(e,C):on(e,C)},fr=(e,t,o)=>{let m=W.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>ot(m.inputValidator(t,m.validationMessage))).then(x=>{e.enableButtons(),e.enableInput(),x?e.showValidationMessage(x):o==="deny"?nn(e,t):on(e,t)})},nn=(e,t)=>{let o=W.innerParams.get(e||void 0);o.showLoaderOnDeny&&Ke(Fe()),o.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>ot(o.preDeny(t,o.validationMessage))).then(C=>{C===!1?(e.hideLoading(),ct(e)):e.close({isDenied:!0,value:typeof C>"u"?t:C})}).catch(C=>Hn(e||void 0,C))):e.close({isDenied:!0,value:t})},jn=(e,t)=>{e.close({isConfirmed:!0,value:t})},Hn=(e,t)=>{e.rejectPromise(t)},on=(e,t)=>{let o=W.innerParams.get(e||void 0);o.showLoaderOnConfirm&&Ke(),o.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>ot(o.preConfirm(t,o.validationMessage))).then(C=>{ne(gt())||C===!1?(e.hideLoading(),ct(e)):jn(e,typeof C>"u"?t:C)}).catch(C=>Hn(e||void 0,C))):jn(e,t)};function vt(){let e=W.innerParams.get(this);if(!e)return;let t=W.domCache.get(this);X(t.loader),ut()?e.icon&&$(He()):ur(t),ge([t.popup,t.actions],M.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}let ur=e=>{let t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?$(t[0],"inline-block"):jo()&&X(e.actions)};function Un(){let e=W.innerParams.get(this),t=W.domCache.get(this);return t?_t(t.popup,e.input):null}function qn(e,t,o){let m=W.domCache.get(e);t.forEach(C=>{m[C].disabled=o})}function $n(e,t){let o=R();if(!(!o||!e))if(e.type==="radio"){let m=o.querySelectorAll(`[name="${M.radio}"]`);for(let C=0;C<m.length;C++)m[C].disabled=t}else e.disabled=t}function Yn(){qn(this,["confirmButton","denyButton","cancelButton"],!1)}function Gn(){qn(this,["confirmButton","denyButton","cancelButton"],!0)}function Kn(){$n(this.getInput(),!1)}function Xn(){$n(this.getInput(),!0)}function Zn(e){let t=W.domCache.get(this),o=W.innerParams.get(this);me(t.validationMessage,e),t.validationMessage.className=M["validation-message"],o.customClass&&o.customClass.validationMessage&&F(t.validationMessage,o.customClass.validationMessage),$(t.validationMessage);let m=this.getInput();m&&(m.setAttribute("aria-invalid","true"),m.setAttribute("aria-describedby",M["validation-message"]),hn(m),F(m,M.inputerror))}function Jn(){let e=W.domCache.get(this);e.validationMessage&&X(e.validationMessage);let t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ge(t,M.inputerror))}let Xe={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},_r=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],hr={allowEnterKey:void 0},br=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Qn=e=>Object.prototype.hasOwnProperty.call(Xe,e),eo=e=>_r.indexOf(e)!==-1,to=e=>hr[e],Cr=e=>{Qn(e)||Q(`Unknown parameter "${e}"`)},Mr=e=>{br.includes(e)&&Q(`The parameter "${e}" is incompatible with toasts`)},Pr=e=>{let t=to(e);t&&gn(e,t)},no=e=>{e.backdrop===!1&&e.allowOutsideClick&&Q('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&Q(`Invalid theme "${e.theme}"`);for(let t in e)Cr(t),e.toast&&Mr(t),Pr(t)};function oo(e){let t=ee(),o=R(),m=W.innerParams.get(this);if(!o||Se(o,m.hideClass.popup)){Q("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let C=vr(e),x=Object.assign({},m,C);no(x),t.dataset.swal2Theme=x.theme,An(this,x),W.innerParams.set(this,x),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}let vr=e=>{let t={};return Object.keys(e).forEach(o=>{eo(o)?t[o]=e[o]:Q(`Invalid parameter to update: ${o}`)}),t};function io(){let e=W.domCache.get(this),t=W.innerParams.get(this);if(!t){ro(this);return}e.popup&&f.swalCloseEventFinishedCallback&&(f.swalCloseEventFinishedCallback(),delete f.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),f.eventEmitter.emit("didDestroy"),Or(this)}let Or=e=>{ro(e),delete e.params,delete f.keydownHandler,delete f.keydownTarget,delete f.currentInstance},ro=e=>{e.isAwaitingPromise?(rn(W,e),e.isAwaitingPromise=!0):(rn(Ye,e),rn(W,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},rn=(e,t)=>{for(let o in e)e[o].delete(t)};var wr=Object.freeze({__proto__:null,_destroy:io,close:Ae,closeModal:Ae,closePopup:Ae,closeToast:Ae,disableButtons:Gn,disableInput:Xn,disableLoading:vt,enableButtons:Yn,enableInput:Kn,getInput:Un,handleAwaitingPromise:ct,hideLoading:vt,rejectPromise:zn,resetValidationMessage:Jn,showValidationMessage:Zn,update:oo});let xr=(e,t,o)=>{e.toast?yr(e,t,o):(Tr(t),Er(t),kr(e,t,o))},yr=(e,t,o)=>{t.popup.onclick=()=>{e&&(Sr(e)||e.timer||e.input)||o($e.close)}},Sr=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton),Ot=!1,Tr=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(Ot=!0)}}},Er=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(o){e.popup.onmouseup=()=>{},(o.target===e.popup||o.target instanceof HTMLElement&&e.popup.contains(o.target))&&(Ot=!0)}}},kr=(e,t,o)=>{t.container.onclick=m=>{if(Ot){Ot=!1;return}m.target===t.container&&pt(e.allowOutsideClick)&&o($e.backdrop)}},Ar=e=>typeof e=="object"&&e.jquery,ao=e=>e instanceof Element||Ar(e),Ir=e=>{let t={};return typeof e[0]=="object"&&!ao(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((o,m)=>{let C=e[m];typeof C=="string"||ao(C)?t[o]=C:C!==void 0&&ze(`Unexpected type of ${o}! Expected "string" or "Element", got ${typeof C}`)}),t};function Nr(...e){return new this(...e)}function Dr(e){class t extends this{_main(m,C){return super._main(m,Object.assign({},e,C))}}return t}let Br=()=>f.timeout&&f.timeout.getTimerLeft(),so=()=>{if(f.timeout)return Uo(),f.timeout.stop()},co=()=>{if(f.timeout){let e=f.timeout.start();return Kt(e),e}},Lr=()=>{let e=f.timeout;return e&&(e.running?so():co())},Rr=e=>{if(f.timeout){let t=f.timeout.increase(e);return Kt(t,!0),t}},zr=()=>!!(f.timeout&&f.timeout.isRunning()),lo=!1,an={};function Fr(e="data-swal-template"){an[e]=this,lo||(document.body.addEventListener("click",Vr),lo=!0)}let Vr=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(let o in an){let m=t.getAttribute(o);if(m){an[o].fire({template:m});return}}};class Wr{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,o){let m=this._getHandlersByEventName(t);m.includes(o)||m.push(o)}once(t,o){let m=(...C)=>{this.removeListener(t,m),o.apply(this,C)};this.on(t,m)}emit(t,...o){this._getHandlersByEventName(t).forEach(m=>{try{m.apply(this,o)}catch(C){console.error(C)}})}removeListener(t,o){let m=this._getHandlersByEventName(t),C=m.indexOf(o);C>-1&&m.splice(C,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}f.eventEmitter=new Wr;var jr=Object.freeze({__proto__:null,argsToParams:Ir,bindClickHandler:Fr,clickCancel:Ii,clickConfirm:In,clickDeny:Ai,enableLoading:Ke,fire:Nr,getActions:rt,getCancelButton:Ue,getCloseButton:Ut,getConfirmButton:ve,getContainer:ee,getDenyButton:Fe,getFocusableElements:qt,getFooter:_n,getHtmlContainer:jt,getIcon:He,getIconContent:Ro,getImage:un,getInputLabel:zo,getLoader:qe,getPopup:R,getProgressSteps:Ht,getTimerLeft:Br,getTimerProgressBar:ft,getTitle:fn,getValidationMessage:gt,increaseTimer:Rr,isDeprecatedParameter:to,isLoading:Vo,isTimerRunning:zr,isUpdatableParameter:eo,isValidParameter:Qn,isVisible:ki,mixin:Dr,off:(e,t)=>{if(!e){f.eventEmitter.reset();return}t?f.eventEmitter.removeListener(e,t):f.eventEmitter.removeAllListeners(e)},on:(e,t)=>{f.eventEmitter.on(e,t)},once:(e,t)=>{f.eventEmitter.once(e,t)},resumeTimer:co,showLoading:Ke,stopTimer:so,toggleTimer:Lr});class Hr{constructor(t,o){this.callback=t,this.remaining=o,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){let o=this.running;return o&&this.stop(),this.remaining+=t,o&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let mo=["swal-title","swal-html","swal-footer"],Ur=e=>{let t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};let o=t.content;return Jr(o),Object.assign(qr(o),$r(o),Yr(o),Gr(o),Kr(o),Xr(o),Zr(o,mo))},qr=e=>{let t={};return Array.from(e.querySelectorAll("swal-param")).forEach(m=>{je(m,["name","value"]);let C=m.getAttribute("name"),x=m.getAttribute("value");!C||!x||(typeof Xe[C]=="boolean"?t[C]=x!=="false":typeof Xe[C]=="object"?t[C]=JSON.parse(x):t[C]=x)}),t},$r=e=>{let t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(m=>{let C=m.getAttribute("name"),x=m.getAttribute("value");!C||!x||(t[C]=new Function(`return ${x}`)())}),t},Yr=e=>{let t={};return Array.from(e.querySelectorAll("swal-button")).forEach(m=>{je(m,["type","color","aria-label"]);let C=m.getAttribute("type");!C||!["confirm","cancel","deny"].includes(C)||(t[`${C}ButtonText`]=m.innerHTML,t[`show${Ft(C)}Button`]=!0,m.hasAttribute("color")&&(t[`${C}ButtonColor`]=m.getAttribute("color")),m.hasAttribute("aria-label")&&(t[`${C}ButtonAriaLabel`]=m.getAttribute("aria-label")))}),t},Gr=e=>{let t={},o=e.querySelector("swal-image");return o&&(je(o,["src","width","height","alt"]),o.hasAttribute("src")&&(t.imageUrl=o.getAttribute("src")||void 0),o.hasAttribute("width")&&(t.imageWidth=o.getAttribute("width")||void 0),o.hasAttribute("height")&&(t.imageHeight=o.getAttribute("height")||void 0),o.hasAttribute("alt")&&(t.imageAlt=o.getAttribute("alt")||void 0)),t},Kr=e=>{let t={},o=e.querySelector("swal-icon");return o&&(je(o,["type","color"]),o.hasAttribute("type")&&(t.icon=o.getAttribute("type")),o.hasAttribute("color")&&(t.iconColor=o.getAttribute("color")),t.iconHtml=o.innerHTML),t},Xr=e=>{let t={},o=e.querySelector("swal-input");o&&(je(o,["type","label","placeholder","value"]),t.input=o.getAttribute("type")||"text",o.hasAttribute("label")&&(t.inputLabel=o.getAttribute("label")),o.hasAttribute("placeholder")&&(t.inputPlaceholder=o.getAttribute("placeholder")),o.hasAttribute("value")&&(t.inputValue=o.getAttribute("value")));let m=Array.from(e.querySelectorAll("swal-input-option"));return m.length&&(t.inputOptions={},m.forEach(C=>{je(C,["value"]);let x=C.getAttribute("value");if(!x)return;let L=C.innerHTML;t.inputOptions[x]=L})),t},Zr=(e,t)=>{let o={};for(let m in t){let C=t[m],x=e.querySelector(C);x&&(je(x,[]),o[C.replace(/^swal-/,"")]=x.innerHTML.trim())}return o},Jr=e=>{let t=mo.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(o=>{let m=o.tagName.toLowerCase();t.includes(m)||Q(`Unrecognized element <${m}>`)})},je=(e,t)=>{Array.from(e.attributes).forEach(o=>{t.indexOf(o.name)===-1&&Q([`Unrecognized attribute "${o.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},po=10,Qr=e=>{let t=ee(),o=R();typeof e.willOpen=="function"&&e.willOpen(o),f.eventEmitter.emit("willOpen",o);let C=window.getComputedStyle(document.body).overflowY;na(t,o,e),setTimeout(()=>{ea(t,o)},po),$t()&&(ta(t,e.scrollbarPadding,C),Vi()),!ut()&&!f.previousActiveElement&&(f.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(o)),f.eventEmitter.emit("didOpen",o)},wt=e=>{let t=R();if(e.target!==t)return;let o=ee();t.removeEventListener("animationend",wt),t.removeEventListener("transitionend",wt),o.style.overflowY="auto",ge(o,M["no-transition"])},ea=(e,t)=>{Mn(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",wt),t.addEventListener("transitionend",wt)):e.style.overflowY="auto"},ta=(e,t,o)=>{Wi(),t&&o!=="hidden"&&Gi(o),setTimeout(()=>{e.scrollTop=0})},na=(e,t,o)=>{F(e,o.showClass.backdrop),o.animation?(t.style.setProperty("opacity","0","important"),$(t,"grid"),setTimeout(()=>{F(t,o.showClass.popup),t.style.removeProperty("opacity")},po)):$(t,"grid"),F([document.documentElement,document.body],M.shown),o.heightAuto&&o.backdrop&&!o.toast&&F([document.documentElement,document.body],M["height-auto"])};var go={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function oa(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=go.email),e.input==="url"&&(e.inputValidator=go.url))}function ia(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(Q('Target parameter is not valid, defaulting to "body"'),e.target="body")}function ra(e){oa(e),e.showLoaderOnConfirm&&!e.preConfirm&&Q(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ia(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),Jo(e)}let Oe;var xt=new WeakMap;class q{constructor(...t){if(r(this,xt,void 0),typeof window>"u")return;Oe=this;let o=Object.freeze(this.constructor.argsToParams(t));this.params=o,this.isAwaitingPromise=!1,d(xt,this,this._main(Oe.params))}_main(t,o={}){if(no(Object.assign({},o,t)),f.currentInstance){let x=Ye.swalPromiseResolve.get(f.currentInstance),{isAwaitingPromise:L}=f.currentInstance;f.currentInstance._destroy(),L||x({isDismissed:!0}),$t()&&Bn()}f.currentInstance=Oe;let m=sa(t,o);ra(m),Object.freeze(m),f.timeout&&(f.timeout.stop(),delete f.timeout),clearTimeout(f.restoreFocusTimeout);let C=ca(Oe);return An(Oe,m),W.innerParams.set(Oe,m),aa(Oe,C,m)}then(t){return p(xt,this).then(t)}finally(t){return p(xt,this).finally(t)}}let aa=(e,t,o)=>new Promise((m,C)=>{let x=L=>{e.close({isDismissed:!0,dismiss:L,isConfirmed:!1,isDenied:!1})};Ye.swalPromiseResolve.set(e,m),Ye.swalPromiseReject.set(e,C),t.confirmButton.onclick=()=>{mr(e)},t.denyButton.onclick=()=>{pr(e)},t.cancelButton.onclick=()=>{gr(e,x)},t.closeButton.onclick=()=>{x($e.close)},xr(o,t,x),Ni(f,o,x),nr(e,o),Qr(o),la(f,o,x),da(t,o),setTimeout(()=>{t.container.scrollTop=0})}),sa=(e,t)=>{let o=Ur(e),m=Object.assign({},Xe,t,o,e);return m.showClass=Object.assign({},Xe.showClass,m.showClass),m.hideClass=Object.assign({},Xe.hideClass,m.hideClass),m.animation===!1&&(m.showClass={backdrop:"swal2-noanimation"},m.hideClass={}),m},ca=e=>{let t={popup:R(),container:ee(),actions:rt(),confirmButton:ve(),denyButton:Fe(),cancelButton:Ue(),loader:qe(),closeButton:Ut(),validationMessage:gt(),progressSteps:Ht()};return W.domCache.set(e,t),t},la=(e,t,o)=>{let m=ft();X(m),t.timer&&(e.timeout=new Hr(()=>{o("timer"),delete e.timeout},t.timer),t.timerProgressBar&&($(m),pe(m,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&Kt(t.timer)})))},da=(e,t)=>{if(!t.toast){if(!pt(t.allowEnterKey)){gn("allowEnterKey"),ga();return}ma(e)||pa(e,t)||tn(-1,1)}},ma=e=>{let t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(let o of t)if(o instanceof HTMLElement&&ne(o))return o.focus(),!0;return!1},pa=(e,t)=>t.focusDeny&&ne(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ne(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&ne(e.confirmButton)?(e.confirmButton.focus(),!0):!1,ga=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};q.prototype.disableButtons=Gn,q.prototype.enableButtons=Yn,q.prototype.getInput=Un,q.prototype.disableInput=Xn,q.prototype.enableInput=Kn,q.prototype.hideLoading=vt,q.prototype.disableLoading=vt,q.prototype.showValidationMessage=Zn,q.prototype.resetValidationMessage=Jn,q.prototype.close=Ae,q.prototype.closePopup=Ae,q.prototype.closeModal=Ae,q.prototype.closeToast=Ae,q.prototype.rejectPromise=zn,q.prototype.update=oo,q.prototype._destroy=io,Object.assign(q,jr),Object.keys(wr).forEach(e=>{q[e]=function(...t){return Oe&&Oe[e]?Oe[e](...t):null}}),q.DismissReason=$e,q.version="11.26.3";let yt=q;return yt.default=yt,yt});typeof ye<"u"&&ye.Sweetalert2&&(ye.swal=ye.sweetAlert=ye.Swal=ye.SweetAlert=ye.Sweetalert2);typeof document<"u"&&(function(c,u){var p=c.createElement("style");if(c.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=u);else try{p.innerHTML=u}catch{p.innerText=u}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var yo=(()=>{let u=class u{};u.\u0275fac=function(d){return new(d||u)},u.\u0275cmp=Z({type:u,selectors:[["app-appointments"]],decls:1,vars:0,template:function(d,n){d&1&&_(0,"router-outlet")},dependencies:[G,K,vo],encapsulation:2});let c=u;return c})();function ua(c,u){c&1&&(i(0,"div",50),l(1),h(2,"translate"),s()),c&2&&(a(),P(" ",b(2,1,"APPOINTMENTS.ADD_DOCTOR.FULL_NAME_REQUIRED")," "))}function _a(c,u){if(c&1&&(i(0,"option",31),l(1),s()),c&2){let p=u.$implicit;v("value",p.id),a(),O(p.nombre)}}function ha(c,u){c&1&&(i(0,"div",50),l(1," Se requiere seleccionar un servicio "),s())}function ba(c,u){if(c&1&&(i(0,"option",31),l(1),s()),c&2){let p=u.$implicit;v("value",p.value),a(),O(p.label)}}function Ca(c,u){if(c&1){let p=z();i(0,"div",38)(1,"div",51)(2,"h6",52),_(3,"i",53),l(4),h(5,"translate"),s(),i(6,"div",22)(7,"div",23)(8,"label",24),l(9),h(10,"translate"),s(),i(11,"input",54),E("ngModelChange",function(d){A(p);let n=y();return T(n.hora_inicio_matutino,d)||(n.hora_inicio_matutino=d),I(d)}),s()(),i(12,"div",23)(13,"label",24),l(14),h(15,"translate"),s(),i(16,"input",55),E("ngModelChange",function(d){A(p);let n=y();return T(n.hora_fin_matutino,d)||(n.hora_fin_matutino=d),I(d)}),s()()()()()}if(c&2){let p=y();a(4),P("",b(5,5,"APPOINTMENTS.ADD_DOCTOR.MORNING_SHIFT")," "),a(5),O(b(10,7,"APPOINTMENTS.ADD_DOCTOR.START_TIME")),a(2),S("ngModel",p.hora_inicio_matutino),a(3),O(b(15,9,"APPOINTMENTS.ADD_DOCTOR.END_TIME")),a(2),S("ngModel",p.hora_fin_matutino)}}function Ma(c,u){if(c&1){let p=z();i(0,"div",38)(1,"div",51)(2,"h6",52),_(3,"i",56),l(4),h(5,"translate"),s(),i(6,"div",22)(7,"div",23)(8,"label",24),l(9),h(10,"translate"),s(),i(11,"input",57),E("ngModelChange",function(d){A(p);let n=y();return T(n.hora_inicio_vespertino,d)||(n.hora_inicio_vespertino=d),I(d)}),s()(),i(12,"div",23)(13,"label",24),l(14),h(15,"translate"),s(),i(16,"input",58),E("ngModelChange",function(d){A(p);let n=y();return T(n.hora_fin_vespertino,d)||(n.hora_fin_vespertino=d),I(d)}),s()()()()()}if(c&2){let p=y();a(4),P("",b(5,5,"APPOINTMENTS.ADD_DOCTOR.EVENING_SHIFT")," "),a(5),O(b(10,7,"APPOINTMENTS.ADD_DOCTOR.START_TIME")),a(2),S("ngModel",p.hora_inicio_vespertino),a(3),O(b(15,9,"APPOINTMENTS.ADD_DOCTOR.END_TIME")),a(2),S("ngModel",p.hora_fin_vespertino)}}function Pa(c,u){if(c&1){let p=z();i(0,"div",41)(1,"div",59),_(2,"i",60),i(3,"div",61)(4,"strong"),l(5),h(6,"translate"),s(),l(7),s(),i(8,"button",62),w("click",function(){A(p);let d=y();return I(d.text_success="")}),s()()()}if(c&2){let p=y();a(5),P("",b(6,2,"COMMON.SUCCESS"),":"),a(2),P(" ",p.text_success," ")}}function va(c,u){if(c&1){let p=z();i(0,"div",41)(1,"div",63),_(2,"i",64),i(3,"div",61)(4,"strong"),l(5),h(6,"translate"),s(),l(7),s(),i(8,"button",62),w("click",function(){A(p);let d=y();return I(d.text_validation="")}),s()()()}if(c&2){let p=y();a(5),P("",b(6,2,"COMMON.WARNING"),":"),a(2),P(" ",p.text_validation," ")}}function Oa(c,u){c&1&&_(0,"span",46)}function wa(c,u){c&1&&_(0,"i",47)}var So=(()=>{let u=class u{constructor(r,d,n,f,g,j,te){this.router=r,this.route=d,this.translate=n,this.appointmentsService=f,this.appointmentServicesService=g,this.driverTourService=j,this.permissionService=te,this.isEditMode=!1,this.doctorId=null,this.nombre_completo="",this.appointment_service_id=0,this.turno="Matutino",this.hora_inicio_matutino="08:00",this.hora_fin_matutino="14:00",this.hora_inicio_vespertino="14:00",this.hora_fin_vespertino="20:00",this.submitted=!1,this.loading=!1,this.servicios=[],this.turnosDisponibles=[{value:"Matutino",label:"Matutino"},{value:"Vespertino",label:"Vespertino"},{value:"Mixto",label:"Jornada Acumulada"}],this.text_success="",this.text_validation="";let Ee=localStorage.getItem("language")||"es";this.translate.use(Ee)}ngOnInit(){this.loadServicios(),this.route.params.subscribe(r=>{r.id&&(this.isEditMode=!0,this.doctorId=+r.id,this.loadDoctorData(this.doctorId))})}startTour(){this.driverTourService.startAddDoctorTour()}loadDoctorData(r){this.loading=!0,this.appointmentsService.getDoctor(r).subscribe({next:d=>{let n=d.data;this.nombre_completo=n.nombre_completo,this.appointment_service_id=n.appointment_service_id||0,this.turno=n.turno,this.hora_inicio_matutino=n.hora_inicio_matutino||"08:00",this.hora_fin_matutino=n.hora_fin_matutino||"14:00",this.hora_inicio_vespertino=n.hora_inicio_vespertino||"14:00",this.hora_fin_vespertino=n.hora_fin_vespertino||"20:00",this.loading=!1},error:d=>{console.error("Error loading doctor:",d),this.loading=!1}})}loadServicios(){this.appointmentServicesService.listAccessible().subscribe({next:r=>{r.success&&(this.servicios=r.data)},error:r=>{console.error("Error al cargar servicios:",r)}})}validateForm(){let r=[];if((!this.nombre_completo||this.nombre_completo.trim()==="")&&r.push(this.translate.instant("APPOINTMENTS.ADD_DOCTOR.FULL_NAME")),(!this.appointment_service_id||this.appointment_service_id===0)&&r.push("Servicio de cita"),this.turno||r.push(this.translate.instant("APPOINTMENTS.ADD_DOCTOR.SHIFT")),(this.turno==="Matutino"||this.turno==="Mixto"||this.turno==="Jornada Acumulada")&&(!this.hora_inicio_matutino||!this.hora_fin_matutino)&&r.push(this.translate.instant("APPOINTMENTS.ADD_DOCTOR.MORNING_HOURS")),(this.turno==="Vespertino"||this.turno==="Mixto"||this.turno==="Jornada Acumulada")&&(!this.hora_inicio_vespertino||!this.hora_fin_vespertino)&&r.push(this.translate.instant("APPOINTMENTS.ADD_DOCTOR.AFTERNOON_HOURS")),r.length>0){let d=r.join(", ");return this.text_validation=this.translate.instant("FIELDS_MISSING",{plural:r.length>1?"n":"",sPlural:r.length>1?"s":"",campos:d}),!1}return!0}formatTimeToHi(r){return r?r.length===5&&r.match(/^\d{2}:\d{2}$/)?r:r.substring(0,5):""}saveDoctor(){if(this.submitted=!0,this.text_validation="",this.text_success="",!this.validateForm())return;let r={nombre_completo:this.nombre_completo,appointment_service_id:this.appointment_service_id,turno:this.turno,hora_inicio_matutino:this.formatTimeToHi(this.hora_inicio_matutino),hora_fin_matutino:this.formatTimeToHi(this.hora_fin_matutino),hora_inicio_vespertino:this.formatTimeToHi(this.hora_inicio_vespertino),hora_fin_vespertino:this.formatTimeToHi(this.hora_fin_vespertino),activo:!0};this.loading=!0,this.isEditMode&&this.doctorId?this.appointmentsService.updateDoctor(this.doctorId,r).subscribe({next:d=>{this.text_success=this.translate.instant("APPOINTMENTS.ADD_DOCTOR.UPDATE_SUCCESS"),this.loading=!1,setTimeout(()=>{this.router.navigate(["/appointments/list_doctor"])},1500)},error:d=>{let n=d.error?.message||this.translate.instant("ERROR_OCCURRED");this.text_validation=n,this.loading=!1}}):this.appointmentsService.storeDoctor(r).subscribe({next:d=>{this.text_success=this.translate.instant("APPOINTMENTS.ADD_DOCTOR.SUCCESS"),this.loading=!1,setTimeout(()=>{this.router.navigate(["/appointments/list_doctor"])},1500)},error:d=>{let n=d.error?.message||this.translate.instant("ERROR_OCCURRED");this.text_validation=n,this.loading=!1}})}goToList(){this.router.navigate(["/appointments/list_doctor"])}onNameKeyPress(r){let d=r.charCode,n=String.fromCharCode(d);/^[a-zA-Z\s]$/.test(n)||r.preventDefault()}onTurnoChange(){this.text_validation=""}};u.\u0275fac=function(d){return new(d||u)(k(ue),k(Ne),k(_e),k(Me),k(Pe),k(xe),k(wo))},u.\u0275cmp=Z({type:u,selectors:[["app-add-doctor"]],inputs:{isEditMode:"isEditMode"},decls:93,vars:56,consts:[[1,"page-wrapper"],[1,"content","doctor-form"],[1,"page-header","mb-4"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb","bg-light","p-2","rounded"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"row","justify-content-center"],[1,"col-lg-10","col-xl-8"],[1,"card","card-form","shadow","border-0"],[1,"card-body","p-4"],[1,"form-header","text-center","mb-4"],[1,"form-icon","mb-3"],[1,"fa","fa-user-md"],[1,"fw-bold","mb-2"],[1,"text-muted","small"],[3,"keydown.enter"],[1,"form-section"],[1,"section-header","mb-3"],[1,"section-title"],[1,"fa","fa-user","me-2"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],[1,"fa","fa-id-card","me-1"],[1,"text-danger"],["type","text","name","nombre_completo","placeholder","Ej: Dr. Juan P\xE9rez Garc\xEDa","required","",1,"form-control",3,"ngModelChange","keypress","ngModel"],["class","invalid-feedback d-block",4,"ngIf"],[1,"fa","fa-stethoscope","me-1"],["name","appointment_service_id","required","",1,"form-select","form-control",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"form-divider","my-4"],[1,"fa","fa-clock","me-2"],[1,"col-md-12"],[1,"fa","fa-calendar-alt","me-1"],["name","turno","required","",1,"form-select","form-control",3,"ngModelChange","change","ngModel"],[1,"col-12"],[1,"alert","alert-info","d-flex","align-items-center"],[1,"fa","fa-info-circle","me-3"],[1,"mt-4"],[1,"form-actions","d-flex","justify-content-end","gap-2","mt-4"],["type","button",1,"btn","btn-cancel",3,"click","disabled"],[1,"fa","fa-times","me-2"],["type","button",1,"btn","btn-save",3,"click","disabled"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fa","fa-save","me-2"],["type","button",1,"tour-help-button",3,"click","title"],[1,"fa","fa-question"],[1,"invalid-feedback","d-block"],[1,"schedule-section"],[1,"schedule-subtitle"],[1,"fa","fa-sun","me-2"],["type","time","name","hora_inicio_matutino","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","time","name","hora_fin_matutino","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-moon","me-2"],["type","time","name","hora_inicio_vespertino","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","time","name","hora_fin_vespertino","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"alert","alert-modern","alert-success","d-flex","align-items-center"],[1,"fa","fa-check-circle","me-3"],[1,"flex-grow-1"],["type","button",1,"btn-close",3,"click"],[1,"alert","alert-modern","alert-warning","d-flex","align-items-center"],[1,"fa","fa-exclamation-triangle","me-3"]],template:function(d,n){d&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ol",5)(6,"li",6),l(7),h(8,"translate"),s(),i(9,"li",7),l(10),h(11,"translate"),s()()()()(),i(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13),_(18,"i",14),s(),i(19,"h3",15),l(20),h(21,"translate"),s(),i(22,"p",16),l(23),h(24,"translate"),s()(),i(25,"form",17),w("keydown.enter",function(g){return g.preventDefault()}),i(26,"div",18)(27,"div",19)(28,"h5",20),_(29,"i",21),l(30),h(31,"translate"),s()(),i(32,"div",22)(33,"div",23)(34,"label",24),_(35,"i",25),l(36),h(37,"translate"),i(38,"span",26),l(39,"*"),s()(),i(40,"input",27),E("ngModelChange",function(g){return T(n.nombre_completo,g)||(n.nombre_completo=g),g}),w("keypress",function(g){return n.onNameKeyPress(g)}),s(),N(41,ua,3,3,"div",28),s(),i(42,"div",23)(43,"label",24),_(44,"i",29),l(45,"Servicio de Cita "),i(46,"span",26),l(47,"*"),s()(),i(48,"select",30),E("ngModelChange",function(g){return T(n.appointment_service_id,g)||(n.appointment_service_id=g),g}),i(49,"option",31),l(50,"Seleccionar servicio"),s(),N(51,_a,2,2,"option",32),s(),N(52,ha,2,0,"div",28),s()()(),_(53,"div",33),i(54,"div",18)(55,"div",19)(56,"h5",20),_(57,"i",34),l(58),h(59,"translate"),s()(),i(60,"div",22)(61,"div",35)(62,"label",24),_(63,"i",36),l(64),h(65,"translate"),i(66,"span",26),l(67,"*"),s()(),i(68,"select",37),E("ngModelChange",function(g){return T(n.turno,g)||(n.turno=g),g}),w("change",function(){return n.onTurnoChange()}),N(69,ba,2,2,"option",32),s()(),D(70,Ca,17,11,"div",38),D(71,Ma,17,11,"div",38),i(72,"div",38)(73,"div",39),_(74,"i",40),i(75,"div"),l(76),h(77,"translate"),s()()()()(),D(78,Pa,9,4,"div",41),D(79,va,9,4,"div",41),i(80,"div",42)(81,"button",43),w("click",function(){return n.goToList()}),_(82,"i",44),l(83),h(84,"translate"),s(),i(85,"button",45),w("click",function(){return n.saveDoctor()}),D(86,Oa,1,0,"span",46)(87,wa,1,0,"i",47),l(88),h(89,"translate"),s()()()()()()()()(),i(90,"button",48),h(91,"translate"),w("click",function(){return n.startTour()}),_(92,"i",49),s()),d&2&&(a(7),P("",b(8,32,"DOCTORS")," >"),a(3),O(b(11,34,"APPOINTMENTS.ADD_DOCTOR.BREADCRUMB")),a(10),O(b(21,36,"APPOINTMENTS.ADD_DOCTOR.TITLE")),a(3),O(b(24,38,"APPOINTMENTS.ADD_DOCTOR.SUBTITLE")),a(7),P("",b(31,40,"APPOINTMENTS.ADD_DOCTOR.PERSONAL_INFO")," "),a(6),P("",b(37,42,"APPOINTMENTS.ADD_DOCTOR.FULL_NAME")," "),a(4),Y("is-invalid",n.submitted&&!n.nombre_completo.trim()),S("ngModel",n.nombre_completo),a(),v("ngIf",n.submitted&&!n.nombre_completo.trim()),a(7),Y("is-invalid",n.submitted&&(!n.appointment_service_id||n.appointment_service_id===0)),S("ngModel",n.appointment_service_id),a(),v("value",0),a(2),v("ngForOf",n.servicios),a(),v("ngIf",n.submitted&&(!n.appointment_service_id||n.appointment_service_id===0)),a(6),P("",b(59,44,"APPOINTMENTS.ADD_DOCTOR.SCHEDULE_INFO")," "),a(6),P("",b(65,46,"APPOINTMENTS.ADD_DOCTOR.SHIFT")," "),a(4),S("ngModel",n.turno),a(),v("ngForOf",n.turnosDisponibles),a(),B(n.turno==="Matutino"||n.turno==="Mixto"?70:-1),a(),B(n.turno==="Vespertino"||n.turno==="Mixto"?71:-1),a(5),O(b(77,48,"APPOINTMENTS.ADD_DOCTOR.APPOINTMENT_INFO")),a(2),B(n.text_success?78:-1),a(),B(n.text_validation?79:-1),a(2),v("disabled",n.loading),a(2),P("",b(84,50,"COMMON.CANCEL")," "),a(2),v("disabled",n.loading),a(),B(n.loading?86:87),a(2),P(" ",b(89,52,"COMMON.SAVE")," "),a(2),v("title",oe(b(91,54,"TOUR.HELP_BUTTON"))))},dependencies:[G,fe,Ie,J,Le,ce,le,be,se,re,De,Re,ae,Be,K,ie,he],styles:[".doctor-form[_ngcontent-%COMP%]   .card-form[_ngcontent-%COMP%]{border-radius:1rem;padding:.5rem;box-sizing:border-box;border:4px solid var(--user-border-color, #0B7285)!important;background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;transition:background-color .3s,color .3s,border-color .3s;box-shadow:0 8px 24px #00000014}.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]{width:70px;height:70px;margin:0 auto;background:linear-gradient(135deg,var(--user-border-color, #0B7285),color-mix(in srgb,var(--user-border-color, #0B7285) 80%,#000));border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #00000026}.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;font-size:1.75rem;margin:0}.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;opacity:.7;margin:0}.doctor-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;font-size:1.1rem;font-weight:600;padding-bottom:.5rem;border-bottom:2px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);display:flex;align-items:center}.doctor-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285);font-size:1rem}.doctor-form[_ngcontent-%COMP%]   .form-divider[_ngcontent-%COMP%]{height:1px;background:linear-gradient(90deg,transparent,color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent),transparent)}.doctor-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem;color:var(--user-card-text-color, #111827)!important;margin-bottom:.5rem;display:flex;align-items:center}.doctor-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285);opacity:.8;font-size:.85rem}.doctor-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{font-size:.85rem;margin-left:2px}.doctor-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .doctor-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-radius:.5rem;padding:.75rem 1rem;font-size:.95rem}.doctor-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .doctor-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{transform:translateY(-1px)}.doctor-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%], .doctor-form[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#ef4444}.doctor-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]:focus, .doctor-form[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #ef444426}.doctor-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{font-size:.85rem;margin-top:.25rem;color:#ef4444;font-weight:500}.doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--user-border-color, #0B7285) 5%,transparent);border-radius:.75rem;padding:1.25rem;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent)}.doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%]   .schedule-subtitle[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;font-size:1rem;font-weight:600;margin-bottom:1rem;display:flex;align-items:center}.doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%]   .schedule-subtitle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285)}.doctor-form[_ngcontent-%COMP%]   .alert-modern[_ngcontent-%COMP%]{border-radius:10px;border:none;padding:1rem 1.25rem;font-size:.95rem;box-shadow:0 2px 8px #00000014;display:flex;align-items:center}.doctor-form[_ngcontent-%COMP%]   .alert-modern[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;flex-shrink:0}.doctor-form[_ngcontent-%COMP%]   .alert-modern[_ngcontent-%COMP%]   .flex-grow-1[_ngcontent-%COMP%]{flex:1}.doctor-form[_ngcontent-%COMP%]   .alert-modern[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{flex-shrink:0;margin-left:1rem}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 12px #10b9814d}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);opacity:.8}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;box-shadow:0 4px 12px #f59e0b4d}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);opacity:.8}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 12px #ef44444d}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);opacity:.8}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]{background:color-mix(in srgb,#3b82f6 15%,transparent);border-left:4px solid #3b82f6;border-radius:.5rem;padding:.75rem 1rem;color:var(--user-card-text-color, #111827)!important}.doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3b82f6;font-size:1rem}.doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%]{font-size:.9rem;margin:0;color:var(--user-card-text-color, #111827)!important}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{padding-top:1rem;border-top:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent)}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.65rem 1.5rem;border-radius:.5rem;font-weight:600;font-size:.95rem;transition:all .2s ease;display:inline-flex;align-items:center;border:none}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563);color:#fff;box-shadow:0 2px 6px #6b72804d}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #6b728066;filter:brightness(1.1)}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--user-border-color, #0B7285),color-mix(in srgb,var(--user-border-color, #0B7285) 85%,#000));color:#fff;box-shadow:0 2px 6px #00000026}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #0003;filter:brightness(1.1)}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .card-form[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .card-form[_ngcontent-%COMP%]{background-color:var(--user-card-bg, #23221c)!important;border-color:var(--user-border-color, #0B7285)!important;box-shadow:0 8px 24px #0006}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent)}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%]   .schedule-subtitle[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%]   .schedule-subtitle[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]{background:color-mix(in srgb,#3b82f6 25%,transparent)}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;box-shadow:0 4px 12px #f59e0b4d}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);opacity:.8}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 12px #10b9814d}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);opacity:.8}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 12px #ef44444d}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);opacity:.8}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}@media (max-width: 768px){.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]{width:60px;height:60px}.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem}.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}.doctor-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{margin-bottom:.5rem}}"]});let c=u;return c})();var dn=fo(ln());var xa=()=>["/appointments/add_doctor"],ya=(c,u,p)=>({"bg-success":c,"bg-primary":u,"bg-info":p}),Sa=c=>["/appointments/edit_doctor/",c];function Ta(c,u){if(c&1&&(i(0,"option",57),l(1),s()),c&2){let p=u.$implicit;v("value",p.id),a(),O(p.nombre)}}function Ea(c,u){c&1&&(i(0,"tr")(1,"td",58)(2,"div",59)(3,"span",60),l(4),h(5,"translate"),s()(),i(6,"p",61),l(7),h(8,"translate"),s()()()),c&2&&(a(4),P("",b(5,2,"COMMON.LOADING"),"..."),a(3),P("",b(8,4,"COMMON.LOADING"),"..."))}function ka(c,u){c&1&&(i(0,"tr")(1,"td",58),_(2,"i",62),i(3,"p",63),l(4),h(5,"translate"),s()()()),c&2&&(a(4),O(b(5,1,"APPOINTMENTS.LIST_DOCTORS.NO_DOCTORS")))}function Aa(c,u){c&1&&_(0,"i",82)}function Ia(c,u){c&1&&_(0,"i",83)}function Na(c,u){c&1&&_(0,"i",84)}function Da(c,u){if(c&1){let p=z();i(0,"tr")(1,"td")(2,"div",64),_(3,"i",65),i(4,"strong"),l(5),s()()(),i(6,"td")(7,"div",66)(8,"span",67),_(9,"i",68),l(10),s()()(),i(11,"td")(12,"div",69)(13,"span",70),N(14,Aa,1,0,"i",71)(15,Ia,1,0,"i",72)(16,Na,1,0,"i",73),l(17),s()()(),i(18,"td")(19,"div",74)(20,"small",63),_(21,"i",75),l(22),s()()(),i(23,"td",76)(24,"div",77)(25,"button",78),h(26,"translate"),_(27,"i",79),s(),i(28,"button",80),h(29,"translate"),w("click",function(){let d=A(p).$implicit,n=y();return I(n.selectDoctor(d))}),_(30,"i",81),s()()()()}if(c&2){let p=u.$implicit,r=y();a(5),O(p.nombre_completo),a(5),P(" ",r.getRoleName(p)," "),a(3),v("ngClass",Co(15,ya,p.turno==="Matutino",p.turno==="Vespertino",p.turno==="Mixto")),a(),v("ngIf",p.turno==="Matutino"),a(),v("ngIf",p.turno==="Vespertino"),a(),v("ngIf",p.turno==="Mixto"),a(),P(" ",p.turno==="Mixto"?"Jornada Acumulada":p.turno," "),a(5),P(" ",r.getSchedule(p)," "),a(3),v("routerLink",bo(19,Sa,p.id))("title",b(26,11,"APPOINTMENTS.LIST_DOCTORS.EDIT")),a(3),v("title",b(29,13,"APPOINTMENTS.LIST_DOCTORS.DELETE"))}}function Ba(c,u){if(c&1){let p=z();_o(0),i(1,"li",41)(2,"a",42),w("click",function(){let d=A(p).$implicit,n=y();return I(n.moveToPage(d))}),l(3),s()(),ho()}if(c&2){let p=u.$implicit,r=y();a(),Y("active",p===r.currentPage),a(2),O(p)}}function La(c,u){if(c&1&&(_(0,"br"),i(1,"strong"),l(2),s()),c&2){let p=y();a(2),O(p.selectedDoctor.nombre_completo)}}var To=(()=>{let u=class u{constructor(r,d,n,f,g,j){this.router=r,this.translate=d,this.appointmentsService=n,this.appointmentServicesService=f,this.driverTourService=g,this.authService=j,this.doctors=[],this.filteredDoctors=[],this.services=[],this.isLoading=!1,this.searchTerm="",this.filtroService="",this.selectedDoctor=null,this.totalDoctors=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0;let te=localStorage.getItem("language")||"es";this.translate.use(te)}ngOnInit(){this.loadServices(),this.loadDoctors(),this.checkAndStartTour()}checkAndStartTour(){setTimeout(()=>{this.driverTourService.isTourCompleted("doctors-list")||this.startTour()},500)}startTour(){this.driverTourService.startDoctorsListTour()}loadServices(){this.appointmentServicesService.listAccessible().subscribe({next:r=>{r.success&&(this.services=r.data.filter(d=>d.activo))},error:r=>{console.error("Error al cargar servicios:",r)}})}loadDoctors(){this.isLoading=!0,this.appointmentsService.listDoctors().subscribe({next:r=>{this.isLoading=!1,r.success&&(this.doctors=r.data,this.totalDoctors=this.doctors.length,this.filterDoctors())},error:r=>{this.isLoading=!1,console.error("Error al cargar doctores:",r)}})}filterDoctors(){this.filteredDoctors=this.doctors.filter(r=>{let d=!this.searchTerm||r.nombre_completo.toLowerCase().includes(this.searchTerm.toLowerCase()),n=!0;if(this.filtroService){let f=parseInt(this.filtroService);r.appointment_service_id===f||r.appointmentService&&r.appointmentService.id===f?n=!0:n=!1}return d&&n}),this.currentPage=1,this.skip=0,this.calculatePagination()}clearFilters(){this.searchTerm="",this.filtroService="",this.filterDoctors()}selectDoctor(r){this.selectedDoctor=r}confirmDelete(){this.selectedDoctor?.id&&this.appointmentsService.deleteDoctor(this.selectedDoctor.id).subscribe({next:r=>{r.success&&(this.loadDoctors(),dn.default.fire({icon:"success",title:"Eliminado",text:"El doctor ha sido eliminado correctamente",customClass:{confirmButton:"btn btn-success"}}))},error:r=>{console.error("Error al eliminar doctor:",r),dn.default.fire({icon:"error",title:"Error",text:this.translate.instant("APPOINTMENTS.LIST_DOCTORS.DELETE_ERROR"),customClass:{confirmButton:"btn btn-danger"}})}})}goToAddDoctor(){this.router.navigate(["/appointments/add_doctor"])}getSchedule(r){return r.turno==="Matutino"?`${r.hora_inicio_matutino} - ${r.hora_fin_matutino}`:r.turno==="Vespertino"?`${r.hora_inicio_vespertino} - ${r.hora_fin_vespertino}`:`${r.hora_inicio_matutino}-${r.hora_fin_matutino} / ${r.hora_inicio_vespertino}-${r.hora_fin_vespertino}`}getRoleName(r){return r.appointmentService?r.appointmentService.nombre:r.appointment_service?r.appointment_service.nombre:r.especialidad?.nombre?r.especialidad.nombre:r.general_medical_id&&r.generalMedical?r.generalMedical.nombre:"N/A"}calculatePagination(){this.totalData=this.filteredDoctors.length,this.totalPages=this.pageSize>0?Math.ceil(this.totalData/this.pageSize):0,this.pageNumberArray=[];for(let r=1;r<=this.totalPages;r++)this.pageNumberArray.push(r);if(this.serialNumberArray=[],this.totalData>0){let r=(this.currentPage-1)*this.pageSize+1;for(let d=r;d<r+this.pageSize&&d<=this.totalData;d++)this.serialNumberArray.push(d)}}getMoreData(r){r==="next"&&this.currentPage<this.totalPages?this.currentPage++:r==="previous"&&this.currentPage>1&&this.currentPage--,this.skip=(this.currentPage-1)*this.pageSize,this.calculatePagination()}moveToPage(r){this.currentPage=r,this.skip=(r-1)*this.pageSize,this.calculatePagination()}};u.\u0275fac=function(d){return new(d||u)(k(ue),k(_e),k(Me),k(Pe),k(xe),k(we))},u.\u0275cmp=Z({type:u,selectors:[["app-list-doctors"]],decls:106,vars:81,consts:[[1,"page-wrapper"],[1,"content","list-staff"],[1,"page-header","mb-4"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb","bg-light","p-2","rounded"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"card","card-list","shadow","border-0"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-start","flex-wrap","mb-3","header-bar"],[1,"mb-0","fw-semibold"],[1,"filter-controls-wrapper"],[1,"filters-section","d-flex","gap-2","mb-2"],[1,"search-box"],["type","text",1,"form-control","white-input",3,"ngModelChange","placeholder","ngModel"],[1,"fa","fa-search","search-icon"],[1,"role-filter-box"],[1,"form-select","white-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-options","d-flex","align-items-center","gap-1",3,"routerLink"],[1,"fa","fa-plus"],[1,"d-none","d-sm-inline"],[1,"table-responsive"],[1,"table","table-hover","align-middle","modern-table"],[1,"table-light"],[2,"width","30%"],[1,"fa","fa-user-md","me-2"],[2,"width","20%"],[1,"fa","fa-stethoscope","me-2"],[2,"width","15%"],[1,"fa","fa-clock","me-2"],[1,"fa","fa-calendar-alt","me-2"],[1,"text-center",2,"width","15%"],[1,"fa","fa-cog","me-2"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-3","flex-wrap"],[1,"pagination-info","small"],[1,"pagination","mb-0"],[1,"page-item"],["href","javascript:void(0);",1,"page-link",3,"click"],["id","delete_doctor","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center","p-4"],["src","assets/img/sent.png","alt","Eliminar",1,"img-fluid","mb-3",2,"max-width","120px"],[1,"mb-3"],[1,"text-muted","mb-4"],[1,"d-flex","gap-2","justify-content-center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-cancel","px-4"],[1,"fas","fa-times","me-2"],["type","button","data-bs-dismiss","modal",1,"btn","btn-save","px-4",3,"click"],[1,"fas","fa-check","me-2"],["type","button",1,"tour-help-button",3,"click","title"],[1,"fa","fa-question"],[3,"value"],["colspan","5",1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"fa","fa-user-md","fa-3x","text-muted","mb-3"],[1,"text-muted"],[1,"user-name-cell"],[1,"fa","fa-user-circle","text-primary","me-2"],[1,"specialty-cell"],[1,"badge","badge-role"],[1,"fa","fa-stethoscope","me-1"],[1,"shift-cell"],[1,"badge",3,"ngClass"],["class","fa fa-sun me-1",4,"ngIf"],["class","fa fa-moon me-1",4,"ngIf"],["class","fa fa-adjust me-1",4,"ngIf"],[1,"schedule-cell"],[1,"fa","fa-clock","me-1"],[1,"text-center"],[1,"action-buttons"],[1,"btn","btn-sm","btn-edit",3,"routerLink","title"],[1,"fa","fa-pen"],["data-bs-toggle","modal","data-bs-target","#delete_doctor",1,"btn","btn-sm","btn-delete",3,"click","title"],[1,"fa","fa-trash"],[1,"fa","fa-sun","me-1"],[1,"fa","fa-moon","me-1"],[1,"fa","fa-adjust","me-1"]],template:function(d,n){d&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ol",5)(6,"li",6),l(7),h(8,"translate"),s(),i(9,"li",7),l(10),h(11,"translate"),s()()()()(),i(12,"div",3)(13,"div",4)(14,"div",8)(15,"div",9)(16,"div",10)(17,"h4",11),l(18),h(19,"translate"),s(),i(20,"div",12)(21,"div",13)(22,"div",14)(23,"input",15),h(24,"translate"),E("ngModelChange",function(g){return T(n.searchTerm,g)||(n.searchTerm=g),g}),w("ngModelChange",function(){return n.filterDoctors()}),s(),_(25,"i",16),s(),i(26,"div",17)(27,"select",18),E("ngModelChange",function(g){return T(n.filtroService,g)||(n.filtroService=g),g}),w("ngModelChange",function(){return n.filterDoctors()}),i(28,"option",19),l(29,"Todas los Servicios"),s(),N(30,Ta,2,2,"option",20),s()()(),i(31,"a",21),_(32,"i",22),i(33,"span",23),l(34),h(35,"translate"),s()()()(),i(36,"div",24)(37,"table",25)(38,"thead",26)(39,"tr")(40,"th",27),_(41,"i",28),l(42),h(43,"translate"),s(),i(44,"th",29),_(45,"i",30),l(46),h(47,"translate"),s(),i(48,"th",31),_(49,"i",32),l(50),h(51,"translate"),s(),i(52,"th",29),_(53,"i",33),l(54),h(55,"translate"),s(),i(56,"th",34),_(57,"i",35),l(58),h(59,"translate"),s()()(),i(60,"tbody"),N(61,Ea,9,6,"tr",36)(62,ka,6,3,"tr",36)(63,Da,31,21,"tr",37),s()()(),i(64,"div",38)(65,"div",39),l(66),h(67,"translate"),h(68,"translate"),h(69,"translate"),h(70,"translate"),s(),i(71,"nav")(72,"ul",40)(73,"li",41)(74,"a",42),w("click",function(){return n.getMoreData("previous")}),l(75),h(76,"translate"),s()(),N(77,Ba,4,3,"ng-container",37),i(78,"li",41)(79,"a",42),w("click",function(){return n.getMoreData("next")}),l(80),h(81,"translate"),s()()()()()()()()()()(),i(82,"div",43)(83,"div",44)(84,"div",45)(85,"div",46),_(86,"img",47),i(87,"h3",48),l(88),h(89,"translate"),s(),i(90,"p",49),l(91),h(92,"translate"),D(93,La,3,1),s(),i(94,"div",50)(95,"button",51),_(96,"i",52),l(97),h(98,"translate"),s(),i(99,"button",53),w("click",function(){return n.confirmDelete()}),_(100,"i",54),l(101),h(102,"translate"),s()()()()()(),i(103,"button",55),h(104,"translate"),w("click",function(){return n.startTour()}),_(105,"i",56),s()),d&2&&(a(7),O(b(8,38,"GRUPO_CITAS")),a(3),O(b(11,40,"APPOINTMENTS.LIST_DOCTORS.BREADCRUMB")),a(8),O(b(19,42,"APPOINTMENTS.LIST_DOCTORS.TITLE")),a(5),v("placeholder",b(24,44,"APPOINTMENTS.LIST_DOCTORS.SEARCH_PLACEHOLDER")),S("ngModel",n.searchTerm),a(4),S("ngModel",n.filtroService),a(3),v("ngForOf",n.services),a(),v("routerLink",Nt(80,xa)),a(3),O(b(35,46,"APPOINTMENTS.LIST_DOCTORS.ADD_DOCTOR")),a(8),O(b(43,48,"APPOINTMENTS.LIST_DOCTORS.NAME")),a(4),O(b(47,50,"APPOINTMENTS.LIST_DOCTORS.SPECIALTY")),a(4),O(b(51,52,"APPOINTMENTS.LIST_DOCTORS.SHIFT")),a(4),O(b(55,54,"APPOINTMENTS.LIST_DOCTORS.SCHEDULE")),a(4),O(b(59,56,"APPOINTMENTS.LIST_DOCTORS.ACTIONS")),a(3),v("ngIf",n.isLoading),a(),v("ngIf",!n.isLoading&&n.filteredDoctors.length===0),a(),v("ngForOf",n.filteredDoctors.slice(n.skip,n.skip+n.limit)),a(3),It(" ",b(67,58,"APPOINTMENTS.LIST_DOCTORS.SHOWING")," ",n.serialNumberArray[0]||0," ",b(68,60,"APPOINTMENTS.LIST_DOCTORS.TO")," ",n.serialNumberArray[n.serialNumberArray.length-1]||0," ",b(69,62,"APPOINTMENTS.LIST_DOCTORS.OF")," ",n.totalData," ",b(70,64,"APPOINTMENTS.LIST_DOCTORS.RECORDS")," "),a(7),Y("disabled",n.currentPage===1),a(2),O(b(76,66,"APPOINTMENTS.LIST_DOCTORS.PREVIOUS")),a(2),v("ngForOf",n.pageNumberArray),a(),Y("disabled",n.currentPage===n.pageNumberArray[n.pageNumberArray.length-1]),a(2),O(b(81,68,"APPOINTMENTS.LIST_DOCTORS.NEXT")),a(8),O(b(89,70,"APPOINTMENTS.LIST_DOCTORS.CONFIRM_DELETE")),a(3),P(" ",b(92,72,"APPOINTMENTS.LIST_DOCTORS.DELETE_CONFIRMATION")," "),a(2),B(n.selectedDoctor?93:-1),a(4),P("",b(98,74,"COMMON.NO")," "),a(4),P("",b(102,76,"COMMON.YES_DELETE")," "),a(2),v("title",oe(b(104,78,"TOUR.HELP_BUTTON"))))},dependencies:[G,Dt,fe,Ie,J,ce,le,be,se,re,ae,K,Bt,ie,he],styles:[".card.card-list[_ngcontent-%COMP%]{border-radius:1rem;padding:1.5rem;border:4px solid var(--user-border-color, #0B7285)!important;background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;position:relative;z-index:1;transition:background-color .3s,color .3s,border-color .3s}.card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:1rem;background-color:transparent!important;color:var(--user-card-text-color, #111827)!important}.card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.card.card-list[_ngcontent-%COMP%]   .filter-controls-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.5rem}.card.card-list[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.card.card-list[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{position:relative;min-width:250px;flex:1}.card.card-list[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]{background-color:#fff!important;border:1px solid #d1d5db;color:#111827!important;padding:.625rem 2.5rem .625rem .75rem;border-radius:8px;font-size:.875rem;height:42px;transition:all .2s ease}.card.card-list[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285);box-shadow:0 0 0 3px #0b72851a;outline:none}.card.card-list[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]::placeholder{color:#6b7280}.card.card-list[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);color:#6b7280;pointer-events:none}.card.card-list[_ngcontent-%COMP%]   .role-filter-box[_ngcontent-%COMP%]{min-width:250px;flex:1}.card.card-list[_ngcontent-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]{background-color:#fff!important;border:1px solid #d1d5db;color:#111827!important;border-radius:8px;font-size:.875rem;padding:.625rem 2.5rem .625rem .75rem;height:42px;transition:all .2s ease;cursor:pointer}.card.card-list[_ngcontent-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285);box-shadow:0 0 0 3px #0b72851a;outline:none}.card.card-list[_ngcontent-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#111827}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0;width:100%;background-color:transparent!important;border:none!important;border-radius:12px;overflow:hidden}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 8%,transparent))!important;color:var(--user-card-text-color, #111827)!important;font-weight:600;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px;padding:1rem .75rem;border:none!important;vertical-align:middle}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.7;font-size:.85rem}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:12px}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:12px}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .2s ease;background:transparent!important}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 4%,transparent)!important;transform:translateY(-1px);box-shadow:0 2px 8px #0000000d}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .75rem;border:none!important;border-bottom:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 6%,transparent)!important;color:var(--user-card-text-color, #111827)!important;vertical-align:middle;background:transparent!important}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:12px}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:12px}.card.card-list[_ngcontent-%COMP%]   .user-name-cell[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.95rem}.card.card-list[_ngcontent-%COMP%]   .user-name-cell[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--user-border-color, #0B7285)}.card.card-list[_ngcontent-%COMP%]   .user-name-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.card.card-list[_ngcontent-%COMP%]   .email-cell[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.875rem}.card.card-list[_ngcontent-%COMP%]   .email-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.card.card-list[_ngcontent-%COMP%]   .role-cell[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card.card-list[_ngcontent-%COMP%]   .badge-role[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.4rem .8rem;background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 12%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 6%,transparent));color:var(--user-card-text-color, #111827)!important;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent);border-radius:8px;font-size:.8rem;font-weight:600}.card.card-list[_ngcontent-%COMP%]   .badge-role[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;color:var(--user-border-color, #0B7285)}.card.card-list[_ngcontent-%COMP%]   .badge-protected[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.4rem .8rem;background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff!important;border-radius:6px;font-size:.8rem;font-weight:600;box-shadow:0 2px 4px #f59e0b4d}.card.card-list[_ngcontent-%COMP%]   .badge-protected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.card.card-list[_ngcontent-%COMP%]   .badge-no-permission[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.4rem .8rem;background:linear-gradient(135deg,#6b7280,#4b5563);color:#fff!important;border-radius:6px;font-size:.8rem;font-weight:600;box-shadow:0 2px 4px #6b72804d}.card.card-list[_ngcontent-%COMP%]   .badge-no-permission[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.card.card-list[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;align-items:center}.card.card-list[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);border:none;color:#fff;padding:.5rem .75rem;border-radius:6px;transition:all .2s ease;font-size:.875rem}.card.card-list[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.card.card-list[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #3b82f666;filter:brightness(1.1)}.card.card-list[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);border:none;color:#fff;padding:.5rem .75rem;border-radius:6px;transition:all .2s ease;font-size:.875rem}.card.card-list[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.card.card-list[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #ef444466;filter:brightness(1.1)}.card.card-list[_ngcontent-%COMP%]   .btn-options[_ngcontent-%COMP%]{background-color:var(--user-border-color, #0B7285);border:none;padding:.5rem 1rem;font-weight:600;font-size:.875rem;color:#fff;border-radius:8px;transition:all .2s ease-in-out;display:inline-flex;align-items:center;box-shadow:0 2px 6px #0000001a}.card.card-list[_ngcontent-%COMP%]   .btn-options[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px;font-size:.85rem}.card.card-list[_ngcontent-%COMP%]   .btn-options[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026;filter:brightness(1.1)}.card.card-list[_ngcontent-%COMP%]   .btn-reverse[_ngcontent-%COMP%]{background:transparent;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);color:var(--user-card-text-color, #111827)!important;padding:.2rem .4rem;font-size:.75rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.card.card-list[_ngcontent-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]{background:transparent;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);color:var(--user-card-text-color, #111827)!important;padding:.25rem .5rem;font-size:.875rem;border-radius:6px;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center}.card.card-list[_ngcontent-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent);border-color:var(--user-border-color, #0B7285)}.card.card-list[_ngcontent-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285)}.page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;background:transparent!important}.page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   .bg-light[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   .table-light[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead.table-light[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]{background:transparent!important;background-color:transparent!important;color:var(--user-card-text-color, #111827)!important}.dark-mode[_nghost-%COMP%]   .card.card-list[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card.card-list[_ngcontent-%COMP%]{background-color:var(--user-card-bg, #23221c)!important;border-color:var(--user-border-color, #0B7285)!important;color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important;border-color:#ffffff14!important;background:transparent!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent))!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 8%,transparent)!important}.dark-mode[_nghost-%COMP%]   .badge-role[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .badge-role[_ngcontent-%COMP%]{background:#ffffff14!important;color:var(--user-card-text-color, #ffffff)!important;border-color:#ffffff26!important}.dark-mode[_nghost-%COMP%]   .user-name-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .user-name-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .email-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .email-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]{background-color:#2d3748!important;border-color:#fff3;color:#fff!important}.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285);box-shadow:0 0 0 3px #0b728533}.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:#fff9}.dark-mode[_nghost-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]{background-color:#2d3748!important;border-color:#fff3;color:#fff!important}.dark-mode[_nghost-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285);box-shadow:0 0 0 3px #0b728533}.dark-mode[_nghost-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2d3748;color:#fff}.dark-mode[_nghost-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]{border-color:#ffffff4d;color:#fff!important}.dark-mode[_nghost-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-color:var(--user-border-color, #0B7285)}.dark-mode[_nghost-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285)}.search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:transparent!important;color:var(--user-card-text-color, #111827)!important;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent)!important;padding:.5rem 1rem;border-radius:8px;caret-color:var(--user-card-text-color, #111827)!important;transition:all .2s ease}.search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--user-border-color, #0B7285)!important;box-shadow:0 0 0 3px color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent)}.search-input[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:transparent!important;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent)!important;border-left:none!important;color:var(--user-card-text-color, #111827)!important;border-radius:0 8px 8px 0}.search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:color-mix(in srgb,var(--user-card-text-color, #111827) 50%,transparent)!important;opacity:1!important}.dark-mode[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important;border-color:#ffffff26!important}.dark-mode[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80!important}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{margin:0 .25rem}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:transparent;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);color:var(--user-card-text-color, #111827)!important;padding:.5rem .85rem;border-radius:8px;font-weight:500;transition:all .2s ease;font-size:.875rem}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent);border-color:var(--user-border-color, #0B7285);transform:translateY(-1px)}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:var(--user-border-color, #0B7285)!important;border-color:var(--user-border-color, #0B7285)!important;color:#fff!important;box-shadow:0 2px 8px #00000026}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--user-card-text-color, #111827) 5%,transparent);border-color:color-mix(in srgb,var(--user-card-text-color, #111827) 15%,transparent);color:color-mix(in srgb,var(--user-card-text-color, #111827) 40%,transparent)!important;cursor:not-allowed;opacity:.6}.pagination-info[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;font-size:.875rem;font-weight:500}.dark-mode[_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#ffffff0d;border-color:#fff3;color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border-color:var(--user-border-color, #0B7285);color:#fff!important}.dark-mode[_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:var(--user-border-color, #0B7285)!important;border-color:var(--user-border-color, #0B7285)!important;color:#fff!important;box-shadow:0 2px 12px #0006}.dark-mode[_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#ffffff05;border-color:#ffffff1a;color:#ffffff4d!important;cursor:not-allowed;opacity:.5}.dark-mode[_nghost-%COMP%]   .pagination-info[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .pagination-info[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}  #deleteModal .modal-content{background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;border:2px solid var(--user-border-color, #0B7285);border-radius:1rem}  #deleteModal .modal-content .modal-body h5,   #deleteModal .modal-content .modal-body p,   #deleteModal .modal-content .modal-body strong{color:var(--user-card-text-color, #111827)!important}  #deleteModal .modal-content .modal-body .btn-light{background-color:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent);color:var(--user-card-text-color, #111827);border:1px solid var(--user-border-color, #0B7285);transition:all .2s ease}  #deleteModal .modal-content .modal-body .btn-light:hover{background-color:color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent)}  #deleteModal .modal-content .modal-body .btn-danger{background:linear-gradient(135deg,#ef4444,#dc2626);border:none;color:#fff;transition:all .2s ease}  #deleteModal .modal-content .modal-body .btn-danger:hover{transform:scale(1.05);box-shadow:0 2px 8px #ef444466}.dark-mode[_nghost-%COMP%]     #deleteModal .modal-content, .dark-mode   [_nghost-%COMP%]     #deleteModal .modal-content{background-color:var(--user-card-bg, #1A2332)!important;color:var(--user-card-text-color, #ffffff)!important;box-shadow:0 8px 32px #00000080}  .modal-backdrop{background-color:#00000080!important}  .modal{background-color:transparent!important}  body.modal-open{overflow:hidden}.dark-mode[_nghost-%COMP%]     .modal-backdrop, .dark-mode   [_nghost-%COMP%]     .modal-backdrop{background-color:#000000b3!important}"]});let c=u;return c})();var Ra=()=>["/appointments/list_doctor"];function za(c,u){c&1&&(i(0,"div",53),l(1),h(2,"translate"),s()),c&2&&(a(),P(" ",b(2,1,"APPOINTMENTS.EDIT_DOCTOR.FULL_NAME_REQUIRED")," "))}function Fa(c,u){if(c&1&&(i(0,"option",32),l(1),s()),c&2){let p=u.$implicit;v("value",p.id),a(),O(p.nombre)}}function Va(c,u){c&1&&(i(0,"div",53),l(1),h(2,"translate"),s()),c&2&&(a(),P(" ",b(2,1,"COMMON.FILL_REQUIRED_FIELDS")," "))}function Wa(c,u){if(c&1&&(i(0,"option",32),l(1),s()),c&2){let p=u.$implicit;v("value",p.id),a(),At("",p.name," ",p.surname," (",p.email,")")}}function ja(c,u){if(c&1&&(i(0,"option",32),l(1),s()),c&2){let p=u.$implicit;v("value",p.value),a(),O(p.label)}}function Ha(c,u){if(c&1){let p=z();i(0,"div",43)(1,"div",54)(2,"h6",55),_(3,"i",56),l(4),h(5,"translate"),s(),i(6,"div",23)(7,"div",24)(8,"label",25),l(9),h(10,"translate"),s(),i(11,"input",57),E("ngModelChange",function(d){A(p);let n=y();return T(n.hora_inicio_matutino,d)||(n.hora_inicio_matutino=d),I(d)}),s()(),i(12,"div",24)(13,"label",25),l(14),h(15,"translate"),s(),i(16,"input",58),E("ngModelChange",function(d){A(p);let n=y();return T(n.hora_fin_matutino,d)||(n.hora_fin_matutino=d),I(d)}),s()()()()()}if(c&2){let p=y();a(4),P("",b(5,5,"APPOINTMENTS.EDIT_DOCTOR.MORNING_SHIFT")," "),a(5),O(b(10,7,"APPOINTMENTS.EDIT_DOCTOR.START_TIME")),a(2),S("ngModel",p.hora_inicio_matutino),a(3),O(b(15,9,"APPOINTMENTS.EDIT_DOCTOR.END_TIME")),a(2),S("ngModel",p.hora_fin_matutino)}}function Ua(c,u){if(c&1){let p=z();i(0,"div",43)(1,"div",54)(2,"h6",55),_(3,"i",59),l(4),h(5,"translate"),s(),i(6,"div",23)(7,"div",24)(8,"label",25),l(9),h(10,"translate"),s(),i(11,"input",60),E("ngModelChange",function(d){A(p);let n=y();return T(n.hora_inicio_vespertino,d)||(n.hora_inicio_vespertino=d),I(d)}),s()(),i(12,"div",24)(13,"label",25),l(14),h(15,"translate"),s(),i(16,"input",61),E("ngModelChange",function(d){A(p);let n=y();return T(n.hora_fin_vespertino,d)||(n.hora_fin_vespertino=d),I(d)}),s()()()()()}if(c&2){let p=y();a(4),P("",b(5,5,"APPOINTMENTS.EDIT_DOCTOR.EVENING_SHIFT")," "),a(5),O(b(10,7,"APPOINTMENTS.EDIT_DOCTOR.START_TIME")),a(2),S("ngModel",p.hora_inicio_vespertino),a(3),O(b(15,9,"APPOINTMENTS.EDIT_DOCTOR.END_TIME")),a(2),S("ngModel",p.hora_fin_vespertino)}}function qa(c,u){if(c&1){let p=z();i(0,"div",46)(1,"div",62),_(2,"i",63),i(3,"div",64)(4,"strong"),l(5),h(6,"translate"),s(),l(7),s(),i(8,"button",65),w("click",function(){A(p);let d=y();return I(d.text_success="")}),s()()()}if(c&2){let p=y();a(5),P("",b(6,2,"COMMON.SUCCESS"),":"),a(2),P(" ",p.text_success," ")}}function $a(c,u){if(c&1){let p=z();i(0,"div",46)(1,"div",66),_(2,"i",67),i(3,"div",64)(4,"strong"),l(5),h(6,"translate"),s(),l(7),s(),i(8,"button",65),w("click",function(){A(p);let d=y();return I(d.text_validation="")}),s()()()}if(c&2){let p=y();a(5),P("",b(6,2,"COMMON.WARNING"),":"),a(2),P(" ",p.text_validation," ")}}function Ya(c,u){c&1&&_(0,"span",51)}function Ga(c,u){c&1&&_(0,"i",52)}var Eo=(()=>{let u=class u{constructor(r,d,n,f,g,j,te){this.router=r,this.route=d,this.translate=n,this.appointmentsService=f,this.appointmentServicesService=g,this.staffService=j,this.authService=te,this.isEditMode=!0,this.doctorId=null,this.nombre_completo="",this.appointment_service_id=0,this.user_id=null,this.turno="Matutino",this.hora_inicio_matutino="08:00",this.hora_fin_matutino="14:00",this.hora_inicio_vespertino="14:00",this.hora_fin_vespertino="20:00",this.submitted=!1,this.loading=!1,this.services=[],this.users=[],this.turnosDisponibles=[{value:"Matutino",label:"Matutino"},{value:"Vespertino",label:"Vespertino"},{value:"Mixto",label:"Jornada Acumulada"}],this.text_success="",this.text_validation="";let Ee=localStorage.getItem("language")||"es";this.translate.use(Ee)}ngOnInit(){this.loadServices(),this.loadUsers(),this.route.params.subscribe(r=>{r.id&&(this.isEditMode=!0,this.doctorId=+r.id,this.loadDoctorData(this.doctorId))})}loadServices(){this.appointmentServicesService.listAccessible().subscribe({next:r=>{r.success&&(this.services=r.data.filter(d=>d.activo))},error:r=>{console.error("Error loading services:",r)}})}loadDoctorData(r){this.loading=!0,this.appointmentsService.getDoctor(r).subscribe({next:d=>{let n=d.data;this.nombre_completo=n.nombre_completo,this.appointment_service_id=n.appointment_service_id||0,this.appointment_service_id=n.appointment_service_id||0,this.user_id=n.user_id||null,this.appointment_service_id||n.especialidad_id&&(this.appointment_service_id=n.especialidad_id),this.turno=n.turno,this.hora_inicio_matutino=n.hora_inicio_matutino||"08:00",this.hora_fin_matutino=n.hora_fin_matutino||"14:00",this.hora_inicio_vespertino=n.hora_inicio_vespertino||"14:00",this.hora_fin_vespertino=n.hora_fin_vespertino||"20:00",this.loading=!1},error:d=>{console.error("Error loading doctor:",d),this.loading=!1}})}onTurnoChange(){this.turno==="Matutino"?(this.hora_inicio_matutino="08:00",this.hora_fin_matutino="14:00"):this.turno==="Vespertino"&&(this.hora_inicio_vespertino="14:00",this.hora_fin_vespertino="20:00")}validateForm(){return!(!this.nombre_completo.trim()||!this.appointment_service_id||this.appointment_service_id===0||!this.turno||(this.turno==="Matutino"||this.turno==="Mixto")&&(!this.hora_inicio_matutino||!this.hora_fin_matutino)||(this.turno==="Vespertino"||this.turno==="Mixto")&&(!this.hora_inicio_vespertino||!this.hora_fin_vespertino))}formatTimeToHi(r){return r?r.length===5&&r.match(/^\d{2}:\d{2}$/)?r:r.substring(0,5):""}save(){if(this.submitted=!0,this.text_validation="",this.text_success="",!this.validateForm()){this.text_validation=this.translate.instant("COMMON.FILL_REQUIRED_FIELDS");return}this.loading=!0;let r={nombre_completo:this.nombre_completo,appointment_service_id:this.appointment_service_id,user_id:this.user_id,turno:this.turno,hora_inicio_matutino:this.formatTimeToHi(this.hora_inicio_matutino),hora_fin_matutino:this.formatTimeToHi(this.hora_fin_matutino),hora_inicio_vespertino:this.formatTimeToHi(this.hora_inicio_vespertino),hora_fin_vespertino:this.formatTimeToHi(this.hora_fin_vespertino)};this.appointmentsService.updateDoctor(this.doctorId,r).subscribe({next:n=>{this.loading=!1,n.success?(this.text_success=this.translate.instant("COMMON.SUCCESS_UPDATE"),setTimeout(()=>{this.goToList()},1500)):this.text_validation=n.message||this.translate.instant("COMMON.ERROR_OCCURRED")},error:n=>{this.loading=!1,console.error("Error updating doctor:",n);let f=n.error?.message||this.translate.instant("COMMON.ERROR_OCCURRED");if(n.error?.errors){let g=Object.values(n.error.errors).flat().join(". ");f=`${f}: ${g}`}this.text_validation=f}})}goToList(){this.router.navigate(["/appointments/list_doctor"])}onNameKeyPress(r){}loadUsers(){this.staffService.listUsers().subscribe({next:r=>{r.users&&r.users.data?this.users=r.users.data:r.users?this.users=r.users:Array.isArray(r)&&(this.users=r)},error:r=>{console.error("Error loading users:",r)}})}};u.\u0275fac=function(d){return new(d||u)(k(ue),k(Ne),k(_e),k(Me),k(Pe),k(xo),k(we))},u.\u0275cmp=Z({type:u,selectors:[["app-edit-doctor"]],inputs:{isEditMode:"isEditMode"},decls:101,vars:57,consts:[[1,"page-wrapper"],[1,"content","doctor-form"],[1,"page-header","mb-4"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb","bg-light","p-2","rounded"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"row","justify-content-center"],[1,"col-lg-10","col-xl-8"],[1,"card","card-form","shadow","border-0"],[1,"card-body","p-4"],[1,"form-header","text-center","mb-4"],[1,"form-icon","mb-3"],[1,"fa","fa-user-md"],[1,"fw-bold","mb-2"],[1,"text-muted","small"],[3,"keydown.enter"],[1,"form-section"],[1,"section-header","mb-3"],[1,"section-title"],[1,"fa","fa-user","me-2"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],[1,"fa","fa-id-card","me-1"],[1,"text-danger"],["type","text","name","nombre_completo","placeholder","Ej: Dr. Juan P\xE9rez Garc\xEDa","required","",1,"form-control",3,"ngModelChange","keypress","ngModel"],["class","invalid-feedback d-block",4,"ngIf"],[1,"fa","fa-briefcase-medical","me-1"],["name","appointment_service_id","required","",1,"form-select","form-control",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"fa","fa-user-circle","me-1"],["name","user_id",1,"form-select","form-control",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"text-muted"],[1,"form-divider","my-4"],[1,"fa","fa-clock","me-2"],[1,"fa","fa-calendar-alt","me-1"],["name","turno","required","",1,"form-select","form-control",3,"ngModelChange","change","ngModel"],[1,"col-12"],[1,"alert","alert-info","d-flex","align-items-center"],[1,"fa","fa-info-circle","me-3"],[1,"mt-4"],[1,"form-actions","d-flex","justify-content-end","gap-2","mt-4"],["type","button",1,"btn","btn-cancel",3,"click","disabled"],[1,"fa","fa-times","me-2"],["type","button",1,"btn","btn-save",3,"click","disabled"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fa","fa-save","me-2"],[1,"invalid-feedback","d-block"],[1,"schedule-section"],[1,"schedule-subtitle"],[1,"fa","fa-sun","me-2"],["type","time","name","hora_inicio_matutino","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","time","name","hora_fin_matutino","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-moon","me-2"],["type","time","name","hora_inicio_vespertino","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","time","name","hora_fin_vespertino","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"alert","alert-modern","alert-success","d-flex","align-items-center"],[1,"fa","fa-check-circle","me-3"],[1,"flex-grow-1"],["type","button",1,"btn-close",3,"click"],[1,"alert","alert-modern","alert-warning","d-flex","align-items-center"],[1,"fa","fa-exclamation-triangle","me-3"]],template:function(d,n){d&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ol",5)(6,"li",6)(7,"a",7),l(8),h(9,"translate"),s()(),i(10,"li",8),l(11),h(12,"translate"),s()()()()(),i(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14),_(19,"i",15),s(),i(20,"h3",16),l(21),h(22,"translate"),s(),i(23,"p",17),l(24),h(25,"translate"),s()(),i(26,"form",18),w("keydown.enter",function(g){return g.preventDefault()}),i(27,"div",19)(28,"div",20)(29,"h5",21),_(30,"i",22),l(31),h(32,"translate"),s()(),i(33,"div",23)(34,"div",24)(35,"label",25),_(36,"i",26),l(37),h(38,"translate"),i(39,"span",27),l(40,"*"),s()(),i(41,"input",28),E("ngModelChange",function(g){return T(n.nombre_completo,g)||(n.nombre_completo=g),g}),w("keypress",function(g){return n.onNameKeyPress(g)}),s(),N(42,za,3,3,"div",29),s(),i(43,"div",24)(44,"label",25),_(45,"i",30),l(46,"Servicio / Especialidad "),i(47,"span",27),l(48,"*"),s()(),i(49,"select",31),E("ngModelChange",function(g){return T(n.appointment_service_id,g)||(n.appointment_service_id=g),g}),i(50,"option",32),l(51,"Seleccione un Servicio"),s(),N(52,Fa,2,2,"option",33),s(),N(53,Va,3,3,"div",29),s(),i(54,"div",34)(55,"label",25),_(56,"i",35),l(57,"Usuario Vinculado (Login) "),s(),i(58,"select",36),E("ngModelChange",function(g){return T(n.user_id,g)||(n.user_id=g),g}),i(59,"option",37),l(60,"-- Sin vincular --"),s(),N(61,Wa,2,4,"option",33),s(),i(62,"small",38),l(63,"Seleccione el usuario que gestionar\xE1 este perfil de doctor."),s()()()(),_(64,"div",39),i(65,"div",19)(66,"div",20)(67,"h5",21),_(68,"i",40),l(69),h(70,"translate"),s()(),i(71,"div",23)(72,"div",34)(73,"label",25),_(74,"i",41),l(75),h(76,"translate"),i(77,"span",27),l(78,"*"),s()(),i(79,"select",42),E("ngModelChange",function(g){return T(n.turno,g)||(n.turno=g),g}),w("change",function(){return n.onTurnoChange()}),N(80,ja,2,2,"option",33),s()(),D(81,Ha,17,11,"div",43),D(82,Ua,17,11,"div",43),i(83,"div",43)(84,"div",44),_(85,"i",45),i(86,"div"),l(87),h(88,"translate"),s()()()()(),D(89,qa,9,4,"div",46),D(90,$a,9,4,"div",46),i(91,"div",47)(92,"button",48),w("click",function(){return n.goToList()}),_(93,"i",49),l(94),h(95,"translate"),s(),i(96,"button",50),w("click",function(){return n.save()}),D(97,Ya,1,0,"span",51)(98,Ga,1,0,"i",52),l(99),h(100,"translate"),s()()()()()()()()()),d&2&&(a(7),v("routerLink",Nt(56,Ra)),a(),O(b(9,34,"DOCTORS")),a(3),O(b(12,36,"APPOINTMENTS.EDIT_DOCTOR.BREADCRUMB")),a(10),O(b(22,38,"APPOINTMENTS.EDIT_DOCTOR.TITLE")),a(3),O(b(25,40,"APPOINTMENTS.EDIT_DOCTOR.SUBTITLE")),a(7),P("",b(32,42,"APPOINTMENTS.EDIT_DOCTOR.PERSONAL_INFO")," "),a(6),P("",b(38,44,"APPOINTMENTS.EDIT_DOCTOR.FULL_NAME")," "),a(4),Y("is-invalid",n.submitted&&!n.nombre_completo.trim()),S("ngModel",n.nombre_completo),a(),v("ngIf",n.submitted&&!n.nombre_completo.trim()),a(7),Y("is-invalid",n.submitted&&(!n.appointment_service_id||n.appointment_service_id===0)),S("ngModel",n.appointment_service_id),a(),v("value",0),a(2),v("ngForOf",n.services),a(),v("ngIf",n.submitted&&(!n.appointment_service_id||n.appointment_service_id===0)),a(5),S("ngModel",n.user_id),a(),v("ngValue",null),a(2),v("ngForOf",n.users),a(8),P("",b(70,46,"APPOINTMENTS.EDIT_DOCTOR.SCHEDULE_INFO")," "),a(6),P("",b(76,48,"APPOINTMENTS.EDIT_DOCTOR.SHIFT")," "),a(4),S("ngModel",n.turno),a(),v("ngForOf",n.turnosDisponibles),a(),B(n.turno==="Matutino"||n.turno==="Mixto"?81:-1),a(),B(n.turno==="Vespertino"||n.turno==="Mixto"?82:-1),a(5),O(b(88,50,"APPOINTMENTS.EDIT_DOCTOR.APPOINTMENT_INFO")),a(2),B(n.text_success?89:-1),a(),B(n.text_validation?90:-1),a(2),v("disabled",n.loading),a(2),P("",b(95,52,"COMMON.CANCEL")," "),a(2),v("disabled",n.loading),a(),B(n.loading?97:98),a(2),P(" ",b(100,54,"COMMON.SAVE")," "))},dependencies:[G,fe,Ie,J,Le,ce,le,be,se,re,De,Re,ae,Be,K,Bt,ie,he],styles:[".doctor-form[_ngcontent-%COMP%]   .card-form[_ngcontent-%COMP%]{border-radius:1rem;padding:.5rem;box-sizing:border-box;border:4px solid var(--user-border-color, #0B7285)!important;background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;transition:background-color .3s,color .3s,border-color .3s;box-shadow:0 8px 24px #00000014}.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]{width:70px;height:70px;margin:0 auto;background:linear-gradient(135deg,var(--user-border-color, #0B7285),color-mix(in srgb,var(--user-border-color, #0B7285) 80%,#000));border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #00000026}.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;font-size:1.75rem;margin:0}.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;opacity:.7;margin:0}.doctor-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;font-size:1.1rem;font-weight:600;padding-bottom:.5rem;border-bottom:2px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);display:flex;align-items:center}.doctor-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285);font-size:1rem}.doctor-form[_ngcontent-%COMP%]   .form-divider[_ngcontent-%COMP%]{height:1px;background:linear-gradient(90deg,transparent,color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent),transparent)}.doctor-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem;color:var(--user-card-text-color, #111827)!important;margin-bottom:.5rem;display:flex;align-items:center}.doctor-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285);opacity:.8;font-size:.85rem}.doctor-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{font-size:.85rem;margin-left:2px}.doctor-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .doctor-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-radius:.5rem;padding:.75rem 1rem;font-size:.95rem}.doctor-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .doctor-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{transform:translateY(-1px)}.doctor-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%], .doctor-form[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#ef4444}.doctor-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]:focus, .doctor-form[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #ef444426}.doctor-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{font-size:.85rem;margin-top:.25rem;color:#ef4444;font-weight:500}.doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--user-border-color, #0B7285) 5%,transparent);border-radius:.75rem;padding:1.25rem;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent)}.doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%]   .schedule-subtitle[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;font-size:1rem;font-weight:600;margin-bottom:1rem;display:flex;align-items:center}.doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%]   .schedule-subtitle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285)}.doctor-form[_ngcontent-%COMP%]   .alert-modern[_ngcontent-%COMP%]{border-radius:10px;border:none;padding:1rem 1.25rem;font-size:.95rem;box-shadow:0 2px 8px #00000014;display:flex;align-items:center}.doctor-form[_ngcontent-%COMP%]   .alert-modern[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;flex-shrink:0}.doctor-form[_ngcontent-%COMP%]   .alert-modern[_ngcontent-%COMP%]   .flex-grow-1[_ngcontent-%COMP%]{flex:1}.doctor-form[_ngcontent-%COMP%]   .alert-modern[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{flex-shrink:0;margin-left:1rem}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 12px #10b9814d}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);opacity:.8}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;box-shadow:0 4px 12px #f59e0b4d}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);opacity:.8}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 12px #ef44444d}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);opacity:.8}.doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]{background:color-mix(in srgb,#3b82f6 15%,transparent);border-left:4px solid #3b82f6;border-radius:.5rem;padding:.75rem 1rem;color:var(--user-card-text-color, #111827)!important}.doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3b82f6;font-size:1rem}.doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%]{font-size:.9rem;margin:0;color:var(--user-card-text-color, #111827)!important}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{padding-top:1rem;border-top:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent)}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.65rem 1.5rem;border-radius:.5rem;font-weight:600;font-size:.95rem;transition:all .2s ease;display:inline-flex;align-items:center;border:none}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563);color:#fff;box-shadow:0 2px 6px #6b72804d}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #6b728066;filter:brightness(1.1)}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--user-border-color, #0B7285),color-mix(in srgb,var(--user-border-color, #0B7285) 85%,#000));color:#fff;box-shadow:0 2px 6px #00000026}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #0003;filter:brightness(1.1)}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .card-form[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .card-form[_ngcontent-%COMP%]{background-color:var(--user-card-bg, #23221c)!important;border-color:var(--user-border-color, #0B7285)!important;box-shadow:0 8px 24px #0006}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent)}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%]   .schedule-subtitle[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .schedule-section[_ngcontent-%COMP%]   .schedule-subtitle[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]{background:color-mix(in srgb,#3b82f6 25%,transparent)}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;box-shadow:0 4px 12px #f59e0b4d}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);opacity:.8}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-warning[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 12px #10b9814d}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);opacity:.8}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 12px #ef44444d}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1);opacity:.8}.dark-mode[_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .doctor-form[_ngcontent-%COMP%]   .alert-modern.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}@media (max-width: 768px){.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]{width:60px;height:60px}.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem}.doctor-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}.doctor-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.doctor-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{margin-bottom:.5rem}}"]});let c=u;return c})();function Ka(c,u){if(c&1&&(i(0,"option",41),l(1),s()),c&2){let p=u.$implicit;v("value",p.id),a(),At(" ",p.name," ",p.surname," (",p.email,") ")}}function Xa(c,u){if(c&1){let p=z();i(0,"div",61),w("click",function(){let d=A(p).$implicit,n=y(2);return I(n.toggleService(d.id))}),i(1,"div",62)(2,"div",63)(3,"input",64),w("click",function(d){return A(p),I(d.stopPropagation())})("change",function(){let d=A(p).$implicit,n=y(2);return I(n.toggleService(d.id))}),s(),_(4,"span",65),s(),i(5,"div",66)(6,"span",67),l(7),s()()()()}if(c&2){let p=u.$implicit,r=y(2);Y("selected",r.isServiceSelected(p.id)),a(3),v("checked",r.isServiceSelected(p.id)),a(4),O(p.nombre)}}function Za(c,u){c&1&&(i(0,"div",68),_(1,"i",69),i(2,"p"),l(3,"No se encontraron especialidades."),s()())}function Ja(c,u){if(c&1){let p=z();i(0,"div",61),w("click",function(){let d=A(p).$implicit,n=y(2);return I(n.toggleService(d.id))}),i(1,"div",62)(2,"div",63)(3,"input",64),w("click",function(d){return A(p),I(d.stopPropagation())})("change",function(){let d=A(p).$implicit,n=y(2);return I(n.toggleService(d.id))}),s(),_(4,"span",65),s(),i(5,"div",66)(6,"span",67),l(7),s()()()()}if(c&2){let p=u.$implicit,r=y(2);Y("selected",r.isServiceSelected(p.id)),a(3),v("checked",r.isServiceSelected(p.id)),a(4),O(p.nombre)}}function Qa(c,u){c&1&&(i(0,"div",68),_(1,"i",69),i(2,"p"),l(3,"No se encontraron otros servicios."),s()())}function es(c,u){if(c&1){let p=z();i(0,"div",61),w("click",function(){let d=A(p).$implicit,n=y(2);return I(n.toggleService(d.id))}),i(1,"div",62)(2,"div",63)(3,"input",64),w("click",function(d){return A(p),I(d.stopPropagation())})("change",function(){let d=A(p).$implicit,n=y(2);return I(n.toggleService(d.id))}),s(),_(4,"span",65),s(),i(5,"div",66)(6,"span",67),l(7),s()()()()}if(c&2){let p=u.$implicit,r=y(2);Y("selected",r.isServiceSelected(p.id)),a(3),v("checked",r.isServiceSelected(p.id)),a(4),O(p.nombre)}}function ts(c,u){c&1&&(i(0,"div",68),_(1,"i",69),i(2,"p"),l(3,"No se encontraron servicios generales."),s()())}function ns(c,u){if(c&1&&(i(0,"div",42)(1,"h5",43),_(2,"i",44),l(3,"Lista de Servicios Disponibles "),s(),i(4,"ul",45)(5,"li",46)(6,"button",47),_(7,"i",48),l(8," Especialidades "),i(9,"span",49),l(10),s()()(),i(11,"li",46)(12,"button",50),_(13,"i",51),l(14," Otros Servicios "),i(15,"span",49),l(16),s()()(),i(17,"li",46)(18,"button",52),_(19,"i",53),l(20," Consulta General "),i(21,"span",49),l(22),s()()()(),i(23,"div",54)(24,"div",55)(25,"div",56),N(26,Xa,8,4,"div",57),s(),N(27,Za,4,0,"div",58),s(),i(28,"div",59)(29,"div",56),N(30,Ja,8,4,"div",57),s(),N(31,Qa,4,0,"div",58),s(),i(32,"div",60)(33,"div",56),N(34,es,8,4,"div",57),s(),N(35,ts,4,0,"div",58),s()()()),c&2){let p=y();a(10),O(p.getServicesByCategory("Especialidad").length),a(6),O(p.getServicesByCategory("Otros").length),a(6),O(p.getServicesByCategory("General").length),a(4),v("ngForOf",p.getServicesByCategory("Especialidad")),a(),v("ngIf",p.getServicesByCategory("Especialidad").length===0),a(3),v("ngForOf",p.getServicesByCategory("Otros")),a(),v("ngIf",p.getServicesByCategory("Otros").length===0),a(3),v("ngForOf",p.getServicesByCategory("General")),a(),v("ngIf",p.getServicesByCategory("General").length===0)}}function os(c,u){c&1&&(i(0,"div",70),_(1,"i",71),i(2,"p",72),l(3,"Por favor, selecciona un usuario arriba para comenzar a asignar servicios. "),s()())}function is(c,u){if(c&1){let p=z();i(0,"div",73)(1,"strong"),_(2,"i",74),l(3,"Error:"),s(),l(4),i(5,"button",75),w("click",function(){A(p);let d=y();return I(d.text_error="")}),s()()}if(c&2){let p=y();a(4),P(" ",p.text_error," ")}}function rs(c,u){if(c&1){let p=z();i(0,"div",76)(1,"strong"),_(2,"i",27),l(3,"\xA1\xC9xito!"),s(),l(4),i(5,"button",75),w("click",function(){A(p);let d=y();return I(d.text_success="")}),s()()}if(c&2){let p=y();a(4),P(" ",p.text_success," ")}}function as(c,u){c&1&&_(0,"span",77)}function ss(c,u){c&1&&_(0,"i",78)}var ko=(()=>{let u=class u{constructor(r,d,n,f){this.appointmentServicesService=r,this.http=d,this.authService=n,this.translate=f,this.users=[],this.services=[],this.loading=!1,this.selectedUserId=0,this.selectedServices=[],this.searchUser="",this.searchService="",this.text_success="",this.text_error="";let g=localStorage.getItem("language")||"es";this.translate.use(g)}ngOnInit(){this.loadServices(),this.loadUsers()}loadServices(){this.loading=!0,this.appointmentServicesService.listAll().subscribe({next:r=>{r.success?(this.services=r.data,console.log("Servicios cargados:",this.services.length)):this.text_error="No se pudieron cargar los servicios disponibles",this.loading=!1},error:r=>{console.error("Error al cargar servicios:",r),this.text_error="Error al cargar servicios. Por favor, intenta de nuevo.",this.loading=!1}})}loadUsers(){this.loading=!0;let r=new Mo({Authorization:"Bearer "+this.authService.token});this.http.get(`${Oo}/users`,{headers:r}).subscribe({next:d=>{d.users&&(this.users=d.users.map(n=>({id:n.id,name:n.name,surname:n.surname,email:n.email,assignedServices:[]}))),this.loading=!1},error:d=>{console.error("Error al cargar usuarios:",d),this.text_error="Error al cargar usuarios",this.loading=!1}})}get filteredUsers(){if(!this.searchUser)return this.users;let r=this.searchUser.toLowerCase();return this.users.filter(d=>d.name.toLowerCase().includes(r)||d.surname.toLowerCase().includes(r)||d.email.toLowerCase().includes(r))}onUserSelect(r){this.selectedUserId=r,this.text_success="",this.text_error="",this.loadUserServices(r)}loadUserServices(r){this.loading=!0,this.appointmentServicesService.getUserServices(r).subscribe({next:d=>{if(d.success){this.selectedServices=d.data.map(f=>f.id);let n=this.users.find(f=>f.id===r);n&&(n.assignedServices=this.selectedServices)}this.loading=!1},error:d=>{console.error("Error al cargar servicios del usuario:",d),this.selectedServices=[],this.loading=!1}})}toggleService(r){let d=this.selectedServices.indexOf(r);d>-1?this.selectedServices.splice(d,1):this.selectedServices.push(r)}isServiceSelected(r){return this.selectedServices.includes(r)}getServicesByCategory(r){let d=this.services.filter(n=>n.categoria===r);if(this.searchService){let n=this.searchService.toLowerCase();d=d.filter(f=>f.nombre.toLowerCase().includes(n))}return d}getFilteredServices(){if(!this.searchService)return this.services;let r=this.searchService.toLowerCase();return this.services.filter(d=>d.nombre.toLowerCase().includes(r))}get totalServices(){return this.services.length}get especialidadesCount(){return this.getServicesByCategory("Especialidad").length}get generalCount(){return this.getServicesByCategory("General").length}get otrosCount(){return this.getServicesByCategory("Otros").length}saveAssignment(){if(!this.selectedUserId){this.text_error="Por favor, selecciona un usuario de la lista";return}this.loading=!0,this.text_success="",this.text_error="",this.appointmentServicesService.assignServicesToUser(this.selectedUserId,this.selectedServices).subscribe({next:r=>{if(r.success){let d=this.getSelectedUser(),n=d?`${d.name} ${d.surname}`:"el usuario";this.text_success=`Servicios asignados correctamente a ${n}`,d&&(d.assignedServices=this.selectedServices),setTimeout(()=>{this.text_success=""},5e3)}this.loading=!1},error:r=>{console.error("Error al asignar servicios:",r),this.text_error=r.error?.message||"Error al asignar servicios. Por favor, intenta de nuevo.",this.loading=!1}})}cancelSelection(){this.selectedUserId=0,this.selectedServices=[],this.text_success="",this.text_error=""}getSelectedUser(){return this.users.find(r=>r.id===this.selectedUserId)}};u.\u0275fac=function(d){return new(d||u)(k(Pe),k(Po),k(we),k(_e))},u.\u0275cmp=Z({type:u,selectors:[["app-assign-services"]],decls:52,vars:12,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header","mb-4"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb","bg-light","p-2","rounded"],[1,"breadcrumb-item"],["routerLink","/appointments"],[1,"breadcrumb-item","active"],[1,"row","justify-content-center"],[1,"col-12"],[1,"card","card-assign","shadow","border-0"],[1,"card-body"],[1,"header-section","mb-4"],[1,"mb-2","fw-semibold"],[1,"fa","fa-user-cog","me-2"],[1,"description-text","mb-0"],[1,"user-selector-section","mb-4"],[1,"row","g-3"],[1,"col-lg-8"],[1,"form-label","fw-semibold"],[1,"fa","fa-user","me-2"],[1,"form-select","selector-user",3,"ngModelChange","change","ngModel"],["selected","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-4","d-flex","align-items-end"],[1,"counter-badge","w-100"],[1,"fa","fa-check-circle","me-2"],[1,"count"],[1,"separator"],["class","services-grid-section",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"separator","mt-4"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],[1,"actions-section"],[1,"btn","btn-cancel",3,"click","disabled"],[1,"fa","fa-times","me-2"],[1,"btn","btn-save",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fa fa-save me-2",4,"ngIf"],[3,"value"],[1,"services-grid-section"],[1,"section-title","mb-3"],[1,"fa","fa-shield-alt","me-2"],["id","servicesTabs","role","tablist",1,"nav","nav-pills","services-tabs","nav-fill"],["role","presentation",1,"nav-item"],["id","especialidades-tab","data-bs-toggle","tab","data-bs-target","#especialidades-panel","type","button","role","tab","aria-controls","especialidades-panel","aria-selected","true",1,"nav-link","active"],[1,"fa","fa-stethoscope","me-2"],[1,"badge","ms-2"],["id","otros-tab","data-bs-toggle","tab","data-bs-target","#otros-panel","type","button","role","tab","aria-controls","otros-panel","aria-selected","false",1,"nav-link"],[1,"fa","fa-plus-circle","me-2"],["id","general-tab","data-bs-toggle","tab","data-bs-target","#general-panel","type","button","role","tab","aria-controls","general-panel","aria-selected","false",1,"nav-link"],[1,"fa","fa-user-md","me-2"],["id","servicesTabsContent",1,"tab-content"],["id","especialidades-panel","role","tabpanel","aria-labelledby","especialidades-tab",1,"tab-pane","fade","show","active"],[1,"services-grid"],["class","service-card",3,"selected","click",4,"ngFor","ngForOf"],["class","col-12 py-5 text-center no-services-message",4,"ngIf"],["id","otros-panel","role","tabpanel","aria-labelledby","otros-tab",1,"tab-pane","fade"],["id","general-panel","role","tabpanel","aria-labelledby","general-tab",1,"tab-pane","fade"],[1,"service-card",3,"click"],[1,"service-card-content"],[1,"checkbox-wrapper"],["type","checkbox",3,"click","change","checked"],[1,"checkmark"],[1,"service-info"],[1,"service-name"],[1,"col-12","py-5","text-center","no-services-message"],[1,"fa","fa-info-circle","fa-3x","mb-3"],[1,"empty-state"],[1,"fa","fa-hand-point-up","fa-3x","mb-3"],[1,"mb-0"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fa","fa-exclamation-triangle","me-2"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fa","fa-save","me-2"]],template:function(d,n){d&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ol",5)(6,"li",6)(7,"a",7),l(8,"Citas"),s()(),i(9,"li",8),l(10,"Asignar Servicios a Usuarios"),s()()()()(),i(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"h4",14),_(17,"i",15),l(18," Asignar Servicios a Usuarios "),s(),i(19,"p",16),l(20,' Selecciona un usuario y marca los servicios que puede gestionar. Los cambios se guardar\xE1n al hacer clic en "Guardar Asignaci\xF3n". '),s()(),i(21,"div",17)(22,"div",18)(23,"div",19)(24,"label",20),_(25,"i",21),l(26,"Selecciona un Usuario * "),s(),i(27,"select",22),E("ngModelChange",function(g){return T(n.selectedUserId,g)||(n.selectedUserId=g),g}),w("change",function(){return n.onUserSelect(n.selectedUserId)}),i(28,"option",23),l(29,"-- Selecciona un usuario para asignar servicios --"),s(),N(30,Ka,2,4,"option",24),s()(),i(31,"div",25)(32,"div",26),_(33,"i",27),i(34,"strong"),l(35,"Servicios seleccionados:"),s(),i(36,"span",28),l(37),s()()()()(),_(38,"div",29),N(39,ns,36,9,"div",30)(40,os,4,0,"div",31),_(41,"div",32),N(42,is,6,1,"div",33)(43,rs,6,1,"div",34),i(44,"div",35)(45,"button",36),w("click",function(){return n.cancelSelection()}),_(46,"i",37),l(47,"Cancelar "),s(),i(48,"button",38),w("click",function(){return n.saveAssignment()}),N(49,as,1,0,"span",39)(50,ss,1,0,"i",40),l(51," Guardar Asignaci\xF3n "),s()()()()()()()()),d&2&&(a(27),S("ngModel",n.selectedUserId),a(),v("ngValue",null),a(2),v("ngForOf",n.users),a(7),O(n.selectedServices.length),a(2),v("ngIf",n.selectedUserId),a(),v("ngIf",!n.selectedUserId),a(2),v("ngIf",n.text_error),a(),v("ngIf",n.text_success),a(2),v("disabled",n.loading),a(3),v("disabled",!n.selectedUserId||n.loading),a(),v("ngIf",n.loading),a(),v("ngIf",!n.loading))},dependencies:[G,fe,Ie,J,ce,le,se,re,ae,ie],styles:['.card.card-assign[_ngcontent-%COMP%]{border-radius:1rem;padding:1.5rem;border:4px solid var(--user-border-color, #0B7285)!important;background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;transition:background-color .3s,color .3s,border-color .3s}.card.card-assign[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background-color:transparent!important;color:var(--user-card-text-color, #111827)!important;padding:0}.card.card-assign[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .card.card-assign[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .card.card-assign[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card.card-assign[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .card.card-assign[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.header-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600}.header-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285)}.header-section[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8}.user-selector-section[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem;display:block}.user-selector-section[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285)}.user-selector-section[_ngcontent-%COMP%]   .selector-user[_ngcontent-%COMP%]{border-radius:10px;font-size:.95rem;padding:.75rem 1rem;height:auto;font-weight:500;width:100%;border:1px solid #d1d5db}.user-selector-section[_ngcontent-%COMP%]   .selector-user[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285);box-shadow:0 0 0 4px color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent)}.counter-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 8%,transparent));border:2px solid color-mix(in srgb,var(--user-border-color, #0B7285) 25%,transparent);border-radius:10px;padding:.75rem 1.25rem;display:flex;align-items:center;justify-content:center;font-size:.95rem;font-weight:500;transition:all .3s ease;height:100%}.counter-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285);font-size:1.1rem}.counter-badge[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:var(--user-border-color, #0B7285);margin-left:.25rem}.separator[_ngcontent-%COMP%]{height:2px;background:linear-gradient(90deg,transparent,color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent) 20%,color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent) 80%,transparent);margin:1.5rem 0}.services-grid-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:1rem}.services-grid-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285)}.services-tabs[_ngcontent-%COMP%]{border-bottom:none;gap:.5rem;margin-bottom:1.5rem}.services-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--user-card-text-color, #555);background:#00000008;border:2px solid transparent;transition:all .3s ease;border-radius:8px;font-weight:600;padding:.75rem 1rem}.services-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent);transform:translateY(-2px)}.services-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--user-border-color, #0B7285),color-mix(in srgb,var(--user-border-color, #0B7285) 80%,black))!important;color:#fff!important;box-shadow:0 4px 12px #0b72854d}.services-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important}.services-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#fff3!important;color:#fff!important}.services-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285);font-size:1.1rem}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}.service-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 3%,transparent),transparent);border:2px solid color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent);border-radius:12px;padding:1rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.service-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:0;height:100%;background:linear-gradient(90deg,color-mix(in srgb,var(--user-border-color, #0B7285) 8%,transparent),transparent);transition:width .3s ease;z-index:0}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:color-mix(in srgb,var(--user-border-color, #0B7285) 40%,transparent)}.service-card[_ngcontent-%COMP%]:hover:before{width:100%}.service-card.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 8%,transparent));border-color:var(--user-border-color, #0B7285);box-shadow:0 4px 16px #0b728533}.service-card.selected[_ngcontent-%COMP%]   .service-name[_ngcontent-%COMP%]{font-weight:600;color:var(--user-border-color, #0B7285)!important}.service-card.selected[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{background-color:var(--user-border-color, #0B7285);border-color:var(--user-border-color, #0B7285)}.service-card.selected[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{display:block}.service-card[_ngcontent-%COMP%]   .service-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;position:relative;z-index:1}.service-card[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.service-card[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.service-card[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:block;width:24px;height:24px;background-color:#fff;border:2px solid #d1d5db;border-radius:6px;transition:all .2s ease;position:relative;cursor:pointer}.service-card[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:7px;top:3px;width:6px;height:12px;border:solid white;border-width:0 2.5px 2.5px 0;transform:rotate(45deg)}.service-card[_ngcontent-%COMP%]   .service-info[_ngcontent-%COMP%]{flex:1}.service-card[_ngcontent-%COMP%]   .service-info[_ngcontent-%COMP%]   .service-name[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;transition:all .2s ease;color:var(--user-card-text-color, #111827)}.empty-state[_ngcontent-%COMP%], .no-services-message[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:color-mix(in srgb,var(--user-card-text-color, #111827) 50%,transparent)!important}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .no-services-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:color-mix(in srgb,var(--user-card-text-color, #111827) 30%,transparent)!important;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .no-services-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.7}.actions-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;flex-wrap:wrap;margin-top:2rem}.btn-cancel[_ngcontent-%COMP%]{background-color:transparent;border:2px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);color:var(--user-card-text-color, #111827)!important;padding:.65rem 1.5rem;font-weight:600;font-size:.95rem;border-radius:10px;transition:all .2s ease}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent);border-color:var(--user-border-color, #0B7285)}.btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--user-border-color, #0B7285),color-mix(in srgb,var(--user-border-color, #0B7285) 80%,#000000));border:none;color:#fff!important;padding:.65rem 2rem;font-weight:600;font-size:.95rem;border-radius:10px;transition:all .2s ease;box-shadow:0 4px 12px #0b72854d}.btn-save[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #0b728566;filter:brightness(1.1)}.btn-save[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;filter:grayscale(.5)}.alert[_ngcontent-%COMP%]{border-radius:10px;border:none;padding:1rem 1.25rem;font-size:.95rem;margin-top:1rem}.alert.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.alert.alert-success[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .alert.alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.alert.alert-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff}.alert.alert-danger[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .alert.alert-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.dark-mode[_nghost-%COMP%]   .card.card-assign[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card.card-assign[_ngcontent-%COMP%]{background-color:var(--user-card-bg, #23221c)!important;border-color:var(--user-border-color, #0B7285)!important;color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card-body[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .user-selector-section[_ngcontent-%COMP%]   .selector-user[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .user-selector-section[_ngcontent-%COMP%]   .selector-user[_ngcontent-%COMP%]{background-color:#ffffff0d;border-color:#ffffff1a;color:#fff}.dark-mode[_nghost-%COMP%]   .user-selector-section[_ngcontent-%COMP%]   .selector-user[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .user-selector-section[_ngcontent-%COMP%]   .selector-user[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#23221c}.dark-mode[_nghost-%COMP%]   .user-selector-section[_ngcontent-%COMP%]   .selector-user[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   .user-selector-section[_ngcontent-%COMP%]   .selector-user[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285)}.dark-mode[_nghost-%COMP%]   .counter-badge[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .counter-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent));border-color:color-mix(in srgb,var(--user-border-color, #0B7285) 40%,transparent)}.dark-mode[_nghost-%COMP%]   .services-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .services-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ffffffb3;background:#ffffff0d}.dark-mode[_nghost-%COMP%]   .services-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .services-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff1a}.dark-mode[_nghost-%COMP%]   .service-card[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .service-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 5%,transparent),transparent);border-color:#ffffff1a}.dark-mode[_nghost-%COMP%]   .service-card[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .service-card[_ngcontent-%COMP%]:hover{border-color:color-mix(in srgb,var(--user-border-color, #0B7285) 60%,transparent);box-shadow:0 4px 12px #0000004d}.dark-mode[_nghost-%COMP%]   .service-card.selected[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .service-card.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent));border-color:var(--user-border-color, #0B7285);box-shadow:0 4px 16px #0b72854d}.dark-mode[_nghost-%COMP%]   .service-card[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .service-card[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{background-color:#2d3748;border-color:#fff3}.dark-mode[_nghost-%COMP%]   .service-card[_ngcontent-%COMP%]   .service-name[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .service-card[_ngcontent-%COMP%]   .service-name[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .no-services-message[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .no-services-message[_ngcontent-%COMP%]{color:#fff9!important}.dark-mode[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .no-services-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .no-services-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffffff4d!important}.dark-mode[_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{border-color:#fff3;color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff0d;border-color:var(--user-border-color, #0B7285)}']});let c=u;return c})();function cs(c,u){if(c&1&&(i(0,"option",51),l(1),s()),c&2){let p=u.$implicit;v("value",p),a(),O(p)}}function ls(c,u){if(c&1&&(i(0,"option",51),l(1),s()),c&2){let p=u.$implicit;v("value",p),a(),O(p)}}function ds(c,u){if(c&1&&(i(0,"option",51),l(1),s()),c&2){let p=u.$implicit;v("value",p.id),a(),O(p.nombre)}}function ms(c,u){c&1&&(l(0),h(1,"translate")),c&2&&P(" ",b(1,1,"COMMON.LOADING"),"... ")}function ps(c,u){c&1&&(l(0),h(1,"translate")),c&2&&P(" ",b(1,1,"APPOINTMENTS.ADD_APPOINTMENT.SELECT_DOCTOR")," ")}function gs(c,u){if(c&1&&(i(0,"option",51),l(1),s()),c&2){let p=u.$implicit;v("value",p.id),a(),Je(" ",p.nombre_completo," - ",p.turno," ")}}function fs(c,u){c&1&&(l(0),h(1,"translate")),c&2&&P(" ",b(1,1,"COMMON.LOADING"),"... ")}function us(c,u){c&1&&(l(0),h(1,"translate")),c&2&&P(" ",b(1,1,"APPOINTMENTS.ADD_APPOINTMENT.NO_TIMES")," ")}function _s(c,u){c&1&&(l(0),h(1,"translate")),c&2&&P(" ",b(1,1,"APPOINTMENTS.ADD_APPOINTMENT.SELECT_TIME")," ")}function hs(c,u){if(c&1&&(i(0,"option",51),l(1),s()),c&2){let p=u.$implicit,r=y(2);v("value",p.hora),a(),P(" ",r.formatTimeAMPM(p.hora)," ")}}function bs(c,u){if(c&1&&(i(0,"div",74)(1,"div",75),_(2,"i",76),i(3,"div")(4,"strong"),l(5),h(6,"translate"),s(),l(7),s()()()),c&2){let p=y(2);a(5),P("",b(6,3,"APPOINTMENTS.ADD_APPOINTMENT.APPOINTMENT_TIME"),":"),a(2),Je(" ",p.formatTimeAMPM(p.hora_inicio)," - ",p.formatTimeAMPM(p.getHoraFin())," ")}}function Cs(c,u){if(c&1){let p=z();i(0,"div",24)(1,"label",25),_(2,"i",44),l(3),h(4,"translate"),i(5,"span",27),l(6,"*"),s()(),i(7,"select",73),E("ngModelChange",function(d){A(p);let n=y();return T(n.hora_inicio,d)||(n.hora_inicio=d),I(d)}),i(8,"option",39),D(9,fs,2,3)(10,us,2,3)(11,_s,2,3),s(),N(12,hs,2,2,"option",40),s(),i(13,"small",46),_(14,"i",47),l(15,"Duraci\xF3n de la cita: 1 hora "),s()(),D(16,bs,8,5,"div",74)}if(c&2){let p=y();a(3),P("",b(4,6,"APPOINTMENTS.ADD_APPOINTMENT.TIME")," "),a(4),S("ngModel",p.hora_inicio),v("disabled",p.loadingHorarios),a(2),B(p.loadingHorarios?9:p.horariosDisponibles.length===0?10:11),a(3),v("ngForOf",p.horariosDisponibles),a(4),B(p.hora_inicio?16:-1)}}function Ms(c,u){if(c&1&&(i(0,"option",51),l(1),s()),c&2){let p=u.$implicit;v("value",p),a(),O(p)}}function Ps(c,u){if(c&1){let p=z();i(0,"div",64)(1,"div",77),_(2,"i",78),i(3,"div",79)(4,"strong"),l(5),h(6,"translate"),s(),l(7),s(),i(8,"button",80),w("click",function(){A(p);let d=y();return I(d.text_success="")}),s()()()}if(c&2){let p=y();a(5),P("",b(6,2,"COMMON.SUCCESS"),":"),a(2),P(" ",p.text_success," ")}}function vs(c,u){if(c&1){let p=z();i(0,"div",64)(1,"div",81),_(2,"i",82),i(3,"div",79)(4,"strong"),l(5),h(6,"translate"),s(),l(7),s(),i(8,"button",80),w("click",function(){A(p);let d=y();return I(d.text_validation="")}),s()()()}if(c&2){let p=y();a(5),P("",b(6,2,"COMMON.WARNING"),":"),a(2),P(" ",p.text_validation," ")}}function Os(c,u){c&1&&_(0,"span",69)}function ws(c,u){c&1&&_(0,"i",70)}var Ao=(()=>{let u=class u{constructor(r,d,n,f,g,j,te){this.router=r,this.route=d,this.translate=n,this.appointmentsService=f,this.appointmentServicesService=g,this.driverTourService=j,this.authService=te,this.folio_expediente="",this.nombre_paciente="",this.fecha_nacimiento="",this.numero_cel="",this.procedencia="",this.tipo_cita="",this.turno="",this.service_id=0,this.doctor_id=0,this.fecha="",this.hora_inicio="",this.motivo_consulta="",this.estado="Programada",this.notas="",this.submitted=!1,this.loading=!1,this.loadingDoctors=!1,this.loadingHorarios=!1,this.services=[],this.doctoresDisponibles=[],this.horariosDisponibles=[],this.text_success="",this.text_validation="",this.estadosDisponibles=["Programada","Confirmada"],this.tiposCita=["Primera vez","Subsecuente"],this.turnos=["Matutino","Vespertino","Jornada Acumulada"];let Ee=localStorage.getItem("language")||"es";this.translate.use(Ee),this.fecha=this.getMinDate()}ngOnInit(){this.user=this.authService.user,this.loadServices(),this.user&&this.user.doctor_id&&this.setupDoctorMode(this.user.doctor_id)}setupDoctorMode(r){this.appointmentsService.getDoctor(r).subscribe({next:d=>{if(d.success&&d.data){let n=d.data;this.service_id=n.appointment_service_id||0,this.turno=n.turno,this.loadingDoctors=!0,this.appointmentsService.listDoctors({appointment_service_id:this.service_id}).subscribe({next:f=>{this.loadingDoctors=!1,f.success&&f.data&&(this.doctoresDisponibles=f.data.filter(j=>{let te=j.activo,Ee=!this.turno||j.turno===this.turno||j.turno==="Mixto";return te&&Ee}),this.doctoresDisponibles.find(j=>j.id==r)?(this.doctor_id=r,this.text_validation="",this.fecha&&this.loadHorarios()):this.text_validation="Advertencia: Tu doctor no aparece disponible en este servicio o turno (verifique que est\xE9 Activo).")},error:f=>{this.loadingDoctors=!1,console.error(f)}})}},error:d=>console.error(d)})}getMinDate(){let r=new Date,d=r.getFullYear(),n=String(r.getMonth()+1).padStart(2,"0"),f=String(r.getDate()).padStart(2,"0");return`${d}-${n}-${f}`}startAddAppointmentTour(){this.driverTourService.startAddAppointmentTour()}loadServices(){this.appointmentServicesService.listAccessible().subscribe({next:r=>{r.success&&(this.services=r.data.filter(d=>d.activo))},error:r=>{console.error("Error al cargar servicios",r)}})}onServiceChange(){this.doctor_id=0,this.hora_inicio="",this.horariosDisponibles=[],this.doctoresDisponibles=[],this.service_id&&this.service_id!==0&&this.loadDoctorsByService()}onTurnoChange(){this.doctor_id=0,this.hora_inicio="",this.horariosDisponibles=[],this.service_id&&this.loadDoctorsByService()}loadDoctorsByService(){this.service_id&&(this.loadingDoctors=!0,this.doctoresDisponibles=[],this.appointmentsService.listDoctors({appointment_service_id:this.service_id}).subscribe({next:r=>{this.loadingDoctors=!1,r.success&&r.data&&(this.doctoresDisponibles=r.data.filter(d=>{let n=d.activo,f=!this.turno||d.turno===this.turno||d.turno==="Mixto";return n&&f}),this.doctoresDisponibles.length===0&&(this.text_validation=this.turno?`No hay doctores disponibles para este servicio en el turno ${this.turno}`:"No hay doctores disponibles para este servicio"))},error:r=>{this.loadingDoctors=!1,this.text_validation="Error al cargar doctores"}}))}onDoctorOrFechaChange(){this.hora_inicio="",this.horariosDisponibles=[],this.doctor_id&&this.doctor_id!==0&&this.fecha&&this.loadHorarios()}loadHorarios(){this.doctoresDisponibles.find(d=>d.id==this.doctor_id)&&(this.loadingHorarios=!0,this.appointmentsService.getHorariosDisponibles(this.doctor_id,this.fecha).subscribe({next:d=>{this.loadingHorarios=!1,d.success&&(this.horariosDisponibles=d.data.slots.filter(n=>n.disponible))},error:d=>{this.loadingHorarios=!1,console.error("Error loading schedules",d)}}))}validateForm(){return!(!this.folio_expediente||!this.folio_expediente.trim()||!this.nombre_paciente||!this.nombre_paciente.trim()||!this.fecha_nacimiento||!this.numero_cel||!this.numero_cel.trim()||!this.procedencia||!this.procedencia.trim()||!this.tipo_cita||!this.turno||!this.service_id||this.service_id===0||!this.doctor_id||this.doctor_id===0||!this.fecha||!this.hora_inicio||!this.motivo_consulta||!this.motivo_consulta.trim())}save(){if(this.submitted=!0,this.text_validation="",this.text_success="",!this.validateForm()){this.text_validation=this.translate.instant("COMMON.FILL_REQUIRED_FIELDS");return}this.loading=!0;let r={folio_expediente:this.folio_expediente.trim(),paciente_nombre:this.nombre_paciente.trim(),fecha_nacimiento:this.fecha_nacimiento,numero_cel:this.numero_cel.trim(),procedencia:this.procedencia.trim(),tipo_cita:this.tipo_cita,turno:this.turno,doctor_id:this.doctor_id,fecha:this.fecha,hora:this.hora_inicio,motivo:this.motivo_consulta.trim(),estado:this.mapEstadoToBackend(this.estado)};this.notas&&this.notas.trim()&&(r.observaciones=this.notas.trim()),this.appointmentsService.storeAppointment(r).subscribe({next:d=>{this.loading=!1,d.success?(this.text_success=this.translate.instant("APPOINTMENTS.ADD_APPOINTMENT.SUCCESS"),setTimeout(()=>{this.router.navigate(["/appointments/list_appointment"])},1500)):this.text_validation=d.message||this.translate.instant("COMMON.ERROR_OCCURRED")},error:d=>{this.loading=!1,this.text_validation=d.error?.message||this.translate.instant("COMMON.ERROR_OCCURRED")}})}mapEstadoToBackend(r){return{Programada:"pendiente",Confirmada:"confirmada","En curso":"en_curso",Completada:"completada",Cancelada:"cancelada","No asisti\xF3":"no_asistio"}[r]||"pendiente"}goToList(){this.router.navigate(["/appointments/list_appointment"])}getHoraFin(){return this.hora_inicio?this.appointmentsService.calcularHoraFin(this.hora_inicio):""}formatTimeAMPM(r){if(!r)return"";let d=r.split(":");if(d.length<2)return r;let n=parseInt(d[0],10),f=d[1],g=n>=12?"PM":"AM";return n===0?n=12:n>12&&(n=n-12),`${n}:${f} ${g}`}onFolioKeyPress(r){let d=r.charCode;(d<48||d>57)&&r.preventDefault()}};u.\u0275fac=function(d){return new(d||u)(k(ue),k(Ne),k(_e),k(Me),k(Pe),k(xe),k(we))},u.\u0275cmp=Z({type:u,selectors:[["app-add-appointment"]],decls:194,vars:86,consts:[[1,"page-wrapper"],[1,"content","add-staff-form"],[1,"page-header","mb-4"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb","bg-light","p-2","rounded"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"row","justify-content-center"],[1,"col-lg-10","col-xl-8"],[1,"card","card-form","shadow","border-0"],[1,"card-body","p-4"],[1,"form-header","text-center","mb-4"],[1,"form-icon","mb-3"],[1,"fa","fa-calendar-check"],[1,"fw-bold","mb-2"],[1,"text-muted","small"],[3,"keydown.enter"],[1,"form-section"],[1,"section-header","mb-3"],[1,"section-title"],[1,"fa","fa-user-injured","me-2"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],[1,"fa","fa-file-medical","me-1"],[1,"text-danger"],["type","text","name","folio_expediente","placeholder","Ej: EXP-2024-001","required","",1,"form-control",3,"ngModelChange","keypress","ngModel"],[1,"fa","fa-user","me-1"],["type","text","name","nombre_paciente","placeholder","Nombre completo del paciente","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-birthday-cake","me-1"],["type","date","name","fecha_nacimiento","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-phone","me-1"],["type","tel","name","numero_cel","placeholder","Ej: 4491234567","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-map-marker-alt","me-1"],["type","text","name","procedencia","placeholder","Localidad o municipio","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-clipboard-list","me-1"],["name","tipo_cita","required","",1,"form-select","form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-divider","my-4"],[1,"fa","fa-sun","me-2"],[1,"col-md-12"],[1,"fa","fa-clock","me-1"],["name","turno","required","",1,"form-select","form-control",3,"ngModelChange","change","ngModel"],[1,"text-muted","mt-1","d-block"],[1,"fa","fa-info-circle","me-1"],[1,"fa","fa-user-md","me-2"],[1,"fa","fa-briefcase-medical","me-1"],["name","service_id","required","",1,"form-select","form-control",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"fa","fa-user-md","me-1"],["name","doctor_id","required","",1,"form-select","form-control",3,"ngModelChange","change","ngModel","disabled"],[1,"fa","fa-clock","me-2"],[1,"fa","fa-calendar","me-1"],["type","date","name","fecha","required","",1,"form-control",3,"ngModelChange","change","ngModel","min"],[1,"fa","fa-notes-medical","me-2"],[1,"fa","fa-clipboard","me-1"],["name","motivo_consulta","rows","3","required","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-flag","me-1"],["name","estado","required","",1,"form-select","form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-sticky-note","me-1"],["name","notas","rows","2",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"mt-4"],[1,"form-actions","d-flex","justify-content-end","gap-2","mt-4"],["type","button",1,"btn","btn-cancel",3,"click","disabled"],[1,"fa","fa-times","me-2"],["type","button",1,"btn","btn-save",3,"click","disabled"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fa","fa-save","me-2"],["type","button",1,"tour-help-button",3,"click","title"],[1,"fa","fa-question"],["name","hora_inicio","required","",1,"form-select","form-control",3,"ngModelChange","ngModel","disabled"],[1,"col-12"],[1,"alert","alert-info","d-flex","align-items-center"],[1,"fa","fa-clock","me-3"],[1,"alert","alert-modern","alert-success","d-flex","align-items-center"],[1,"fa","fa-check-circle","me-3"],[1,"flex-grow-1"],["type","button",1,"btn-close",3,"click"],[1,"alert","alert-modern","alert-warning","d-flex","align-items-center"],[1,"fa","fa-exclamation-triangle","me-3"]],template:function(d,n){d&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ol",5)(6,"li",6)(7,"a",7),l(8),h(9,"translate"),s()(),i(10,"li",8),l(11),h(12,"translate"),s()()()()(),i(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14),_(19,"i",15),s(),i(20,"h3",16),l(21),h(22,"translate"),s(),i(23,"p",17),l(24),h(25,"translate"),s()(),i(26,"form",18),w("keydown.enter",function(g){return g.preventDefault()}),i(27,"div",19)(28,"div",20)(29,"h5",21),_(30,"i",22),l(31),h(32,"translate"),s()(),i(33,"div",23)(34,"div",24)(35,"label",25),_(36,"i",26),l(37,"Folio Expediente "),i(38,"span",27),l(39,"*"),s()(),i(40,"input",28),E("ngModelChange",function(g){return T(n.folio_expediente,g)||(n.folio_expediente=g),g}),w("keypress",function(g){return n.onFolioKeyPress(g)}),s()(),i(41,"div",24)(42,"label",25),_(43,"i",29),l(44,"Nombre del Paciente "),i(45,"span",27),l(46,"*"),s()(),i(47,"input",30),E("ngModelChange",function(g){return T(n.nombre_paciente,g)||(n.nombre_paciente=g),g}),s()(),i(48,"div",24)(49,"label",25),_(50,"i",31),l(51,"Fecha de Nacimiento "),i(52,"span",27),l(53,"*"),s()(),i(54,"input",32),E("ngModelChange",function(g){return T(n.fecha_nacimiento,g)||(n.fecha_nacimiento=g),g}),s()(),i(55,"div",24)(56,"label",25),_(57,"i",33),l(58,"N\xFAmero Celular "),i(59,"span",27),l(60,"*"),s()(),i(61,"input",34),E("ngModelChange",function(g){return T(n.numero_cel,g)||(n.numero_cel=g),g}),s()(),i(62,"div",24)(63,"label",25),_(64,"i",35),l(65,"Procedencia "),i(66,"span",27),l(67,"*"),s()(),i(68,"input",36),E("ngModelChange",function(g){return T(n.procedencia,g)||(n.procedencia=g),g}),s()(),i(69,"div",24)(70,"label",25),_(71,"i",37),l(72,"Tipo de Cita "),i(73,"span",27),l(74,"*"),s()(),i(75,"select",38),E("ngModelChange",function(g){return T(n.tipo_cita,g)||(n.tipo_cita=g),g}),i(76,"option",39),l(77,"Seleccione el tipo de cita"),s(),N(78,cs,2,2,"option",40),s()()()(),_(79,"div",41),i(80,"div",19)(81,"div",20)(82,"h5",21),_(83,"i",42),l(84,"Turno "),s()(),i(85,"div",23)(86,"div",43)(87,"label",25),_(88,"i",44),l(89,"Seleccione el Turno "),i(90,"span",27),l(91,"*"),s()(),i(92,"select",45),E("ngModelChange",function(g){return T(n.turno,g)||(n.turno=g),g}),w("change",function(){return n.onTurnoChange()}),i(93,"option",39),l(94,"Seleccione el turno"),s(),N(95,ls,2,2,"option",40),s(),i(96,"small",46),_(97,"i",47),l(98,"El turno determina los doctores y horarios disponibles "),s()()()(),_(99,"div",41),i(100,"div",19)(101,"div",20)(102,"h5",21),_(103,"i",48),l(104),h(105,"translate"),s()(),i(106,"div",23)(107,"div",24)(108,"label",25),_(109,"i",49),l(110,"Servicio / Especialidad "),i(111,"span",27),l(112,"*"),s()(),i(113,"select",50),E("ngModelChange",function(g){return T(n.service_id,g)||(n.service_id=g),g}),w("change",function(){return n.onServiceChange()}),i(114,"option",51),l(115,"Seleccione un Servicio"),s(),N(116,ds,2,2,"option",40),s()(),i(117,"div",24)(118,"label",25),_(119,"i",52),l(120),h(121,"translate"),i(122,"span",27),l(123,"*"),s()(),i(124,"select",53),E("ngModelChange",function(g){return T(n.doctor_id,g)||(n.doctor_id=g),g}),w("change",function(){return n.onDoctorOrFechaChange()}),i(125,"option",51),D(126,ms,2,3)(127,ps,2,3),s(),N(128,gs,2,3,"option",40),s()()()(),_(129,"div",41),i(130,"div",19)(131,"div",20)(132,"h5",21),_(133,"i",54),l(134),h(135,"translate"),s()(),i(136,"div",23)(137,"div",24)(138,"label",25),_(139,"i",55),l(140),h(141,"translate"),i(142,"span",27),l(143,"*"),s()(),i(144,"input",56),E("ngModelChange",function(g){return T(n.fecha,g)||(n.fecha=g),g}),w("change",function(){return n.onDoctorOrFechaChange()}),s()(),D(145,Cs,17,8),s()(),_(146,"div",41),i(147,"div",19)(148,"div",20)(149,"h5",21),_(150,"i",57),l(151),h(152,"translate"),s()(),i(153,"div",23)(154,"div",43)(155,"label",25),_(156,"i",58),l(157),h(158,"translate"),i(159,"span",27),l(160,"*"),s()(),i(161,"textarea",59),h(162,"translate"),E("ngModelChange",function(g){return T(n.motivo_consulta,g)||(n.motivo_consulta=g),g}),s()(),i(163,"div",24)(164,"label",25),_(165,"i",60),l(166),h(167,"translate"),i(168,"span",27),l(169,"*"),s()(),i(170,"select",61),E("ngModelChange",function(g){return T(n.estado,g)||(n.estado=g),g}),N(171,Ms,2,2,"option",40),s()(),i(172,"div",43)(173,"label",25),_(174,"i",62),l(175),h(176,"translate"),s(),i(177,"textarea",63),h(178,"translate"),E("ngModelChange",function(g){return T(n.notas,g)||(n.notas=g),g}),s()()()(),D(179,Ps,9,4,"div",64),D(180,vs,9,4,"div",64),i(181,"div",65)(182,"button",66),w("click",function(){return n.goToList()}),_(183,"i",67),l(184),h(185,"translate"),s(),i(186,"button",68),w("click",function(){return n.save()}),D(187,Os,1,0,"span",69)(188,ws,1,0,"i",70),l(189),h(190,"translate"),s()()()()()()()()(),i(191,"button",71),h(192,"translate"),w("click",function(){return n.startAddAppointmentTour()}),_(193,"i",72),s()),d&2&&(a(8),P("",b(9,50,"APPOINTMENTS.TITLE")," >"),a(3),O(b(12,52,"APPOINTMENTS.ADD_APPOINTMENT.BREADCRUMB")),a(10),O(b(22,54,"APPOINTMENTS.ADD_APPOINTMENT.TITLE")),a(3),O(b(25,56,"APPOINTMENTS.ADD_APPOINTMENT.SUBTITLE")),a(7),P("",b(32,58,"APPOINTMENTS.ADD_APPOINTMENT.PATIENT_INFO")," "),a(9),S("ngModel",n.folio_expediente),a(7),S("ngModel",n.nombre_paciente),a(7),S("ngModel",n.fecha_nacimiento),a(7),S("ngModel",n.numero_cel),a(7),S("ngModel",n.procedencia),a(7),S("ngModel",n.tipo_cita),a(3),v("ngForOf",n.tiposCita),a(14),S("ngModel",n.turno),a(3),v("ngForOf",n.turnos),a(9),P("",b(105,60,"APPOINTMENTS.ADD_APPOINTMENT.DOCTOR_INFO")," "),a(9),S("ngModel",n.service_id),a(),v("value",0),a(2),v("ngForOf",n.services),a(4),P("",b(121,62,"APPOINTMENTS.ADD_APPOINTMENT.DOCTOR")," "),a(4),S("ngModel",n.doctor_id),v("disabled",!n.service_id||n.loadingDoctors),a(),v("value",0),a(),B(n.loadingDoctors?126:127),a(2),v("ngForOf",n.doctoresDisponibles),a(6),P("",b(135,64,"APPOINTMENTS.ADD_APPOINTMENT.DATETIME_INFO")," "),a(6),P("",b(141,66,"APPOINTMENTS.ADD_APPOINTMENT.DATE")," "),a(4),S("ngModel",n.fecha),v("min",n.getMinDate()),a(),B(n.doctor_id&&n.fecha?145:-1),a(6),P("",b(152,68,"APPOINTMENTS.ADD_APPOINTMENT.DETAILS")," "),a(6),P("",b(158,70,"APPOINTMENTS.ADD_APPOINTMENT.REASON")," "),a(4),v("placeholder",oe(b(162,72,"APPOINTMENTS.ADD_APPOINTMENT.REASON_PLACEHOLDER"))),S("ngModel",n.motivo_consulta),a(5),P("",b(167,74,"APPOINTMENTS.ADD_APPOINTMENT.STATUS")," "),a(4),S("ngModel",n.estado),a(),v("ngForOf",n.estadosDisponibles),a(4),P("",b(176,76,"APPOINTMENTS.ADD_APPOINTMENT.NOTES")," "),a(2),v("placeholder",oe(b(178,78,"APPOINTMENTS.ADD_APPOINTMENT.NOTES_PLACEHOLDER"))),S("ngModel",n.notas),a(2),B(n.text_success?179:-1),a(),B(n.text_validation?180:-1),a(2),v("disabled",n.loading),a(2),P("",b(185,80,"COMMON.CANCEL")," "),a(2),v("disabled",n.loading),a(),B(n.loading?187:188),a(2),P(" ",b(190,82,"COMMON.SAVE")," "),a(2),v("title",oe(b(192,84,"TOUR.HELP_BUTTON"))))},dependencies:[G,fe,J,Le,ce,le,be,se,re,De,Re,ae,Be,K,ie,he],styles:[`.add-staff-form .card-form{border-radius:1rem;padding:.5rem;box-sizing:border-box;border:4px solid var(--user-border-color, #0B7285)!important;background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;transition:background-color .3s,color .3s,border-color .3s;box-shadow:0 8px 24px #00000014}.add-staff-form .form-header .form-icon{width:70px;height:70px;margin:0 auto;background:linear-gradient(135deg,var(--user-border-color, #0B7285),color-mix(in srgb,var(--user-border-color, #0B7285) 80%,#000));border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #00000026}.add-staff-form .form-header .form-icon i{font-size:2rem;color:#fff}.add-staff-form .form-header h3{color:var(--user-card-text-color, #111827)!important;font-size:1.75rem;margin:0}.add-staff-form .form-header p{color:var(--user-card-text-color, #111827)!important;opacity:.7;margin:0}.add-staff-form .form-section .section-header .section-title{color:var(--user-card-text-color, #111827)!important;font-size:1.1rem;font-weight:600;padding-bottom:.5rem;border-bottom:2px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);display:flex;align-items:center}.add-staff-form .form-section .section-header .section-title i{color:var(--user-border-color, #0B7285);font-size:1rem}.add-staff-form .form-divider{height:1px;background:linear-gradient(90deg,transparent,color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent),transparent)}.add-staff-form .form-label{font-weight:600;font-size:.9rem;color:var(--user-card-text-color, #111827)!important;margin-bottom:.5rem;display:flex;align-items:center}.add-staff-form .form-label i{color:var(--user-border-color, #0B7285);opacity:.8;font-size:.85rem}.add-staff-form .form-label .text-danger{font-size:.85rem;margin-left:2px}.add-staff-form .form-control,.add-staff-form .form-select{border-radius:.5rem;padding:.75rem 1rem;font-size:.95rem}.add-staff-form .form-control:focus,.add-staff-form .form-select:focus{transform:translateY(-1px)}.add-staff-form .form-control.is-invalid,.add-staff-form .form-select.is-invalid{border-color:#ef4444}.add-staff-form .form-control.is-invalid:focus,.add-staff-form .form-select.is-invalid:focus{box-shadow:0 0 0 4px #ef444426}.add-staff-form select,.add-staff-form .form-select{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23111827' d='M6 9L1 4h10z'/%3E%3C/svg%3E")!important;background-repeat:no-repeat!important;background-position:right .75rem center!important;background-size:12px!important;padding-right:2.5rem!important}.add-staff-form .invalid-feedback{font-size:.85rem;margin-top:.25rem;color:#ef4444;font-weight:500}.add-staff-form .alert-modern{border-radius:10px;border:none;padding:1rem 1.25rem;font-size:.95rem;box-shadow:0 2px 8px #00000014;display:flex;align-items:center}.add-staff-form .alert-modern i{font-size:1.25rem;flex-shrink:0}.add-staff-form .alert-modern .flex-grow-1{flex:1}.add-staff-form .alert-modern .btn-close{flex-shrink:0;margin-left:1rem}.add-staff-form .alert-modern.alert-success{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 12px #10b9814d}.add-staff-form .alert-modern.alert-success i,.add-staff-form .alert-modern.alert-success strong{color:#fff}.add-staff-form .alert-modern.alert-success .btn-close{filter:brightness(0) invert(1);opacity:.8}.add-staff-form .alert-modern.alert-success .btn-close:hover{opacity:1}.add-staff-form .alert-modern.alert-warning{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;box-shadow:0 4px 12px #f59e0b4d}.add-staff-form .alert-modern.alert-warning i,.add-staff-form .alert-modern.alert-warning strong{color:#fff}.add-staff-form .alert-modern.alert-warning .btn-close{filter:brightness(0) invert(1);opacity:.8}.add-staff-form .alert-modern.alert-warning .btn-close:hover{opacity:1}.add-staff-form .alert-modern.alert-danger{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 12px #ef44444d}.add-staff-form .alert-modern.alert-danger i,.add-staff-form .alert-modern.alert-danger strong{color:#fff}.add-staff-form .alert-modern.alert-danger .btn-close{filter:brightness(0) invert(1);opacity:.8}.add-staff-form .alert-modern.alert-danger .btn-close:hover{opacity:1}.add-staff-form .alert-info{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;border-radius:.75rem;padding:1rem;font-size:.9rem}.add-staff-form .alert-info i{font-size:1.2rem}.add-staff-form .form-actions{padding-top:1rem;border-top:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent)}.add-staff-form .form-actions .btn{padding:.65rem 1.5rem;border-radius:.5rem;font-weight:600;font-size:.95rem;transition:all .2s ease;display:inline-flex;align-items:center;border:none}.add-staff-form .form-actions .btn i{font-size:.9rem}.add-staff-form .form-actions .btn:active{transform:scale(.98)}.add-staff-form .form-actions .btn:disabled{opacity:.6;cursor:not-allowed}.add-staff-form .form-actions .btn-cancel{background:linear-gradient(135deg,#6b7280,#4b5563);color:#fff;box-shadow:0 2px 6px #6b72804d}.add-staff-form .form-actions .btn-cancel:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #6b728066;filter:brightness(1.1)}.add-staff-form .form-actions .btn-save{background:linear-gradient(135deg,var(--user-border-color, #0B7285),color-mix(in srgb,var(--user-border-color, #0B7285) 85%,#000));color:#fff;box-shadow:0 2px 6px #00000026}.add-staff-form .form-actions .btn-save:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #0003;filter:brightness(1.1)}:host-context(.dark-mode) .add-staff-form .card-form{background-color:var(--user-card-bg, #23221c)!important;border-color:var(--user-border-color, #0B7285)!important;box-shadow:0 8px 24px #0006}:host-context(.dark-mode) .add-staff-form .form-header h3,:host-context(.dark-mode) .add-staff-form .form-header p{color:var(--user-card-text-color, #ffffff)!important}:host-context(.dark-mode) .add-staff-form .form-section .section-header .section-title{color:var(--user-card-text-color, #ffffff)!important}:host-context(.dark-mode) .add-staff-form .form-label{color:var(--user-card-text-color, #ffffff)!important}:host-context(.dark-mode) .add-staff-form .form-control,:host-context(.dark-mode) .add-staff-form .form-select,:host-context(.dark-mode) .add-staff-form input[type=text],:host-context(.dark-mode) .add-staff-form input[type=date],:host-context(.dark-mode) .add-staff-form input[type=time],:host-context(.dark-mode) .add-staff-form select{background-color:#2d3748!important;color:#fff!important;border-color:#ffffff26}:host-context(.dark-mode) .add-staff-form .form-control::placeholder,:host-context(.dark-mode) .add-staff-form .form-select::placeholder,:host-context(.dark-mode) .add-staff-form input[type=text]::placeholder,:host-context(.dark-mode) .add-staff-form input[type=date]::placeholder,:host-context(.dark-mode) .add-staff-form input[type=time]::placeholder,:host-context(.dark-mode) .add-staff-form select::placeholder{color:#ffffff80!important}:host-context(.dark-mode) .add-staff-form .form-control:focus,:host-context(.dark-mode) .add-staff-form .form-select:focus,:host-context(.dark-mode) .add-staff-form input[type=text]:focus,:host-context(.dark-mode) .add-staff-form input[type=date]:focus,:host-context(.dark-mode) .add-staff-form input[type=time]:focus,:host-context(.dark-mode) .add-staff-form select:focus{border-color:var(--user-border-color, #0B7285);box-shadow:0 0 0 4px color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent);background-color:#2d3748!important}:host-context(.dark-mode) .add-staff-form .form-control:disabled,:host-context(.dark-mode) .add-staff-form .form-select:disabled,:host-context(.dark-mode) .add-staff-form input[type=text]:disabled,:host-context(.dark-mode) .add-staff-form input[type=date]:disabled,:host-context(.dark-mode) .add-staff-form input[type=time]:disabled,:host-context(.dark-mode) .add-staff-form select:disabled{background-color:#1a202c!important}:host-context(.dark-mode) .add-staff-form .form-control option,:host-context(.dark-mode) .add-staff-form .form-select option,:host-context(.dark-mode) .add-staff-form input[type=text] option,:host-context(.dark-mode) .add-staff-form input[type=date] option,:host-context(.dark-mode) .add-staff-form input[type=time] option,:host-context(.dark-mode) .add-staff-form select option{background-color:#2d3748;color:#fff}:host-context(.dark-mode) .add-staff-form select,:host-context(.dark-mode) .add-staff-form .form-select{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")!important}
`],encapsulation:2});let c=u;return c})();var zt=fo(ln());var Io=(c,u)=>u.id;function xs(c,u){if(c&1&&(i(0,"option",28),l(1),s()),c&2){let p=u.$implicit;v("value",p.id),a(),O(p.nombre_completo)}}function ys(c,u){c&1&&(i(0,"tr")(1,"td",81)(2,"div",82)(3,"span",83),l(4),h(5,"translate"),s()(),i(6,"p",84),l(7),h(8,"translate"),s()()()),c&2&&(a(4),P("",b(5,2,"COMMON.LOADING"),"..."),a(3),P("",b(8,4,"COMMON.LOADING"),"..."))}function Ss(c,u){c&1&&(i(0,"tr")(1,"td",81),_(2,"i",85),i(3,"p",86),l(4),h(5,"translate"),s()()()),c&2&&(a(4),O(b(5,1,"APPOINTMENTS.LIST_APPOINTMENTS.NO_APPOINTMENTS")))}function Ts(c,u){if(c&1){let p=z();i(0,"button",104),h(1,"translate"),w("click",function(){A(p);let d=y().$implicit,n=y();return I(n.selectAppointment(d))}),_(2,"i",105),s()}c&2&&v("title",b(1,1,"APPOINTMENTS.LIST_APPOINTMENTS.CANCEL"))}function Es(c,u){if(c&1){let p=z();i(0,"tr")(1,"td")(2,"span",87),l(3),s()(),i(4,"td")(5,"div",88),_(6,"i",89),i(7,"strong"),l(8),s()()(),i(9,"td")(10,"div",90)(11,"span",91),_(12,"i",92),l(13),s()()(),i(14,"td")(15,"small",86),_(16,"i",93),l(17),s()(),i(18,"td")(19,"small",86),_(20,"i",94),l(21),s()(),i(22,"td")(23,"small",86),_(24,"i",95),l(25),s()(),i(26,"td")(27,"span",96),l(28),h(29,"translate"),s()(),i(30,"td",97)(31,"div",98)(32,"button",99),h(33,"translate"),w("click",function(){let d=A(p).$implicit,n=y();return I(n.editAppointment(d.id))}),_(34,"i",100),s(),D(35,Ts,3,3,"button",101),i(36,"button",102),h(37,"translate"),w("click",function(){let d=A(p).$implicit,n=y();return I(n.selectAppointment(d))}),_(38,"i",103),s()()()()}if(c&2){let p=u.$implicit,r=y();a(3),P(" #",p.folio_expediente||"N/A"," "),a(5),O(r.getPacienteNombre(p)),a(5),P(" ",r.getDoctorNombre(p)," "),a(4),P(" ",r.formatDate(p.fecha)," "),a(4),P(" ",r.formatTime(p.hora)," "),a(4),P(" ",r.getMotivoConsulta(p)," "),a(2),v("ngClass",r.getStatusClass(p.estado)),a(),P(" ",b(29,11,r.getStatusTranslationKey(p.estado))," "),a(4),v("title",b(33,13,"COMMON.EDIT")),a(3),B(p.estado!=="cancelada"?35:-1),a(),v("title",b(37,15,"COMMON.DELETE"))}}function ks(c,u){if(c&1){let p=z();i(0,"li",51)(1,"a",52),w("click",function(){let d=A(p).$implicit,n=y();return I(n.goToPage(d))}),l(2),s()()}if(c&2){let p=u.$implicit,r=y();Y("active",p===r.currentPage),a(2),O(p)}}function As(c,u){if(c&1&&(i(0,"strong"),l(1),s()),c&2){let p=y();a(),O(p.getPacienteNombre(p.selectedAppointment))}}function Is(c,u){if(c&1&&(i(0,"strong"),l(1),s()),c&2){let p=y();a(),O(p.getPacienteNombre(p.selectedAppointment))}}var No=(()=>{let u=class u{constructor(r,d,n,f){this.appointmentsService=r,this.router=d,this.driverTourService=n,this.authService=f,this.appointments=[],this.filteredAppointments=[],this.paginatedAppointments=[],this.doctors=[],this.searchText="",this.isLoading=!1,this.filtroEstado="",this.filtroDoctor=0,this.currentPage=1,this.limit=10,this.skip=0,this.totalPages=0,this.pageNumbers=[],this.Math=Math,this.selectedAppointment=null,this.motivoCancelacion="",this.totalAppointments=0}ngOnInit(){this.loadDoctors(),this.loadAppointments()}startAppointmentsListTour(){this.driverTourService.startAppointmentsListTour()}loadDoctors(){this.appointmentsService.listDoctors().subscribe({next:r=>{r.success&&(this.doctors=r.data||[])},error:r=>{console.error("Error loading doctors:",r)}})}loadAppointments(){this.isLoading=!0,this.appointmentsService.listAppointments().subscribe({next:r=>{let d=r.data||[];d=d.filter(g=>g.estado!=="cancelada"&&g.estado!=="completada"&&g.estado!=="no_asistio");let n=this.authService.hasPermission("appointments_add_especialidad"),f=this.authService.hasPermission("appointments_add_general_medical");n&&!f?d=d.filter(g=>{let j=g.doctor_relation||g.doctor;return j&&j.especialidad_id}):f&&!n&&(d=d.filter(g=>{let j=g.doctor_relation||g.doctor;return j&&j.general_medical_id})),this.appointments=d,this.totalAppointments=this.appointments.length,this.filteredAppointments=[...this.appointments],this.updatePagination(),this.isLoading=!1},error:r=>{console.error("Error loading appointments:",r),this.isLoading=!1,zt.default.fire({icon:"error",title:"Error",text:"Error al cargar las citas"})}})}searchAppointments(){this.filteredAppointments=this.appointments.filter(r=>{let d=!this.searchText.trim()||r.paciente_nombre?.toLowerCase().includes(this.searchText.toLowerCase())||r.nombre_paciente?.toLowerCase().includes(this.searchText.toLowerCase())||r.doctor?.nombre_completo?.toLowerCase().includes(this.searchText.toLowerCase())||r.folio_expediente?.toLowerCase().includes(this.searchText.toLowerCase())||r.motivo?.toLowerCase().includes(this.searchText.toLowerCase()),n=!this.filtroEstado||r.estado===this.filtroEstado,f=!this.filtroDoctor||r.doctor_id===this.filtroDoctor;return d&&n&&f}),this.currentPage=1,this.updatePagination()}clearFilters(){this.searchText="",this.filtroEstado="",this.filtroDoctor=0,this.searchAppointments()}get hasActiveFilters(){return!!(this.searchText.trim()||this.filtroEstado||this.filtroDoctor)}updatePagination(){this.totalPages=Math.ceil(this.filteredAppointments.length/this.limit),this.skip=(this.currentPage-1)*this.limit,this.pageNumbers=[];let r=5,d=Math.max(1,this.currentPage-Math.floor(r/2)),n=Math.min(this.totalPages,d+r-1);n-d<r-1&&(d=Math.max(1,n-r+1));for(let f=d;f<=n;f++)this.pageNumbers.push(f);this.paginatedAppointments=this.filteredAppointments.slice(this.skip,this.skip+this.limit)}goToPage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r,this.updatePagination())}previousPage(){this.currentPage>1&&(this.currentPage--,this.updatePagination())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.updatePagination())}selectAppointment(r){this.selectedAppointment=r,this.motivoCancelacion=""}goToAddAppointment(){this.router.navigate(["/appointments/add_appointment"])}formatDate(r){return r?new Date(r).toLocaleDateString("es-MX",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A"}formatTime(r){if(!r)return"N/A";let d=r.split(":");if(d.length<2)return r;let n=parseInt(d[0],10),f=d[1],g=n>=12?"PM":"AM";return n===0?n=12:n>12&&(n=n-12),`${n}:${f} ${g}`}getPacienteNombre(r){return r?r.paciente?.nombre?r.paciente.nombre:r.paciente_nombre?r.paciente_nombre:"N/A":"N/A"}getDoctorNombre(r){return r?r.doctor?.nombre?r.doctor.nombre:r.doctor_relation?.nombre_completo?r.doctor_relation.nombre_completo:"N/A":"N/A"}getMotivoConsulta(r){return r?r.motivo?r.motivo:r.motivo_consulta?r.motivo_consulta:"N/A":"N/A"}confirmCancel(){if(!this.selectedAppointment?.id)return;let r=this.motivoCancelacion&&this.motivoCancelacion.trim()?this.motivoCancelacion.trim():"Sin motivo especificado";this.appointmentsService.cancelAppointment(this.selectedAppointment.id,r).subscribe({next:()=>{this.closeModal("cancel_appointment"),this.motivoCancelacion="",this.loadAppointments()},error:d=>{console.error("Error cancelling appointment:",d),this.closeModal("cancel_appointment"),this.motivoCancelacion="",zt.default.fire("Error","Error al cancelar la cita","error")}})}confirmDelete(){this.selectedAppointment?.id&&this.appointmentsService.deleteAppointment(this.selectedAppointment.id).subscribe({next:()=>{this.closeModal("delete_appointment"),this.loadAppointments()},error:r=>{console.error("Error deleting appointment:",r),this.closeModal("delete_appointment"),zt.default.fire("Error","Error al eliminar la cita","error")}})}editAppointment(r){this.router.navigate(["/appointments/edit_appointment",r])}getStatusClass(r){return{pendiente:"badge-warning",confirmada:"badge-info",en_progreso:"badge-primary",completada:"badge-success",cancelada:"badge-danger",no_asistio:"badge-secondary"}[r]||"badge-secondary"}getStatusTranslationKey(r){return r?`APPOINTMENTS.LIST_APPOINTMENTS.STATUS.${{pendiente:"PENDING",confirmada:"CONFIRMED",en_progreso:"IN_PROGRESS",completada:"COMPLETED",cancelada:"CANCELLED",no_asistio:"NO_SHOW"}[r]||"PENDING"}`:"APPOINTMENTS.LIST_APPOINTMENTS.STATUS.PENDING"}closeModal(r){let d=document.getElementById(r);if(d){let f=window.bootstrap.Modal.getInstance(d);f&&f.hide()}let n=document.querySelector(".modal-backdrop");n&&n.remove(),document.body.classList.remove("modal-open"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right")}};u.\u0275fac=function(d){return new(d||u)(k(Me),k(ue),k(xe),k(we))},u.\u0275cmp=Z({type:u,selectors:[["app-list-appointments"]],decls:175,vars:124,consts:[[1,"page-wrapper"],[1,"content","list-staff"],[1,"page-header","mb-4"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb","bg-light","p-2","rounded"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"card","card-list","shadow","border-0"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-start","flex-wrap","mb-3","header-bar"],[1,"mb-0","fw-semibold"],[1,"filter-controls-wrapper"],[1,"filters-section","d-flex","gap-2","mb-2"],[1,"search-box"],["type","text",1,"form-control","white-input",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-search","search-icon"],[1,"role-filter-box"],[1,"form-select","white-select",3,"ngModelChange","ngModel"],["value",""],["value","pendiente"],["value","confirmada"],["value","en_progreso"],["value","completada"],["value","cancelada"],["value","no_asistio"],[1,"form-select2","white-select",3,"ngModelChange","ngModel"],["value","0"],[3,"value"],[1,"btn","btn-options","d-flex","align-items-center","gap-1",2,"cursor","pointer",3,"click"],[1,"fa","fa-plus"],[1,"d-none","d-sm-inline"],[1,"table-responsive"],[1,"table","table-hover","align-middle","modern-table"],[1,"table-light"],[2,"width","10%"],[1,"fa","fa-hashtag","me-2"],[2,"width","18%"],[1,"fa","fa-user","me-2"],[1,"fa","fa-user-md","me-2"],[2,"width","12%"],[1,"fa","fa-calendar","me-2"],[1,"fa","fa-clock","me-2"],[2,"width","20%"],[1,"fa","fa-stethoscope","me-2"],[1,"fa","fa-info-circle","me-2"],[1,"text-center",2,"width","10%"],[1,"fa","fa-cog","me-2"],[1,"d-flex","justify-content-between","align-items-center","mt-3","flex-wrap"],[1,"pagination-info","small"],[1,"pagination","mb-0"],[1,"page-item"],[1,"page-link",2,"cursor","pointer",3,"click"],[1,"page-item",3,"active"],["id","cancel_appointment","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","p-4"],[1,"text-center","mb-4"],["src","assets/img/sent.png","alt","Cancelar",1,"img-fluid","mb-3",2,"max-width","120px"],[1,"mb-3"],[1,"text-muted","mb-0"],[1,"mb-4"],[1,"form-label"],[1,"fa","fa-comment","me-1"],["name","motivoCancelacion","rows","3","placeholder","Ingrese el motivo de la cancelaci\xF3n (opcional)","autofocus","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted","mt-1","d-block"],[1,"fa","fa-info-circle","me-1"],[1,"d-flex","gap-2","justify-content-center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-cancel","px-4",3,"click"],[1,"fas","fa-times","me-2"],["type","button","data-bs-dismiss","modal",1,"btn","btn-warning","px-4",3,"click"],[1,"fas","fa-check","me-2"],["id","delete_appointment","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-body","text-center","p-4"],["src","assets/img/sent.png","alt","Eliminar",1,"img-fluid","mb-3",2,"max-width","120px"],[1,"text-muted","mb-4"],["type","button","data-bs-dismiss","modal",1,"btn","btn-cancel","px-4"],["type","button","data-bs-dismiss","modal",1,"btn","btn-save","px-4",3,"click"],["type","button",1,"tour-help-button",3,"click","title"],[1,"fa","fa-question"],["colspan","7",1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"fa","fa-calendar-times","fa-3x","text-muted","mb-3"],[1,"text-muted"],[1,"fw-bold","text-dark"],[1,"user-name-cell"],[1,"fa","fa-user-circle","text-primary","me-2"],[1,"specialty-cell"],[1,"badge","badge-role"],[1,"fa","fa-user-md","me-1"],[1,"fa","fa-calendar","me-1"],[1,"fa","fa-clock","me-1"],[1,"fa","fa-stethoscope","me-1"],[1,"badge",3,"ngClass"],[1,"text-center"],[1,"action-buttons"],[1,"btn","btn-sm","btn-edit",3,"click","title"],[1,"fa","fa-pen"],["data-bs-toggle","modal","data-bs-target","#cancel_appointment",1,"btn","btn-sm","btn-cancel-appointment",3,"title"],["data-bs-toggle","modal","data-bs-target","#delete_appointment",1,"btn","btn-sm","btn-delete",3,"click","title"],[1,"fa","fa-trash"],["data-bs-toggle","modal","data-bs-target","#cancel_appointment",1,"btn","btn-sm","btn-cancel-appointment",3,"click","title"],[1,"fa","fa-ban"]],template:function(d,n){d&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ol",5)(6,"li",6),l(7),h(8,"translate"),s(),i(9,"li",7),l(10),h(11,"translate"),s()()()()(),i(12,"div",3)(13,"div",4)(14,"div",8)(15,"div",9)(16,"div",10)(17,"h4",11),l(18),h(19,"translate"),s(),i(20,"div",12)(21,"div",13)(22,"div",14)(23,"input",15),h(24,"translate"),E("ngModelChange",function(g){return T(n.searchText,g)||(n.searchText=g),g}),w("ngModelChange",function(){return n.searchAppointments()}),s(),_(25,"i",16),s(),i(26,"div",17)(27,"select",18),E("ngModelChange",function(g){return T(n.filtroEstado,g)||(n.filtroEstado=g),g}),w("ngModelChange",function(){return n.searchAppointments()}),i(28,"option",19),l(29),h(30,"translate"),s(),i(31,"option",20),l(32),h(33,"translate"),s(),i(34,"option",21),l(35),h(36,"translate"),s(),i(37,"option",22),l(38),h(39,"translate"),s(),i(40,"option",23),l(41),h(42,"translate"),s(),i(43,"option",24),l(44),h(45,"translate"),s(),i(46,"option",25),l(47),h(48,"translate"),s()()(),i(49,"div",17)(50,"select",26),E("ngModelChange",function(g){return T(n.filtroDoctor,g)||(n.filtroDoctor=g),g}),w("ngModelChange",function(){return n.searchAppointments()}),i(51,"option",27),l(52),h(53,"translate"),s(),Et(54,xs,2,2,"option",28,Io),s()()(),i(56,"a",29),w("click",function(){return n.goToAddAppointment()}),_(57,"i",30),i(58,"span",31),l(59),h(60,"translate"),s()()()(),i(61,"div",32)(62,"table",33)(63,"thead",34)(64,"tr")(65,"th",35),_(66,"i",36),l(67),h(68,"translate"),s(),i(69,"th",37),_(70,"i",38),l(71),h(72,"translate"),s(),i(73,"th",37),_(74,"i",39),l(75),h(76,"translate"),s(),i(77,"th",40),_(78,"i",41),l(79),h(80,"translate"),s(),i(81,"th",35),_(82,"i",42),l(83),h(84,"translate"),s(),i(85,"th",43),_(86,"i",44),l(87),h(88,"translate"),s(),i(89,"th",40),_(90,"i",45),l(91),h(92,"translate"),s(),i(93,"th",46),_(94,"i",47),l(95),h(96,"translate"),s()()(),i(97,"tbody"),D(98,ys,9,6,"tr"),D(99,Ss,6,3,"tr"),Et(100,Es,39,17,"tr",null,Io),s()()(),i(102,"div",48)(103,"div",49),l(104),h(105,"translate"),h(106,"translate"),h(107,"translate"),h(108,"translate"),s(),i(109,"nav")(110,"ul",50)(111,"li",51)(112,"a",52),w("click",function(){return n.previousPage()}),l(113),h(114,"translate"),s()(),Et(115,ks,3,3,"li",53,uo),i(117,"li",51)(118,"a",52),w("click",function(){return n.nextPage()}),l(119),h(120,"translate"),s()()()()()()()()()()(),i(121,"div",54)(122,"div",55)(123,"div",56)(124,"div",57)(125,"div",58),_(126,"img",59),i(127,"h3",60),l(128),h(129,"translate"),s(),i(130,"p",61),l(131),h(132,"translate"),D(133,As,2,1,"strong"),s()(),i(134,"div",62)(135,"label",63),_(136,"i",64),l(137,"Motivo de Cancelaci\xF3n "),s(),i(138,"textarea",65),E("ngModelChange",function(g){return T(n.motivoCancelacion,g)||(n.motivoCancelacion=g),g}),s(),i(139,"small",66),_(140,"i",67),l(141,'Si no especifica un motivo, se registrar\xE1 como "Sin motivo especificado" '),s()(),i(142,"div",68)(143,"button",69),w("click",function(){return n.motivoCancelacion=""}),_(144,"i",70),l(145),h(146,"translate"),s(),i(147,"button",71),w("click",function(){return n.confirmCancel()}),_(148,"i",72),l(149),h(150,"translate"),s()()()()()(),i(151,"div",73)(152,"div",55)(153,"div",56)(154,"div",74),_(155,"img",75),i(156,"h3",60),l(157),h(158,"translate"),s(),i(159,"p",76),l(160),h(161,"translate"),D(162,Is,2,1,"strong"),s(),i(163,"div",68)(164,"button",77),_(165,"i",70),l(166),h(167,"translate"),s(),i(168,"button",78),w("click",function(){return n.confirmDelete()}),_(169,"i",72),l(170),h(171,"translate"),s()()()()()(),i(172,"button",79),h(173,"translate"),w("click",function(){return n.startAppointmentsListTour()}),_(174,"i",80),s()),d&2&&(a(7),O(b(8,52,"APPOINTMENTS.BREADCRUMB_BASE")),a(3),O(b(11,54,"APPOINTMENTS.LIST_APPOINTMENTS.BREADCRUMB")),a(8),O(b(19,56,"APPOINTMENTS.LIST_APPOINTMENTS.TITLE")),a(5),S("ngModel",n.searchText),v("placeholder",b(24,58,"APPOINTMENTS.LIST_APPOINTMENTS.SEARCH_PLACEHOLDER")),a(4),S("ngModel",n.filtroEstado),a(2),O(b(30,60,"APPOINTMENTS.LIST_APPOINTMENTS.ALL_STATUS")),a(3),P("",b(33,62,"APPOINTMENTS.LIST_APPOINTMENTS.STATUS.PENDING")," "),a(3),P("",b(36,64,"APPOINTMENTS.LIST_APPOINTMENTS.STATUS.CONFIRMED")," "),a(3),P("",b(39,66,"APPOINTMENTS.LIST_APPOINTMENTS.STATUS.IN_PROGRESS")," "),a(3),P("",b(42,68,"APPOINTMENTS.LIST_APPOINTMENTS.STATUS.COMPLETED")," "),a(3),P("",b(45,70,"APPOINTMENTS.LIST_APPOINTMENTS.STATUS.CANCELLED")," "),a(3),P("",b(48,72,"APPOINTMENTS.LIST_APPOINTMENTS.STATUS.NO_SHOW")," "),a(3),S("ngModel",n.filtroDoctor),a(2),O(b(53,74,"APPOINTMENTS.LIST_APPOINTMENTS.ALL_DOCTORS")),a(2),kt(n.doctors),a(5),O(b(60,76,"APPOINTMENTS.LIST_APPOINTMENTS.ADD_APPOINTMENT")),a(8),O(b(68,78,"APPOINTMENTS.LIST_APPOINTMENTS.FOLIO")),a(4),O(b(72,80,"APPOINTMENTS.LIST_APPOINTMENTS.PATIENT")),a(4),O(b(76,82,"APPOINTMENTS.LIST_APPOINTMENTS.DOCTOR")),a(4),O(b(80,84,"APPOINTMENTS.LIST_APPOINTMENTS.DATE")),a(4),O(b(84,86,"APPOINTMENTS.LIST_APPOINTMENTS.TIME")),a(4),O(b(88,88,"APPOINTMENTS.LIST_APPOINTMENTS.REASON")),a(4),O(b(92,90,"APPOINTMENTS.LIST_APPOINTMENTS.STATUS_LABEL")),a(4),O(b(96,92,"COMMON.ACTIONS")),a(3),B(n.isLoading?98:-1),a(),B(!n.isLoading&&n.filteredAppointments.length===0?99:-1),a(),kt(n.paginatedAppointments),a(4),It(" ",b(105,94,"APPOINTMENTS.LIST_APPOINTMENTS.SHOWING")," ",n.skip+1," ",b(106,96,"APPOINTMENTS.LIST_APPOINTMENTS.TO")," ",n.Math.min(n.skip+n.limit,n.filteredAppointments.length)," ",b(107,98,"APPOINTMENTS.LIST_APPOINTMENTS.OF")," ",n.filteredAppointments.length," ",b(108,100,"APPOINTMENTS.LIST_APPOINTMENTS.RECORDS")," "),a(7),Y("disabled",n.currentPage===1),a(2),P(" ",b(114,102,"COMMON.PREVIOUS")," "),a(2),kt(n.pageNumbers),a(2),Y("disabled",n.currentPage===n.totalPages),a(2),P(" ",b(120,104,"COMMON.NEXT")," "),a(9),O(b(129,106,"APPOINTMENTS.LIST_APPOINTMENTS.CONFIRM_CANCEL_TITLE")),a(3),P(" ",b(132,108,"APPOINTMENTS.LIST_APPOINTMENTS.CONFIRM_CANCEL_MESSAGE")," "),a(2),B(n.selectedAppointment?133:-1),a(5),S("ngModel",n.motivoCancelacion),a(7),P("",b(146,110,"COMMON.NO")," "),a(4),P("",b(150,112,"COMMON.YES_CANCEL")," "),a(8),O(b(158,114,"APPOINTMENTS.LIST_APPOINTMENTS.CONFIRM_DELETE_TITLE")),a(3),P(" ",b(161,116,"APPOINTMENTS.LIST_APPOINTMENTS.CONFIRM_DELETE_MESSAGE")," "),a(2),B(n.selectedAppointment?162:-1),a(4),P("",b(167,118,"COMMON.NO")," "),a(4),P("",b(171,120,"COMMON.YES_DELETE")," "),a(2),v("title",oe(b(173,122,"TOUR.HELP_BUTTON"))))},dependencies:[G,Dt,J,ce,le,be,se,re,ae,ie,he],styles:[".card.card-list[_ngcontent-%COMP%]{border-radius:1rem;padding:1.5rem;border:4px solid var(--user-border-color, #0B7285)!important;background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;position:relative;z-index:1;transition:background-color .3s,color .3s,border-color .3s}.card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:1rem;background-color:transparent!important;color:var(--user-card-text-color, #111827)!important}.card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.card.card-list[_ngcontent-%COMP%]   .filter-controls-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.5rem}.card.card-list[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.card.card-list[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{position:relative;min-width:250px;flex:1}.card.card-list[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]{background-color:#fff!important;border:1px solid #d1d5db;color:#111827!important;padding:.625rem 2.5rem .625rem .75rem;border-radius:8px;font-size:.875rem;height:42px;transition:all .2s ease}.card.card-list[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285);box-shadow:0 0 0 3px #0b72851a;outline:none}.card.card-list[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]::placeholder{color:#6b7280}.card.card-list[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);color:#6b7280;pointer-events:none}.card.card-list[_ngcontent-%COMP%]   .role-filter-box[_ngcontent-%COMP%]{min-width:250px;flex:1}.card.card-list[_ngcontent-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]{background-color:#fff!important;border:1px solid #d1d5db;color:#111827!important;border-radius:8px;font-size:.875rem;padding:.625rem 2.5rem .625rem .75rem;height:42px;transition:all .2s ease;cursor:pointer}.card.card-list[_ngcontent-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285);box-shadow:0 0 0 3px #0b72851a;outline:none}.card.card-list[_ngcontent-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#111827}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0;width:100%;background-color:transparent!important;border:none!important;border-radius:12px;overflow:hidden}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 8%,transparent))!important;color:var(--user-card-text-color, #111827)!important;font-weight:600;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px;padding:1rem .75rem;border:none!important;vertical-align:middle}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.7;font-size:.85rem}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:12px}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:12px}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .2s ease;background:transparent!important}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 4%,transparent)!important;transform:translateY(-1px);box-shadow:0 2px 8px #0000000d}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .75rem;border:none!important;border-bottom:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 6%,transparent)!important;color:var(--user-card-text-color, #111827)!important;vertical-align:middle;background:transparent!important}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:12px}.card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:12px}.card.card-list[_ngcontent-%COMP%]   .user-name-cell[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.95rem}.card.card-list[_ngcontent-%COMP%]   .user-name-cell[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--user-border-color, #0B7285)}.card.card-list[_ngcontent-%COMP%]   .user-name-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.card.card-list[_ngcontent-%COMP%]   .email-cell[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.875rem}.card.card-list[_ngcontent-%COMP%]   .email-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important}.card.card-list[_ngcontent-%COMP%]   .role-cell[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card.card-list[_ngcontent-%COMP%]   .badge-role[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.4rem .8rem;background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 12%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 6%,transparent));color:var(--user-card-text-color, #111827)!important;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent);border-radius:8px;font-size:.8rem;font-weight:600}.card.card-list[_ngcontent-%COMP%]   .badge-role[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;color:var(--user-border-color, #0B7285)}.card.card-list[_ngcontent-%COMP%]   .badge-protected[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.4rem .8rem;background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff!important;border-radius:6px;font-size:.8rem;font-weight:600;box-shadow:0 2px 4px #f59e0b4d}.card.card-list[_ngcontent-%COMP%]   .badge-protected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.card.card-list[_ngcontent-%COMP%]   .badge-no-permission[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.4rem .8rem;background:linear-gradient(135deg,#6b7280,#4b5563);color:#fff!important;border-radius:6px;font-size:.8rem;font-weight:600;box-shadow:0 2px 4px #6b72804d}.card.card-list[_ngcontent-%COMP%]   .badge-no-permission[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.card.card-list[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;align-items:center}.card.card-list[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);border:none;color:#fff;padding:.5rem .75rem;border-radius:6px;transition:all .2s ease;font-size:.875rem}.card.card-list[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.card.card-list[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #3b82f666;filter:brightness(1.1)}.card.card-list[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);border:none;color:#fff;padding:.5rem .75rem;border-radius:6px;transition:all .2s ease;font-size:.875rem}.card.card-list[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.card.card-list[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #ef444466;filter:brightness(1.1)}.card.card-list[_ngcontent-%COMP%]   .btn-options[_ngcontent-%COMP%]{background-color:var(--user-border-color, #0B7285);border:none;padding:.5rem 1rem;font-weight:600;font-size:.875rem;color:#fff;border-radius:8px;transition:all .2s ease-in-out;display:inline-flex;align-items:center;box-shadow:0 2px 6px #0000001a}.card.card-list[_ngcontent-%COMP%]   .btn-options[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px;font-size:.85rem}.card.card-list[_ngcontent-%COMP%]   .btn-options[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026;filter:brightness(1.1)}.card.card-list[_ngcontent-%COMP%]   .btn-reverse[_ngcontent-%COMP%]{background:transparent;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);color:var(--user-card-text-color, #111827)!important;padding:.2rem .4rem;font-size:.75rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.card.card-list[_ngcontent-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]{background:transparent;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);color:var(--user-card-text-color, #111827)!important;padding:.25rem .5rem;font-size:.875rem;border-radius:6px;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center}.card.card-list[_ngcontent-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent);border-color:var(--user-border-color, #0B7285)}.card.card-list[_ngcontent-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285)}.page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;background:transparent!important}.page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   .bg-light[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   .table-light[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead.table-light[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]{background:transparent!important;background-color:transparent!important;color:var(--user-card-text-color, #111827)!important}.dark-mode[_nghost-%COMP%]   .card.card-list[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .card.card-list[_ngcontent-%COMP%]{background-color:var(--user-card-bg, #23221c)!important;border-color:var(--user-border-color, #0B7285)!important;color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important;border-color:#ffffff14!important;background:transparent!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent),color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent))!important}.dark-mode[_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .page-wrapper[_ngcontent-%COMP%]   .card.card-list[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--user-border-color, #0B7285) 8%,transparent)!important}.dark-mode[_nghost-%COMP%]   .badge-role[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .badge-role[_ngcontent-%COMP%]{background:#ffffff14!important;color:var(--user-card-text-color, #ffffff)!important;border-color:#ffffff26!important}.dark-mode[_nghost-%COMP%]   .user-name-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .user-name-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .email-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .email-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]{background-color:#2d3748!important;border-color:#fff3;color:#fff!important}.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285);box-shadow:0 0 0 3px #0b728533}.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .white-input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:#fff9}.dark-mode[_nghost-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]{background-color:#2d3748!important;border-color:#fff3;color:#fff!important}.dark-mode[_nghost-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]:focus, .dark-mode   [_nghost-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]:focus{border-color:var(--user-border-color, #0B7285);box-shadow:0 0 0 3px #0b728533}.dark-mode[_nghost-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2d3748;color:#fff}.dark-mode[_nghost-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]{border-color:#ffffff4d;color:#fff!important}.dark-mode[_nghost-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-color:var(--user-border-color, #0B7285)}.dark-mode[_nghost-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .btn-sort-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--user-border-color, #0B7285)}.search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:transparent!important;color:var(--user-card-text-color, #111827)!important;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent)!important;padding:.5rem 1rem;border-radius:8px;caret-color:var(--user-card-text-color, #111827)!important;transition:all .2s ease}.search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--user-border-color, #0B7285)!important;box-shadow:0 0 0 3px color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent)}.search-input[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:transparent!important;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent)!important;border-left:none!important;color:var(--user-card-text-color, #111827)!important;border-radius:0 8px 8px 0}.search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:color-mix(in srgb,var(--user-card-text-color, #111827) 50%,transparent)!important;opacity:1!important}.dark-mode[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important;border-color:#ffffff26!important}.dark-mode[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder, .dark-mode   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80!important}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{margin:0 .25rem}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:transparent;border:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);color:var(--user-card-text-color, #111827)!important;padding:.5rem .85rem;border-radius:8px;font-weight:500;transition:all .2s ease;font-size:.875rem}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent);border-color:var(--user-border-color, #0B7285);transform:translateY(-1px)}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:var(--user-border-color, #0B7285)!important;border-color:var(--user-border-color, #0B7285)!important;color:#fff!important;box-shadow:0 2px 8px #00000026}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--user-card-text-color, #111827) 5%,transparent);border-color:color-mix(in srgb,var(--user-card-text-color, #111827) 15%,transparent);color:color-mix(in srgb,var(--user-card-text-color, #111827) 40%,transparent)!important;cursor:not-allowed;opacity:.6}.pagination-info[_ngcontent-%COMP%]{color:var(--user-card-text-color, #111827)!important;font-size:.875rem;font-weight:500}.dark-mode[_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#ffffff0d;border-color:#fff3;color:var(--user-card-text-color, #ffffff)!important}.dark-mode[_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border-color:var(--user-border-color, #0B7285);color:#fff!important}.dark-mode[_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:var(--user-border-color, #0B7285)!important;border-color:var(--user-border-color, #0B7285)!important;color:#fff!important;box-shadow:0 2px 12px #0006}.dark-mode[_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#ffffff05;border-color:#ffffff1a;color:#ffffff4d!important;cursor:not-allowed;opacity:.5}.dark-mode[_nghost-%COMP%]   .pagination-info[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .pagination-info[_ngcontent-%COMP%]{color:var(--user-card-text-color, #ffffff)!important}  #deleteModal .modal-content{background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;border:2px solid var(--user-border-color, #0B7285);border-radius:1rem}  #deleteModal .modal-content .modal-body h5,   #deleteModal .modal-content .modal-body p,   #deleteModal .modal-content .modal-body strong{color:var(--user-card-text-color, #111827)!important}  #deleteModal .modal-content .modal-body .btn-light{background-color:color-mix(in srgb,var(--user-border-color, #0B7285) 10%,transparent);color:var(--user-card-text-color, #111827);border:1px solid var(--user-border-color, #0B7285);transition:all .2s ease}  #deleteModal .modal-content .modal-body .btn-light:hover{background-color:color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent)}  #deleteModal .modal-content .modal-body .btn-danger{background:linear-gradient(135deg,#ef4444,#dc2626);border:none;color:#fff;transition:all .2s ease}  #deleteModal .modal-content .modal-body .btn-danger:hover{transform:scale(1.05);box-shadow:0 2px 8px #ef444466}.dark-mode[_nghost-%COMP%]     #deleteModal .modal-content, .dark-mode   [_nghost-%COMP%]     #deleteModal .modal-content{background-color:var(--user-card-bg, #1A2332)!important;color:var(--user-card-text-color, #ffffff)!important;box-shadow:0 8px 32px #00000080}  .modal-backdrop{background-color:#00000080!important}  .modal{background-color:transparent!important}  body.modal-open{overflow:hidden}.dark-mode[_nghost-%COMP%]     .modal-backdrop, .dark-mode   [_nghost-%COMP%]     .modal-backdrop{background-color:#000000b3!important}.btn-cancel-appointment[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;border:none;padding:.375rem .75rem;border-radius:.25rem;font-weight:600;transition:all .2s ease;min-width:2.25rem;min-height:2.25rem;display:inline-flex;align-items:center;justify-content:center}.btn-cancel-appointment[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ef4444,#dc2626);transform:translateY(-2px);box-shadow:0 4px 12px #ef444466;filter:brightness(1.1);color:#fff}.btn-cancel-appointment[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-cancel-appointment[_ngcontent-%COMP%]   i.fa-ban[_ngcontent-%COMP%]{font-size:.875rem}.badge[_ngcontent-%COMP%]{padding:.35rem .75rem;font-size:.85rem;font-weight:600;border-radius:.375rem;display:inline-flex;align-items:center;gap:.25rem}.badge.badge-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff}.badge.badge-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff}.badge.badge-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff}.badge.badge-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.badge.badge-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff}.badge.badge-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563);color:#fff}.modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem}.role-filter-box[_ngcontent-%COMP%]   .white-select[_ngcontent-%COMP%], .role-filter-box[_ngcontent-%COMP%]   .form-select2[_ngcontent-%COMP%]{padding:.625rem .75rem!important;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}"]});let c=u;return c})();function Ns(c,u){if(c&1&&(i(0,"option",51),l(1),s()),c&2){let p=u.$implicit;v("value",p),a(),O(p)}}function Ds(c,u){if(c&1&&(i(0,"option",51),l(1),s()),c&2){let p=u.$implicit;v("value",p),a(),O(p)}}function Bs(c,u){if(c&1&&(i(0,"option",51),l(1),s()),c&2){let p=u.$implicit;v("value",p.id),a(),O(p.nombre)}}function Ls(c,u){c&1&&(l(0),h(1,"translate")),c&2&&P(" ",b(1,1,"COMMON.LOADING"),"... ")}function Rs(c,u){c&1&&(l(0),h(1,"translate")),c&2&&P(" ",b(1,1,"APPOINTMENTS.ADD_APPOINTMENT.SELECT_DOCTOR")," ")}function zs(c,u){if(c&1&&(i(0,"option",51),l(1),s()),c&2){let p=u.$implicit;v("value",p.id),a(),Je(" ",p.nombre_completo," - ",p.turno," ")}}function Fs(c,u){c&1&&(l(0),h(1,"translate")),c&2&&P(" ",b(1,1,"COMMON.LOADING"),"... ")}function Vs(c,u){c&1&&(l(0),h(1,"translate")),c&2&&P(" ",b(1,1,"APPOINTMENTS.ADD_APPOINTMENT.NO_TIMES")," ")}function Ws(c,u){c&1&&(l(0),h(1,"translate")),c&2&&P(" ",b(1,1,"APPOINTMENTS.ADD_APPOINTMENT.SELECT_TIME")," ")}function js(c,u){if(c&1&&(i(0,"option",51),l(1),s()),c&2){let p=u.$implicit,r=y(2);v("value",p.hora),a(),P(" ",r.formatTimeAMPM(p.hora)," ")}}function Hs(c,u){if(c&1&&(i(0,"div",74)(1,"div",75),_(2,"i",76),i(3,"div")(4,"strong"),l(5),h(6,"translate"),s(),l(7),s()()()),c&2){let p=y(2);a(5),P("",b(6,3,"APPOINTMENTS.ADD_APPOINTMENT.APPOINTMENT_TIME"),":"),a(2),Je(" ",p.formatTimeAMPM(p.hora_inicio)," - ",p.formatTimeAMPM(p.getHoraFin())," ")}}function Us(c,u){if(c&1){let p=z();i(0,"div",24)(1,"label",25),_(2,"i",44),l(3),h(4,"translate"),i(5,"span",27),l(6,"*"),s()(),i(7,"select",73),E("ngModelChange",function(d){A(p);let n=y();return T(n.hora_inicio,d)||(n.hora_inicio=d),I(d)}),i(8,"option",39),D(9,Fs,2,3)(10,Vs,2,3)(11,Ws,2,3),s(),N(12,js,2,2,"option",40),s(),i(13,"small",46),_(14,"i",47),l(15),h(16,"translate"),s()(),D(17,Hs,8,5,"div",74)}if(c&2){let p=y();a(3),P("",b(4,7,"APPOINTMENTS.ADD_APPOINTMENT.TIME")," "),a(4),S("ngModel",p.hora_inicio),v("disabled",p.loadingHorarios),a(2),B(p.loadingHorarios?9:p.horariosDisponibles.length===0?10:11),a(3),v("ngForOf",p.horariosDisponibles),a(3),P("",b(16,9,"APPOINTMENTS.ADD_APPOINTMENT.DURATION_INFO")," "),a(2),B(p.hora_inicio?17:-1)}}function qs(c,u){if(c&1&&(i(0,"option",51),l(1),s()),c&2){let p=u.$implicit;v("value",p),a(),O(p)}}function $s(c,u){if(c&1){let p=z();i(0,"div",43)(1,"label",25),_(2,"i",77),l(3,"Motivo de Cancelaci\xF3n "),s(),i(4,"textarea",78),E("ngModelChange",function(d){A(p);let n=y();return T(n.motivoCancelacion,d)||(n.motivoCancelacion=d),I(d)}),s(),i(5,"small",46),_(6,"i",47),l(7,'Si no especifica un motivo, se registrar\xE1 como "Sin motivo especificado" '),s()()}if(c&2){let p=y();a(4),S("ngModel",p.motivoCancelacion)}}function Ys(c,u){if(c&1){let p=z();i(0,"div",64)(1,"div",79),_(2,"i",80),i(3,"div",81)(4,"strong"),l(5),h(6,"translate"),s(),l(7),s(),i(8,"button",82),w("click",function(){A(p);let d=y();return I(d.text_success="")}),s()()()}if(c&2){let p=y();a(5),P("",b(6,2,"COMMON.SUCCESS"),":"),a(2),P(" ",p.text_success," ")}}function Gs(c,u){if(c&1){let p=z();i(0,"div",64)(1,"div",83),_(2,"i",84),i(3,"div",81)(4,"strong"),l(5),h(6,"translate"),s(),l(7),s(),i(8,"button",82),w("click",function(){A(p);let d=y();return I(d.text_validation="")}),s()()()}if(c&2){let p=y();a(5),P("",b(6,2,"COMMON.WARNING"),":"),a(2),P(" ",p.text_validation," ")}}function Ks(c,u){c&1&&_(0,"span",69)}function Xs(c,u){c&1&&_(0,"i",70)}var Do=(()=>{let u=class u{constructor(r,d,n,f,g,j){this.router=r,this.route=d,this.translate=n,this.appointmentsService=f,this.appointmentServicesService=g,this.driverTourService=j,this.appointmentId=null,this.folio_expediente="",this.nombre_paciente="",this.fecha_nacimiento="",this.numero_cel="",this.procedencia="",this.tipo_cita="",this.turno="",this.appointment_service_id=0,this.doctor_id=0,this.fecha="",this.hora_inicio="",this.motivo_consulta="",this.estado="Programada",this.notas="",this.motivoCancelacion="",this.estadoOriginal="Programada",this.submitted=!1,this.loading=!1,this.loadingDoctors=!1,this.loadingHorarios=!1,this.services=[],this.doctoresDisponibles=[],this.horariosDisponibles=[],this.text_success="",this.text_validation="",this.estadosDisponibles=["Programada","Confirmada","En curso","Completada","Cancelada","No asisti\xF3"],this.tiposCita=["Primera vez","Subsecuente"],this.turnos=["Matutino","Vespertino"];let te=localStorage.getItem("language")||"es";this.translate.use(te)}ngOnInit(){this.loadServices(),this.route.params.subscribe(r=>{r.id?(this.appointmentId=+r.id,this.loadAppointmentData(this.appointmentId)):this.router.navigate(["/appointments/list_appointment"])})}startEditAppointmentTour(){this.driverTourService.startEditAppointmentTour()}loadAppointmentData(r){this.loading=!0,this.appointmentsService.getAppointment(r).subscribe({next:d=>{let n=d.data;if(this.folio_expediente=n.folio_expediente||"",this.nombre_paciente=n.paciente_nombre||n.nombre_paciente||"",this.fecha_nacimiento=n.fecha_nacimiento||"",this.numero_cel=n.numero_cel||"",this.procedencia=n.procedencia||"",this.tipo_cita=n.tipo_cita||"",this.turno=n.turno||"",this.appointment_service_id=n.doctor_relation?.appointment_service_id||n.doctor?.appointment_service_id||n.doctor_relation?.especialidad_id||n.doctor_relation?.general_medical_id||0,this.doctor_id=n.doctor_id,n.fecha){let f=new Date(n.fecha);this.fecha=f.toISOString().split("T")[0]}this.hora_inicio=n.hora?n.hora.substring(0,5):"",this.motivo_consulta=n.motivo||n.motivo_consulta||"",this.estado=this.mapEstadoFromBackend(n.estado),this.estadoOriginal=this.estado,this.notas=n.observaciones||n.notas||"",this.appointment_service_id&&this.loadDoctoresByService(),this.doctor_id&&this.fecha&&this.loadHorariosDisponibles(),this.loading=!1},error:d=>{this.loading=!1,this.text_validation="Error al cargar la cita",setTimeout(()=>{this.router.navigate(["/appointments/list_appointment"])},2e3)}})}loadServices(){this.appointmentServicesService.listAccessible().subscribe({next:r=>{r.success&&(this.services=r.data)},error:r=>{this.text_validation="Error al cargar servicios"}})}onServiceChange(){this.doctor_id=0,this.hora_inicio="",this.horariosDisponibles=[],this.appointment_service_id&&this.appointment_service_id!==0?this.loadDoctoresByService():this.doctoresDisponibles=[]}loadDoctoresByService(){this.loadingDoctors=!0,this.doctoresDisponibles=[],this.appointmentsService.listDoctors({appointment_service_id:this.appointment_service_id}).subscribe({next:r=>{this.loadingDoctors=!1,r.success&&r.data?(this.doctoresDisponibles=r.data.filter(d=>d.activo),this.doctoresDisponibles.length===0&&(this.text_validation="No hay doctores disponibles para este servicio")):this.doctoresDisponibles=[]},error:r=>{this.loadingDoctors=!1,this.text_validation="Error al cargar doctores: "+(r.error?.message||r.message)}})}onDoctorOrFechaChange(){this.hora_inicio="",this.horariosDisponibles=[],this.doctor_id&&this.fecha&&this.loadHorariosDisponibles()}loadHorariosDisponibles(){this.loadingHorarios=!0,this.appointmentsService.getHorariosDisponibles(this.doctor_id,this.fecha).subscribe({next:r=>{if(this.loadingHorarios=!1,r.success){if(this.horariosDisponibles=r.data.slots.filter(d=>d.disponible),this.hora_inicio){let d=this.hora_inicio.substring(0,5);this.horariosDisponibles.some(f=>f.hora===d)||this.horariosDisponibles.unshift({hora:d,disponible:!0})}this.horariosDisponibles.length===0&&(this.text_validation=this.translate.instant("APPOINTMENTS.ADD_APPOINTMENT.NO_AVAILABLE_TIMES"))}},error:r=>{this.loadingHorarios=!1,this.text_validation=this.translate.instant("APPOINTMENTS.ADD_APPOINTMENT.ERROR_LOADING_TIMES")}})}mapEstadoToBackend(r){return{Programada:"pendiente",Confirmada:"confirmada","En curso":"en_progreso",Completada:"completada",Cancelada:"cancelada","No asisti\xF3":"no_asistio"}[r]||"pendiente"}mapEstadoFromBackend(r){return{pendiente:"Programada",confirmada:"Confirmada",en_progreso:"En curso",completada:"Completada",cancelada:"Cancelada",no_asistio:"No asisti\xF3"}[r]||"Programada"}validateForm(){return!(!this.folio_expediente||!this.folio_expediente.trim()||!this.nombre_paciente||!this.nombre_paciente.trim()||!this.fecha_nacimiento||!this.numero_cel||!this.numero_cel.trim()||!this.procedencia||!this.procedencia.trim()||!this.tipo_cita||!this.turno||!this.appointment_service_id||this.appointment_service_id===0||!this.doctor_id||this.doctor_id===0||!this.fecha||!this.hora_inicio||this.hora_inicio===""||!this.motivo_consulta||!this.motivo_consulta.trim())}save(){if(this.submitted=!0,this.text_validation="",this.text_success="",!this.validateForm()){this.text_validation=this.translate.instant("COMMON.FILL_REQUIRED_FIELDS");return}if(!this.appointmentId){this.text_validation="ID de cita no v\xE1lido";return}if(this.loading=!0,this.estado==="Cancelada"&&this.estadoOriginal!=="Cancelada"){let n=this.motivoCancelacion&&this.motivoCancelacion.trim()?this.motivoCancelacion.trim():"Sin motivo especificado";this.appointmentsService.cancelAppointment(this.appointmentId,n).subscribe({next:f=>{this.loading=!1,f.success?(this.text_success=this.translate.instant("APPOINTMENTS.EDIT_APPOINTMENT.SUCCESS"),setTimeout(()=>{this.router.navigate(["/appointments/cancelled/list"])},1500)):this.text_validation=f.message||this.translate.instant("COMMON.ERROR_OCCURRED")},error:f=>{this.loading=!1,this.text_validation=f.error?.message||this.translate.instant("COMMON.ERROR_OCCURRED")}});return}let d={folio_expediente:this.folio_expediente.trim(),paciente_nombre:this.nombre_paciente.trim(),fecha_nacimiento:this.fecha_nacimiento,numero_cel:this.numero_cel.trim(),procedencia:this.procedencia.trim(),tipo_cita:this.tipo_cita,turno:this.turno,doctor_id:this.doctor_id,fecha:this.fecha,hora:this.hora_inicio,motivo:this.motivo_consulta.trim(),estado:this.mapEstadoToBackend(this.estado)};this.notas&&this.notas.trim()&&(d.observaciones=this.notas.trim()),this.appointmentsService.updateAppointment(this.appointmentId,d).subscribe({next:n=>{this.loading=!1,n.success?(this.text_success=this.translate.instant("APPOINTMENTS.EDIT_APPOINTMENT.SUCCESS"),setTimeout(()=>{this.router.navigate(["/appointments/list_appointment"])},1500)):this.text_validation=n.message||this.translate.instant("COMMON.ERROR_OCCURRED")},error:n=>{this.loading=!1,this.text_validation=n.error?.message||this.translate.instant("COMMON.ERROR_OCCURRED")}})}goToList(){this.router.navigate(["/appointments/list_appointment"])}getHoraFin(){return this.hora_inicio?this.appointmentsService.calcularHoraFin(this.hora_inicio):""}formatTimeAMPM(r){if(!r)return"";let d=r.split(":");if(d.length<2)return r;let n=parseInt(d[0],10),f=d[1],g=n>=12?"PM":"AM";return n===0?n=12:n>12&&(n=n-12),`${n}:${f} ${g}`}};u.\u0275fac=function(d){return new(d||u)(k(ue),k(Ne),k(_e),k(Me),k(Pe),k(xe))},u.\u0275cmp=Z({type:u,selectors:[["app-edit-appointment"]],decls:197,vars:92,consts:[[1,"page-wrapper"],[1,"content","add-staff-form"],[1,"page-header","mb-4"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb","bg-light","p-2","rounded"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],[1,"row","justify-content-center"],[1,"col-lg-10","col-xl-8"],[1,"card","card-form","shadow","border-0"],[1,"card-body","p-4"],[1,"form-header","text-center","mb-4"],[1,"form-icon","mb-3"],[1,"fa","fa-calendar-edit"],[1,"fw-bold","mb-2"],[1,"text-muted","small"],[3,"keydown.enter"],[1,"form-section"],[1,"section-header","mb-3"],[1,"section-title"],[1,"fa","fa-user-injured","me-2"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],[1,"fa","fa-file-medical","me-1"],[1,"text-danger"],["type","text","name","folio_expediente","placeholder","Ej: EXP-2024-001","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-user","me-1"],["type","text","name","nombre_paciente","placeholder","Nombre completo del paciente","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-birthday-cake","me-1"],["type","date","name","fecha_nacimiento","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-phone","me-1"],["type","tel","name","numero_cel","placeholder","Ej: 4491234567","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-map-marker-alt","me-1"],["type","text","name","procedencia","placeholder","Localidad o municipio","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-clipboard-list","me-1"],["name","tipo_cita","required","",1,"form-select","form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-divider","my-4"],[1,"fa","fa-sun","me-2"],[1,"col-md-12"],[1,"fa","fa-clock","me-1"],["name","turno","required","",1,"form-select","form-control",3,"ngModelChange","ngModel"],[1,"text-muted","mt-1","d-block"],[1,"fa","fa-info-circle","me-1"],[1,"fa","fa-user-md","me-2"],[1,"fa","fa-stethoscope","me-1"],["name","appointment_service_id","required","",1,"form-select","form-control",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"fa","fa-user-md","me-1"],["name","doctor_id","required","",1,"form-select","form-control",3,"ngModelChange","change","ngModel","disabled"],[1,"fa","fa-clock","me-2"],[1,"fa","fa-calendar","me-1"],["type","date","name","fecha","required","",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"fa","fa-notes-medical","me-2"],[1,"fa","fa-clipboard","me-1"],["name","motivo_consulta","rows","3","required","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-flag","me-1"],["name","estado","required","",1,"form-select","form-control",3,"ngModelChange","ngModel"],[1,"fa","fa-sticky-note","me-1"],["name","notas","rows","2",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"mt-4"],[1,"form-actions","d-flex","justify-content-end","gap-2","mt-4"],["type","button",1,"btn","btn-cancel",3,"click","disabled"],[1,"fa","fa-times","me-2"],["type","button",1,"btn","btn-save",3,"click","disabled"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fa","fa-save","me-2"],["type","button",1,"tour-help-button",3,"click","title"],[1,"fa","fa-question"],["name","hora_inicio","required","",1,"form-select","form-control",3,"ngModelChange","ngModel","disabled"],[1,"col-12"],[1,"alert","alert-info","d-flex","align-items-center"],[1,"fa","fa-clock","me-3"],[1,"fa","fa-comment","me-1"],["name","motivoCancelacion","rows","2","placeholder","Ingrese el motivo de la cancelaci\xF3n (opcional)",1,"form-control",3,"ngModelChange","ngModel"],[1,"alert","alert-modern","alert-success","d-flex","align-items-center"],[1,"fa","fa-check-circle","me-3"],[1,"flex-grow-1"],["type","button",1,"btn-close",3,"click"],[1,"alert","alert-modern","alert-warning","d-flex","align-items-center"],[1,"fa","fa-exclamation-triangle","me-3"]],template:function(d,n){d&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ol",5)(6,"li",6)(7,"a",7),l(8),h(9,"translate"),s()(),i(10,"li",8),l(11),h(12,"translate"),s()()()()(),i(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14),_(19,"i",15),s(),i(20,"h3",16),l(21),h(22,"translate"),s(),i(23,"p",17),l(24),h(25,"translate"),s()(),i(26,"form",18),w("keydown.enter",function(g){return g.preventDefault()}),i(27,"div",19)(28,"div",20)(29,"h5",21),_(30,"i",22),l(31),h(32,"translate"),s()(),i(33,"div",23)(34,"div",24)(35,"label",25),_(36,"i",26),l(37,"Folio Expediente "),i(38,"span",27),l(39,"*"),s()(),i(40,"input",28),E("ngModelChange",function(g){return T(n.folio_expediente,g)||(n.folio_expediente=g),g}),s()(),i(41,"div",24)(42,"label",25),_(43,"i",29),l(44,"Nombre del Paciente "),i(45,"span",27),l(46,"*"),s()(),i(47,"input",30),E("ngModelChange",function(g){return T(n.nombre_paciente,g)||(n.nombre_paciente=g),g}),s()(),i(48,"div",24)(49,"label",25),_(50,"i",31),l(51,"Fecha de Nacimiento "),i(52,"span",27),l(53,"*"),s()(),i(54,"input",32),E("ngModelChange",function(g){return T(n.fecha_nacimiento,g)||(n.fecha_nacimiento=g),g}),s()(),i(55,"div",24)(56,"label",25),_(57,"i",33),l(58,"N\xFAmero Celular "),i(59,"span",27),l(60,"*"),s()(),i(61,"input",34),E("ngModelChange",function(g){return T(n.numero_cel,g)||(n.numero_cel=g),g}),s()(),i(62,"div",24)(63,"label",25),_(64,"i",35),l(65,"Procedencia "),i(66,"span",27),l(67,"*"),s()(),i(68,"input",36),E("ngModelChange",function(g){return T(n.procedencia,g)||(n.procedencia=g),g}),s()(),i(69,"div",24)(70,"label",25),_(71,"i",37),l(72,"Tipo de Cita "),i(73,"span",27),l(74,"*"),s()(),i(75,"select",38),E("ngModelChange",function(g){return T(n.tipo_cita,g)||(n.tipo_cita=g),g}),i(76,"option",39),l(77,"Seleccione el tipo de cita"),s(),N(78,Ns,2,2,"option",40),s()()()(),_(79,"div",41),i(80,"div",19)(81,"div",20)(82,"h5",21),_(83,"i",42),l(84,"Turno "),s()(),i(85,"div",23)(86,"div",43)(87,"label",25),_(88,"i",44),l(89,"Seleccione el Turno "),i(90,"span",27),l(91,"*"),s()(),i(92,"select",45),E("ngModelChange",function(g){return T(n.turno,g)||(n.turno=g),g}),i(93,"option",39),l(94,"Seleccione el turno"),s(),N(95,Ds,2,2,"option",40),s(),i(96,"small",46),_(97,"i",47),l(98,"El turno determina los doctores y horarios disponibles "),s()()()(),_(99,"div",41),i(100,"div",19)(101,"div",20)(102,"h5",21),_(103,"i",48),l(104),h(105,"translate"),s()(),i(106,"div",23)(107,"div",24)(108,"label",25),_(109,"i",49),l(110),h(111,"translate"),i(112,"span",27),l(113,"*"),s()(),i(114,"select",50),E("ngModelChange",function(g){return T(n.appointment_service_id,g)||(n.appointment_service_id=g),g}),w("change",function(){return n.onServiceChange()}),i(115,"option",51),l(116),h(117,"translate"),s(),N(118,Bs,2,2,"option",40),s()(),i(119,"div",24)(120,"label",25),_(121,"i",52),l(122),h(123,"translate"),i(124,"span",27),l(125,"*"),s()(),i(126,"select",53),E("ngModelChange",function(g){return T(n.doctor_id,g)||(n.doctor_id=g),g}),w("change",function(){return n.onDoctorOrFechaChange()}),i(127,"option",51),D(128,Ls,2,3)(129,Rs,2,3),s(),N(130,zs,2,3,"option",40),s()()()(),_(131,"div",41),i(132,"div",19)(133,"div",20)(134,"h5",21),_(135,"i",54),l(136),h(137,"translate"),s()(),i(138,"div",23)(139,"div",24)(140,"label",25),_(141,"i",55),l(142),h(143,"translate"),i(144,"span",27),l(145,"*"),s()(),i(146,"input",56),E("ngModelChange",function(g){return T(n.fecha,g)||(n.fecha=g),g}),w("change",function(){return n.onDoctorOrFechaChange()}),s()(),D(147,Us,18,11),s()(),_(148,"div",41),i(149,"div",19)(150,"div",20)(151,"h5",21),_(152,"i",57),l(153),h(154,"translate"),s()(),i(155,"div",23)(156,"div",43)(157,"label",25),_(158,"i",58),l(159),h(160,"translate"),i(161,"span",27),l(162,"*"),s()(),i(163,"textarea",59),h(164,"translate"),E("ngModelChange",function(g){return T(n.motivo_consulta,g)||(n.motivo_consulta=g),g}),s()(),i(165,"div",24)(166,"label",25),_(167,"i",60),l(168),h(169,"translate"),i(170,"span",27),l(171,"*"),s()(),i(172,"select",61),E("ngModelChange",function(g){return T(n.estado,g)||(n.estado=g),g}),N(173,qs,2,2,"option",40),s()(),D(174,$s,8,1,"div",43),i(175,"div",43)(176,"label",25),_(177,"i",62),l(178),h(179,"translate"),s(),i(180,"textarea",63),h(181,"translate"),E("ngModelChange",function(g){return T(n.notas,g)||(n.notas=g),g}),s()()()(),D(182,Ys,9,4,"div",64),D(183,Gs,9,4,"div",64),i(184,"div",65)(185,"button",66),w("click",function(){return n.goToList()}),_(186,"i",67),l(187),h(188,"translate"),s(),i(189,"button",68),w("click",function(){return n.save()}),D(190,Ks,1,0,"span",69)(191,Xs,1,0,"i",70),l(192),h(193,"translate"),s()()()()()()()()(),i(194,"button",71),h(195,"translate"),w("click",function(){return n.startEditAppointmentTour()}),_(196,"i",72),s()),d&2&&(a(8),P("",b(9,52,"APPOINTMENTS.TITLE")," >"),a(3),O(b(12,54,"APPOINTMENTS.EDIT_APPOINTMENT.BREADCRUMB")),a(10),O(b(22,56,"APPOINTMENTS.EDIT_APPOINTMENT.TITLE")),a(3),O(b(25,58,"APPOINTMENTS.EDIT_APPOINTMENT.SUBTITLE")),a(7),P("",b(32,60,"APPOINTMENTS.ADD_APPOINTMENT.PATIENT_INFO")," "),a(9),S("ngModel",n.folio_expediente),a(7),S("ngModel",n.nombre_paciente),a(7),S("ngModel",n.fecha_nacimiento),a(7),S("ngModel",n.numero_cel),a(7),S("ngModel",n.procedencia),a(7),S("ngModel",n.tipo_cita),a(3),v("ngForOf",n.tiposCita),a(14),S("ngModel",n.turno),a(3),v("ngForOf",n.turnos),a(9),P("",b(105,62,"APPOINTMENTS.ADD_APPOINTMENT.DOCTOR_INFO")," "),a(6),P("",b(111,64,"APPOINTMENTS.ADD_APPOINTMENT.SERVICE_TYPE")," "),a(4),S("ngModel",n.appointment_service_id),a(),v("value",0),a(),O(b(117,66,"APPOINTMENTS.ADD_APPOINTMENT.SELECT_SERVICE")),a(2),v("ngForOf",n.services),a(4),P("",b(123,68,"APPOINTMENTS.ADD_APPOINTMENT.DOCTOR")," "),a(4),S("ngModel",n.doctor_id),v("disabled",!n.appointment_service_id||n.loadingDoctors),a(),v("value",0),a(),B(n.loadingDoctors?128:129),a(2),v("ngForOf",n.doctoresDisponibles),a(6),P("",b(137,70,"APPOINTMENTS.ADD_APPOINTMENT.DATETIME_INFO")," "),a(6),P("",b(143,72,"APPOINTMENTS.ADD_APPOINTMENT.DATE")," "),a(4),S("ngModel",n.fecha),a(),B(n.doctor_id&&n.fecha?147:-1),a(6),P("",b(154,74,"APPOINTMENTS.ADD_APPOINTMENT.DETAILS")," "),a(6),P("",b(160,76,"APPOINTMENTS.ADD_APPOINTMENT.REASON")," "),a(4),v("placeholder",oe(b(164,78,"APPOINTMENTS.ADD_APPOINTMENT.REASON_PLACEHOLDER"))),S("ngModel",n.motivo_consulta),a(5),P("",b(169,80,"APPOINTMENTS.ADD_APPOINTMENT.STATUS")," "),a(4),S("ngModel",n.estado),a(),v("ngForOf",n.estadosDisponibles),a(),B(n.estado==="Cancelada"?174:-1),a(4),P("",b(179,82,"APPOINTMENTS.ADD_APPOINTMENT.NOTES")," "),a(2),v("placeholder",oe(b(181,84,"APPOINTMENTS.ADD_APPOINTMENT.NOTES_PLACEHOLDER"))),S("ngModel",n.notas),a(2),B(n.text_success?182:-1),a(),B(n.text_validation?183:-1),a(2),v("disabled",n.loading),a(2),P("",b(188,86,"COMMON.CANCEL")," "),a(2),v("disabled",n.loading),a(),B(n.loading?190:191),a(2),P(" ",b(193,88,"COMMON.UPDATE")," "),a(2),v("title",oe(b(195,90,"TOUR.HELP_BUTTON"))))},dependencies:[G,fe,J,Le,ce,le,be,se,re,De,Re,ae,Be,K,ie,he],styles:[`.add-staff-form .card-form{border-radius:1rem;padding:.5rem;box-sizing:border-box;border:4px solid var(--user-border-color, #0B7285)!important;background-color:var(--user-card-bg, #ffffff)!important;color:var(--user-card-text-color, #111827)!important;transition:background-color .3s,color .3s,border-color .3s;box-shadow:0 8px 24px #00000014}.add-staff-form .form-header .form-icon{width:70px;height:70px;margin:0 auto;background:linear-gradient(135deg,var(--user-border-color, #0B7285),color-mix(in srgb,var(--user-border-color, #0B7285) 80%,#000));border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #00000026}.add-staff-form .form-header .form-icon i{font-size:2rem;color:#fff}.add-staff-form .form-header h3{color:var(--user-card-text-color, #111827)!important;font-size:1.75rem;margin:0}.add-staff-form .form-header p{color:var(--user-card-text-color, #111827)!important;opacity:.7;margin:0}.add-staff-form .form-section .section-header .section-title{color:var(--user-card-text-color, #111827)!important;font-size:1.1rem;font-weight:600;padding-bottom:.5rem;border-bottom:2px solid color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent);display:flex;align-items:center}.add-staff-form .form-section .section-header .section-title i{color:var(--user-border-color, #0B7285);font-size:1rem}.add-staff-form .form-divider{height:1px;background:linear-gradient(90deg,transparent,color-mix(in srgb,var(--user-border-color, #0B7285) 30%,transparent),transparent)}.add-staff-form .form-label{font-weight:600;font-size:.9rem;color:var(--user-card-text-color, #111827)!important;margin-bottom:.5rem;display:flex;align-items:center}.add-staff-form .form-label i{color:var(--user-border-color, #0B7285);opacity:.8;font-size:.85rem}.add-staff-form .form-label .text-danger{font-size:.85rem;margin-left:2px}.add-staff-form .form-control,.add-staff-form .form-select{border-radius:.5rem;padding:.75rem 1rem;font-size:.95rem}.add-staff-form .form-control:focus,.add-staff-form .form-select:focus{transform:translateY(-1px)}.add-staff-form .form-control.is-invalid,.add-staff-form .form-select.is-invalid{border-color:#ef4444}.add-staff-form .form-control.is-invalid:focus,.add-staff-form .form-select.is-invalid:focus{box-shadow:0 0 0 4px #ef444426}.add-staff-form select,.add-staff-form .form-select{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23111827' d='M6 9L1 4h10z'/%3E%3C/svg%3E")!important;background-repeat:no-repeat!important;background-position:right .75rem center!important;background-size:12px!important;padding-right:2.5rem!important}.add-staff-form .invalid-feedback{font-size:.85rem;margin-top:.25rem;color:#ef4444;font-weight:500}.add-staff-form .alert-modern{border-radius:10px;border:none;padding:1rem 1.25rem;font-size:.95rem;box-shadow:0 2px 8px #00000014;display:flex;align-items:center}.add-staff-form .alert-modern i{font-size:1.25rem;flex-shrink:0}.add-staff-form .alert-modern .flex-grow-1{flex:1}.add-staff-form .alert-modern .btn-close{flex-shrink:0;margin-left:1rem}.add-staff-form .alert-modern.alert-success{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 12px #10b9814d}.add-staff-form .alert-modern.alert-success i,.add-staff-form .alert-modern.alert-success strong{color:#fff}.add-staff-form .alert-modern.alert-success .btn-close{filter:brightness(0) invert(1);opacity:.8}.add-staff-form .alert-modern.alert-success .btn-close:hover{opacity:1}.add-staff-form .alert-modern.alert-warning{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;box-shadow:0 4px 12px #f59e0b4d}.add-staff-form .alert-modern.alert-warning i,.add-staff-form .alert-modern.alert-warning strong{color:#fff}.add-staff-form .alert-modern.alert-warning .btn-close{filter:brightness(0) invert(1);opacity:.8}.add-staff-form .alert-modern.alert-warning .btn-close:hover{opacity:1}.add-staff-form .alert-modern.alert-danger{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 12px #ef44444d}.add-staff-form .alert-modern.alert-danger i,.add-staff-form .alert-modern.alert-danger strong{color:#fff}.add-staff-form .alert-modern.alert-danger .btn-close{filter:brightness(0) invert(1);opacity:.8}.add-staff-form .alert-modern.alert-danger .btn-close:hover{opacity:1}.add-staff-form .alert-info{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;border-radius:.75rem;padding:1rem;font-size:.9rem}.add-staff-form .alert-info i{font-size:1.2rem}.add-staff-form .form-actions{padding-top:1rem;border-top:1px solid color-mix(in srgb,var(--user-border-color, #0B7285) 15%,transparent)}.add-staff-form .form-actions .btn{padding:.65rem 1.5rem;border-radius:.5rem;font-weight:600;font-size:.95rem;transition:all .2s ease;display:inline-flex;align-items:center;border:none}.add-staff-form .form-actions .btn i{font-size:.9rem}.add-staff-form .form-actions .btn:active{transform:scale(.98)}.add-staff-form .form-actions .btn:disabled{opacity:.6;cursor:not-allowed}.add-staff-form .form-actions .btn-cancel{background:linear-gradient(135deg,#6b7280,#4b5563);color:#fff;box-shadow:0 2px 6px #6b72804d}.add-staff-form .form-actions .btn-cancel:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #6b728066;filter:brightness(1.1)}.add-staff-form .form-actions .btn-save{background:linear-gradient(135deg,var(--user-border-color, #0B7285),color-mix(in srgb,var(--user-border-color, #0B7285) 85%,#000));color:#fff;box-shadow:0 2px 6px #00000026}.add-staff-form .form-actions .btn-save:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #0003;filter:brightness(1.1)}:host-context(.dark-mode) .add-staff-form .card-form{background-color:var(--user-card-bg, #23221c)!important;border-color:var(--user-border-color, #0B7285)!important;box-shadow:0 8px 24px #0006}:host-context(.dark-mode) .add-staff-form .form-header h3,:host-context(.dark-mode) .add-staff-form .form-header p{color:var(--user-card-text-color, #ffffff)!important}:host-context(.dark-mode) .add-staff-form .form-section .section-header .section-title{color:var(--user-card-text-color, #ffffff)!important}:host-context(.dark-mode) .add-staff-form .form-label{color:var(--user-card-text-color, #ffffff)!important}:host-context(.dark-mode) .add-staff-form .form-control,:host-context(.dark-mode) .add-staff-form .form-select,:host-context(.dark-mode) .add-staff-form input[type=text],:host-context(.dark-mode) .add-staff-form input[type=date],:host-context(.dark-mode) .add-staff-form input[type=time],:host-context(.dark-mode) .add-staff-form select{background-color:#2d3748!important;color:#fff!important;border-color:#ffffff26}:host-context(.dark-mode) .add-staff-form .form-control::placeholder,:host-context(.dark-mode) .add-staff-form .form-select::placeholder,:host-context(.dark-mode) .add-staff-form input[type=text]::placeholder,:host-context(.dark-mode) .add-staff-form input[type=date]::placeholder,:host-context(.dark-mode) .add-staff-form input[type=time]::placeholder,:host-context(.dark-mode) .add-staff-form select::placeholder{color:#ffffff80!important}:host-context(.dark-mode) .add-staff-form .form-control:focus,:host-context(.dark-mode) .add-staff-form .form-select:focus,:host-context(.dark-mode) .add-staff-form input[type=text]:focus,:host-context(.dark-mode) .add-staff-form input[type=date]:focus,:host-context(.dark-mode) .add-staff-form input[type=time]:focus,:host-context(.dark-mode) .add-staff-form select:focus{border-color:var(--user-border-color, #0B7285);box-shadow:0 0 0 4px color-mix(in srgb,var(--user-border-color, #0B7285) 20%,transparent);background-color:#2d3748!important}:host-context(.dark-mode) .add-staff-form .form-control:disabled,:host-context(.dark-mode) .add-staff-form .form-select:disabled,:host-context(.dark-mode) .add-staff-form input[type=text]:disabled,:host-context(.dark-mode) .add-staff-form input[type=date]:disabled,:host-context(.dark-mode) .add-staff-form input[type=time]:disabled,:host-context(.dark-mode) .add-staff-form select:disabled{background-color:#1a202c!important}:host-context(.dark-mode) .add-staff-form .form-control option,:host-context(.dark-mode) .add-staff-form .form-select option,:host-context(.dark-mode) .add-staff-form input[type=text] option,:host-context(.dark-mode) .add-staff-form input[type=date] option,:host-context(.dark-mode) .add-staff-form input[type=time] option,:host-context(.dark-mode) .add-staff-form select option{background-color:#2d3748;color:#fff}:host-context(.dark-mode) .add-staff-form select,:host-context(.dark-mode) .add-staff-form .form-select{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23ffffff' d='M6 9L1 4h10z'/%3E%3C/svg%3E")!important}
`],encapsulation:2});let c=u;return c})();var Zs=[{path:"",component:yo,children:[{path:"list_doctor",component:To,canActivate:[Ce],data:{requiredPermissions:["list_doctors"]}},{path:"add_doctor",component:So,canActivate:[Ce],data:{requiredPermissions:["add_doctor"]}},{path:"edit_doctor/:id",component:Eo,canActivate:[Ce],data:{requiredPermissions:["edit_doctor"]}},{path:"assign-services",component:ko,canActivate:[Ce],data:{requiredPermissions:["manage_appointment_services"]}},{path:"list_appointment",component:No,canActivate:[Ce],data:{requiredPermissions:["list_appointments"]}},{path:"add_appointment",component:Ao,canActivate:[Ce],data:{requiredPermissions:["add_appointment"]}},{path:"edit_appointment/:id",component:Do,canActivate:[Ce],data:{requiredPermissions:["edit_appointment"]}},{path:"calendar",loadComponent:()=>import("./chunk-BSQZWTFU.js").then(c=>c.CalendarViewComponent),canActivate:[Ce],data:{requiredPermissions:["list_appointments"]}},{path:"cancelled",loadChildren:()=>import("./chunk-BV6DTADQ.js").then(c=>c.CancelledAppointmentsModule),canActivate:[Ce],data:{requiredPermissions:["list_appointments"]}},{path:"completed",loadChildren:()=>import("./chunk-QAOVYCNA.js").then(c=>c.CompletedAppointmentsModule),canActivate:[Ce],data:{requiredPermissions:["list_appointments"]}},{path:"no-show",loadChildren:()=>import("./chunk-GESX5Q3Z.js").then(c=>c.NoShowAppointmentsModule),canActivate:[Ce],data:{requiredPermissions:["list_appointments"]}},{path:"",redirectTo:"list_appointment",pathMatch:"full"}]}],Bo=(()=>{let u=class u{};u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=Tt({type:u}),u.\u0275inj=St({imports:[K.forChild(Zs),K]});let c=u;return c})();var il=(()=>{let u=class u{};u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=Tt({type:u}),u.\u0275inj=St({imports:[Bo,G,K,J]});let c=u;return c})();export{il as AppointmentsModule};
