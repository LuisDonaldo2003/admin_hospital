<!-- Contenedor principal simplificado -->
<div class="page-wrapper">
  <div class="content container-fluid">

    <!-- Encabezado compacto -->
    <div class="page-header">
      <div class="header-content">
        <div class="header-left">
          <h3 class="page-title">
            <i class="fas fa-cog"></i>
            {{ 'SETTINGS.GENERAL.TITLE' | translate }}
          </h3>
          <p class="page-subtitle">
            {{ 'SETTINGS.GENERAL.SUBTITLE' | translate }}
          </p>
        </div>
        <div class="header-right">
          <button type="button" class="btn-reset" (click)="resetColorsToDefault()">
            <i class="fas fa-undo"></i>
            {{ 'SETTINGS.GENERAL.RESET_DEFAULTS' | translate }}
          </button>
        </div>
      </div>
    </div>

    <!-- Grid de configuraciones en 2 filas -->
    <div class="settings-container">

      <!-- Fila superior: 3 columnas -->
      <div class="settings-row">

        <!-- Idioma -->
        <div class="setting-card">
          <div class="card-header">
            <div class="header-icon">
              <i class="fas fa-globe"></i>
            </div>
            <div class="header-text">
              <h5>{{ 'SETTINGS.GENERAL.LANGUAGE' | translate }}</h5>
              <p>{{ 'SETTINGS.GENERAL.CHOOSE_PREFERRED_LANGUAGE' | translate }}</p>
            </div>
          </div>
          <div class="card-body">
            <div class="option-group">
              <div class="option-item" [class.selected]="selectedLang === 'en'" (click)="setLanguage('en')">
                <img src="assets/flags/us.png" alt="English" class="flag">
                <div class="option-text">
                  <span class="option-name">{{ 'SETTINGS.GENERAL.ENGLISH' | translate }}</span>
                  <small class="option-code">EN</small>
                </div>
                <div class="option-check" *ngIf="selectedLang === 'en'">
                  <i class="fas fa-check"></i>
                </div>
              </div>
              <div class="option-item" [class.selected]="selectedLang === 'es'" (click)="setLanguage('es')">
                <img src="assets/flags/mx.png" alt="Español" class="flag">
                <div class="option-text">
                  <span class="option-name">{{ 'SETTINGS.GENERAL.SPANISH' | translate }}</span>
                  <small class="option-code">ES</small>
                </div>
                <div class="option-check" *ngIf="selectedLang === 'es'">
                  <i class="fas fa-check"></i>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Tema -->
        <div class="setting-card">
          <div class="card-header">
            <div class="header-icon">
              <i class="fas fa-moon"></i>
            </div>
            <div class="header-text">
              <h5>{{ 'SETTINGS.GENERAL.COLOR_MODE' | translate }}</h5>
              <p>{{ 'SETTINGS.GENERAL.DESCRIPTION_MODE' | translate }}</p>
            </div>
          </div>
          <div class="card-body">
            <div class="option-group">
              <div class="option-item" [class.selected]="!isDarkMode" (click)="setTheme(false)">
                <div class="theme-icon light">
                  <i class="fas fa-sun"></i>
                </div>
                <div class="option-text">
                  <span class="option-name">{{ 'SETTINGS.GENERAL.LIGHT_MODE' | translate }}</span>
                  <small class="option-desc">{{ 'SETTINGS.GENERAL.LIGHT_MODE_DESC' | translate }}</small>
                </div>
                <div class="option-check" *ngIf="!isDarkMode">
                  <i class="fas fa-check"></i>
                </div>
              </div>
              <div class="option-item" [class.selected]="isDarkMode" (click)="setTheme(true)">
                <div class="theme-icon dark">
                  <i class="fas fa-moon"></i>
                </div>
                <div class="option-text">
                  <span class="option-name">{{ 'SETTINGS.GENERAL.DARK_MODE' | translate }}</span>
                  <small class="option-desc">{{ 'SETTINGS.GENERAL.DARK_MODE_DESC' | translate }}</small>
                </div>
                <div class="option-check" *ngIf="isDarkMode">
                  <i class="fas fa-check"></i>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Vista previa -->
        <div class="setting-card">
          <div class="card-header">
            <div class="header-icon">
              <i class="fas fa-eye"></i>
            </div>
            <div class="header-text">
              <h5>{{ 'SETTINGS.GENERAL.PREVIEW' | translate }}</h5>
              <p>{{ 'SETTINGS.GENERAL.PREVIEW_CURRENT_SETTINGS' | translate }}</p>
            </div>
          </div>
          <div class="card-body">
            <div class="preview-box" [style.background-color]="isDarkMode ? cardBgColorDark : cardBgColorLight"
              [style.border-color]="borderColor">
              <h6>{{ 'SETTINGS.GENERAL.SAMPLE_CARD' | translate }}</h6>
              <p>{{ 'SETTINGS.GENERAL.PREVIEW_TEXT' | translate }}</p>
              <button class="preview-btn" [style.background-color]="borderColor">
                {{ 'SETTINGS.GENERAL.SAMPLE_BUTTON' | translate }}
              </button>
            </div>
          </div>
        </div>

      </div>

      <!-- Fila inferior: Personalización de colores (ancho completo) -->
      <div class="settings-row full-width">

        <div class="setting-card colors-card">
          <div class="card-header">
            <div class="header-icon">
              <i class="fas fa-palette"></i>
            </div>
            <div class="header-text">
              <h5>{{ 'SETTINGS.GENERAL.COLOR_CUSTOMIZATION' | translate }}</h5>
              <p>{{ 'SETTINGS.GENERAL.CUSTOMIZE_THEME_COLORS' | translate }}</p>
            </div>
          </div>
          <div class="card-body">
            <div class="colors-grid">
              <!-- Color de borde -->
              <div class="color-control">
                <label>
                  <i class="fas fa-border-style"></i>
                  {{ 'SETTINGS.GENERAL.OUTLINE_COLOR' | translate }}
                </label>
                <div class="color-picker">
                  <div class="color-preview" [style.background-color]="borderColor"></div>
                  <input type="color" [(ngModel)]="borderColor" name="borderColor">
                  <button type="button" class="btn-apply" (click)="updateBorderColor()">
                    <i class="fas fa-check"></i>
                    {{ 'SETTINGS.GENERAL.APPLY' | translate }}
                  </button>
                </div>
              </div>

              <!-- Color de fondo claro -->
              <div class="color-control" *ngIf="!isDarkMode">
                <label>
                  <i class="fas fa-fill-drip"></i>
                  {{ 'SETTINGS.GENERAL.CARD_BG_COLOR_LIGHT' | translate }}
                </label>
                <div class="color-picker">
                  <div class="color-preview" [style.background-color]="cardBgColorLight"></div>
                  <input type="color" [(ngModel)]="cardBgColorLight" name="cardBgColorLight">
                  <button type="button" class="btn-apply" (click)="updateCardBgColorLight()">
                    <i class="fas fa-check"></i>
                    {{ 'SETTINGS.GENERAL.APPLY' | translate }}
                  </button>
                </div>
              </div>

              <!-- Color de fondo oscuro -->
              <div class="color-control" *ngIf="isDarkMode">
                <label>
                  <i class="fas fa-fill-drip"></i>
                  {{ 'SETTINGS.GENERAL.CARD_BG_COLOR_DARK' | translate }}
                </label>
                <div class="color-picker">
                  <div class="color-preview" [style.background-color]="cardBgColorDark"></div>
                  <input type="color" [(ngModel)]="cardBgColorDark" name="cardBgColorDark">
                  <button type="button" class="btn-apply" (click)="updateCardBgColorDark()">
                    <i class="fas fa-check"></i>
                    {{ 'SETTINGS.GENERAL.APPLY' | translate }}
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>

  </div>
</div>