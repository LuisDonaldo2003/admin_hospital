/*
	Archivo: archive-dashboard.component.scss
	Objetivo: Estilos limpios, responsivos y sin overflow horizontal.
	Notas:
	- No se fuerza ningún width/max-width al contenedor: lo maneja .content (layout global).
	- Se usa grid con minmax para que los paneles se reacomoden sin desbordar.
	- Apariencia oscura similar a la imagen 1.
*/

/* Contenedor local del dashboard: sólo padding y prevención de overflow horizontal */
.archive-dash-new {
	padding-left: clamp(0.75rem, 1.2vw, 1rem);
	padding-right: clamp(0.75rem, 1.8vw, 1.25rem);
	overflow-x: hidden; /* por seguridad ante elementos internos */
}

/* Breadcrumbs minimalistas (respetan tipografías globales) */
ul.breadcrumb {
	background: transparent;
	padding: 0;
	margin: 0 0 .75rem;
	list-style: none;
	display: flex;
	gap: .5rem;
	font-size: .8rem;
	text-transform: none;
}
ul.breadcrumb li { opacity: .85; color: #bcd0f0; }
ul.breadcrumb .active { opacity: 1; color: #e6eeff; }
ul.breadcrumb a { color: #8fb4ff; text-decoration: none; }

/* Hero */
.hero {
	position: relative;
	border-radius: 16px;
	padding: 1.5rem 1.25rem;
	background: linear-gradient(135deg, #1f2432 0%, #12151d 100%);
	border: 1px solid #262c3a;
	overflow: hidden;
}
.hero-inner { display: flex; align-items: flex-end; justify-content: space-between; gap: 1rem; }
.hero-text h1 { margin: 0 0 .35rem; font-weight: 700; font-size: 1.5rem; color: #dfe7ff; }
.hero-text h1 span { color: #6ea8ff; }
.hero-text p { margin: 0; color: #9fb4d6; opacity: .9; font-size: .95rem; }
.btn-refresh { background: #222633; border: 1px solid #2e3344; color: #6ea8ff; border-radius: 10px; width: 42px; height: 42px; display: grid; place-items: center; transition: .2s; }
.btn-refresh:hover { background: #2a3040; }

/* KPIs */
.kpi-grid {
	display: grid;
	gap: 1rem;
	grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}
.kpi-card {
	position: relative;
	display: flex; align-items: center; gap: .9rem;
	background: #171a22;
	border: 1px solid #232936;
	border-radius: 14px;
	padding: 1rem 1.1rem;
	transition: transform .2s ease, box-shadow .2s ease;
}
.kpi-card:hover { transform: translateY(-3px); box-shadow: 0 10px 18px -10px rgba(0,0,0,.6); }
.kpi-icon { width: 48px; height: 48px; flex: 0 0 48px; border-radius: 12px; display: grid; place-items: center; background: #1e2230; color: #6ea8ff; box-shadow: 0 0 0 1px #2c3442 inset; }
.kpi-label { font-size: .8rem; font-weight: 600; color: #9fb4d6; }
.kpi-label small { margin-left: .35rem; opacity: .8; }
.kpi-value { font-size: 1.9rem; font-weight: 800; line-height: 1; letter-spacing: -.5px; color: #e8efff; margin-top: .25rem; }

/* Paneles principales */
.grid-panels {
	display: grid;
	gap: 1.2rem;
	grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
	align-items: start;
}
.panel {
	background: #171a22;
	border: 1px solid #232936;
	border-radius: 16px;
	padding: 1rem 1.1rem 1.1rem;
}
.panel-hd h3 { margin: 0 0 .75rem; font-size: .95rem; text-transform: uppercase; letter-spacing: .6px; color: #9fb4d6; font-weight: 700; }

/* Género */
.gender-wrap { display: flex; flex-direction: column; gap: .9rem; }
.gender-bars { position: relative; display: flex; height: 18px; background: #0f1217; border-radius: 9px; overflow: hidden; box-shadow: 0 0 0 1px #252a37 inset; }
.gender-bars .bar { background: linear-gradient(90deg, #4d6bff, #6088ff); }
.gender-bars .female { background: linear-gradient(90deg, #0ac8b8, #2dd6c7); }
.legend { list-style: none; margin: 0; padding: 0; display: flex; gap: 1rem; flex-wrap: wrap; font-size: .8rem; font-weight: 600; color: #e8efff; }
.legend .dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; margin-right: .35rem; box-shadow: 0 0 0 2px #FFFFFF, 0 0 0 3px rgba(255,255,255,.06); }
.legend .male { background: #5576ff; }
.legend .female { background: #0ac8b8; }
.empty { font-size: .85rem; opacity: .7; color: #a5b6cf; }

/* Ubicaciones */
.locations-list { display: flex; flex-direction: column; gap: .6rem; }
.loc-item {
	display: grid; grid-template-columns: 32px 1fr 50px; gap: .75rem; align-items: center;
	background: #12141b; border: 1px solid #222836; padding: .6rem .7rem; border-radius: 12px;
}
.loc-rank { width: 32px; height: 32px; border-radius: 10px; display: grid; place-items: center; background: #1d212a; color: #6ea8ff; font-weight: 700; box-shadow: 0 0 0 1px #2a3140 inset; }
.loc-body { min-width: 0; }
.loc-name { color: #d9e2f5; font-weight: 600; font-size: .85rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.loc-meter { height: 6px; background: #212730; border-radius: 4px; overflow: hidden; position: relative; }
.meter-fill { position: absolute; inset: 0; background: linear-gradient(90deg, #6ea8ff, #2dd6c7); }
.loc-count { text-align: right; color: #9fb4d6; font-weight: 700; }

/* Acciones */
.actions-grid { display: grid; gap: .8rem; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); }
.action { border: 1px solid #2a3140; background: #14171e; border-radius: 14px; padding: .85rem .55rem .7rem; font-size: .7rem; font-weight: 700; text-transform: uppercase; letter-spacing: .4px; display: flex; flex-direction: column; align-items: center; gap: .55rem; color: #b8c7e2; transition: .18s; }
.action i { font-size: 1.05rem; color: #6ea8ff; }
.action:hover { background: #1d212a; color: #fff; box-shadow: 0 6px 18px -8px #000; transform: translateY(-2px); }

/* Gráfico semanal */
.weekly-chart { margin-bottom: 1.25rem; }
.monthly-chart { margin-bottom: 1.25rem; }
.yearly-summary { margin-top: .75rem; }
.panel-chart { min-height: 200px; }
.chart-wrapper { position: relative; width: 100%; height: 240px; }
.chart-wrapper ::ng-deep .apexcharts-tooltip { background: #1e222b !important; border: 1px solid #2c3240 !important; }
.chart-wrapper ::ng-deep .apexcharts-tooltip-title { background: #171b22 !important; border-bottom: 1px solid #2c3240 !important; }

/* Resumen anual */
.panel-yearly { padding-top: .6rem; }
.yearly-list { display: grid; gap: .5rem; }
.year-row {
	display: grid;
	grid-template-columns: 72px 1fr 80px;
	gap: .6rem;
	align-items: center;
	background: #12141b;
	border: 1px solid #222836;
	border-radius: 12px;
	padding: .5rem .7rem;
}
.year-row.is-current { outline: 1px solid #2dd6c7; box-shadow: 0 0 0 3px rgba(45,214,199,.08) inset; }
.col-year { font-weight: 800; color: #e8efff; letter-spacing: .3px; }
.col-count { text-align: right; font-weight: 700; color: #9fb4d6; }
.bar-outer { position: relative; height: 10px; background: #212730; border-radius: 6px; overflow: hidden; }
.bar-inner { position: absolute; inset: 0; width: 0; background: linear-gradient(90deg, #6ea8ff, #2dd6c7); transition: width .6s ease; }

/* Breakpoints de afinado */
@media (max-width: 992px) {
	.kpi-grid { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
	.grid-panels { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
}

@media (max-width: 576px) {
	.hero-text h1 { font-size: 1.25rem; }
	.kpi-value { font-size: 1.6rem; }
	.grid-panels { grid-template-columns: 1fr; }
}
