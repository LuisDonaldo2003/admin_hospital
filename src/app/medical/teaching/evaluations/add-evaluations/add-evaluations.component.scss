// ========================================
// EVALUACION FORM - ESTILOS OPTIMIZADOS
// Basado en el diseño de teaching-form/add-staff
// ========================================

.evaluation-form {
  // ===== CARD PRINCIPAL =====
  border-radius: 1rem;
  padding: 0.5rem;
  box-sizing: border-box;
  border: 4px solid var(--user-border-color, #f59e0b) !important;
  background-color: var(--user-card-bg, #ffffff) !important;
  color: var(--user-card-text-color, #111827) !important;
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);

  .card-body {
    padding: 1rem !important;
  }

  // ===== ENCABEZADO DEL FORMULARIO =====
  .form-header {
    text-align: center;
    margin-bottom: 1.25rem;

    .form-icon {
      width: 60px;
      height: 60px;
      margin: 0 auto 0.75rem;
      background: linear-gradient(135deg,
          var(--user-border-color, #f59e0b),
          color-mix(in srgb, var(--user-border-color, #f59e0b) 80%, #000));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 3px 10px rgba(245, 158, 11, 0.25);

      i {
        font-size: 1.5rem;
        color: white;
      }
    }

    .form-title {
      color: var(--user-card-text-color, #111827) !important;
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 0.35rem;
    }

    .form-subtitle {
      color: var(--user-card-text-color, #111827) !important;
      opacity: 0.7;
      font-size: 0.875rem;
      margin: 0;
    }
  }

  // ===== SECCIONES DEL FORMULARIO =====
  .form-section {
    margin-bottom: 1.25rem;

    .section-title {
      color: var(--user-card-text-color, #111827) !important;
      font-size: 1rem;
      font-weight: 600;
      padding-bottom: 0.4rem;
      margin-bottom: 0.75rem;
      border-bottom: 2px solid color-mix(in srgb, var(--user-border-color, #f59e0b) 30%, transparent);
      display: flex;
      align-items: center;

      i {
        color: var(--user-border-color, #f59e0b);
        font-size: 0.95rem;
      }
    }
  }

  // ===== LABELS =====
  .form-label {
    font-weight: 600;
    font-size: 0.875rem;
    color: var(--user-card-text-color, #111827) !important;
    margin-bottom: 0.4rem;
    display: block;

    &.required::after {
      content: ' *';
      color: #ef4444;
      font-weight: bold;
    }
  }

  // ===== INPUTS Y SELECTS =====
  .form-control,
  .form-select {
    border-radius: 10px;
    padding: 10px 15px;
    font-size: 14px;
    min-height: 45px;
    transition: all 0.2s ease;

    &:focus {
      outline: none;
      border-color: var(--user-border-color, #f59e0b);
      box-shadow: 0 0 0 3px color-mix(in srgb, var(--user-border-color, #f59e0b) 12%, transparent);
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    &::placeholder {
      color: rgba(51, 52, 72, 0.4);
      font-size: 13px;
    }
  }

  textarea.form-control {
    resize: vertical;
    min-height: 80px;
  }

  // ===== ALERTAS =====
  .alert {
    border-radius: 10px;
    border: none;
    padding: 1rem 1.25rem;
    font-size: 0.95rem;

    &.alert-success {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);

      strong,
      i {
        color: white;
      }

      .btn-close {
        filter: brightness(0) invert(1);
      }
    }

    &.alert-warning {
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color: white;
      box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);

      strong,
      i {
        color: white;
      }

      .btn-close {
        filter: brightness(0) invert(1);
      }
    }

    &.alert-info {
      background: color-mix(in srgb, var(--user-border-color, #f59e0b) 8%, transparent);
      border: 1px solid color-mix(in srgb, var(--user-border-color, #f59e0b) 20%, transparent);
      color: var(--user-card-text-color, #111827) !important;

      strong {
        color: var(--user-border-color, #f59e0b) !important;
      }

      i {
        color: var(--user-border-color, #f59e0b);
      }

      p {
        color: var(--user-card-text-color, #111827) !important;
        margin: 0;
      }
    }
  }

  // ===== BOTONES DE ACCIÓN =====
  .form-actions {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
    margin-top: 1.5rem;
    padding-top: 1rem;
    border-top: 1px solid color-mix(in srgb, var(--user-border-color, #f59e0b) 15%, transparent);

    .btn {
      padding: 0.6rem 1.25rem;
      font-size: 0.9rem;
      font-weight: 600;
      border-radius: 8px;
      border: none;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;

      i {
        font-size: 0.875rem;
      }
    }

    .btn-cancel {
      background: linear-gradient(135deg, #6b7280, #4b5563);
      color: white;

      &:hover:not(:disabled) {
        background: linear-gradient(135deg, #4b5563, #374151);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(107, 114, 128, 0.3);
      }

      &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }
    }

    .btn-save {
      background: linear-gradient(135deg,
          var(--user-border-color, #f59e0b),
          color-mix(in srgb, var(--user-border-color, #f59e0b) 85%, #000));
      color: white;

      &:hover:not(:disabled) {
        background: linear-gradient(135deg,
            color-mix(in srgb, var(--user-border-color, #f59e0b) 90%, #000),
            color-mix(in srgb, var(--user-border-color, #f59e0b) 75%, #000));
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);
      }

      &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .fa-spinner {
        animation: spin 1s linear infinite;
      }
    }
  }
}

// ===== BREADCRUMB =====
.breadcrumb {
  background: color-mix(in srgb, var(--user-border-color, #f59e0b) 3%, transparent) !important;
  margin-bottom: 0;
  padding: 0.75rem 1rem !important;
  border-radius: 8px !important;
  border: 1px solid color-mix(in srgb, var(--user-border-color, #f59e0b) 10%, transparent);

  .breadcrumb-item {
    color: var(--user-card-text-color, #111827) !important;
    font-size: 0.875rem;

    a {
      color: var(--user-card-text-color, #111827) !important;
      text-decoration: none;
      transition: color 0.2s ease;

      &:hover {
        color: var(--user-border-color, #f59e0b) !important;
      }
    }

    &.active {
      color: var(--user-border-color, #f59e0b) !important;
      font-weight: 600;
    }

    span {
      color: color-mix(in srgb, var(--user-card-text-color, #111827) 50%, transparent) !important;
      margin: 0 0.5rem;
    }
  }
}

// ===== ANIMACIONES =====
@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

// ===== MODO OSCURO =====
:host-context(.dark-mode) {
  .evaluation-form {
    background-color: var(--user-card-bg, #23221c) !important;
    border-color: var(--user-border-color, #f59e0b) !important;
    color: var(--user-card-text-color, #ffffff) !important;

    .form-header {

      .form-title,
      .form-subtitle {
        color: var(--user-card-text-color, #ffffff) !important;
      }
    }

    .form-section .section-title {
      color: var(--user-card-text-color, #ffffff) !important;
    }

    .form-label {
      color: var(--user-card-text-color, #ffffff) !important;
    }

    .form-control,
    .form-select {
      border-color: rgba(255, 255, 255, 0.15);

      &:focus {
        border-color: var(--user-border-color, #f59e0b);
      }

      &::placeholder {
        color: rgba(255, 255, 255, 0.4);
      }

      &:disabled {
        opacity: 0.5;
      }
    }

    .alert.alert-info {
      background: color-mix(in srgb, var(--user-border-color, #f59e0b) 15%, transparent);
      border-color: rgba(255, 255, 255, 0.15);

      p {
        color: var(--user-card-text-color, #ffffff) !important;
      }
    }
  }

  .breadcrumb {
    background: rgba(255, 255, 255, 0.05) !important;
    border-color: rgba(255, 255, 255, 0.15);

    .breadcrumb-item {
      color: var(--user-card-text-color, #ffffff) !important;

      a {
        color: var(--user-card-text-color, #ffffff) !important;

        &:hover {
          color: var(--user-border-color, #f59e0b) !important;
        }
      }

      &.active {
        color: var(--user-border-color, #f59e0b) !important;
      }

      span {
        color: rgba(255, 255, 255, 0.5) !important;
      }
    }
  }
}

// ===== RESPONSIVIDAD =====
@media (max-width: 768px) {
  .evaluation-form {
    .form-header {
      .form-icon {
        width: 60px;
        height: 60px;

        i {
          font-size: 1.5rem;
        }
      }

      .form-title {
        font-size: 1.5rem;
      }

      .form-subtitle {
        font-size: 0.85rem;
      }
    }

    .form-actions {
      flex-direction: column;

      .btn {
        width: 100%;
        justify-content: center;
      }
    }
  }
}