:host ::ng-deep .card {
  border-radius: 1rem !important;
  padding: 1.5rem !important;
  border: 4px solid var(--user-border-color, #000) !important; // Borde din치mico SIEMPRE visible
  background-color: var(--user-card-bg, #fff) !important;      // Fondo din치mico
  color: var(--user-card-text-color, #000) !important;         // Texto din치mico
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05) !important;
  transition: background-color 0.3s, color 0.3s, border-color 0.3s !important;
}

:host ::ng-deep .card .card-body {
  color: var(--user-card-text-color, #000) !important;
}

:host ::ng-deep .card .card-title,
:host ::ng-deep .card label,
:host ::ng-deep .card .form-label {
  color: var(--user-card-text-color, #000) !important;
  font-weight: 600;
}

// 游꺀 MODO OSCURO
body.dark-mode :host ::ng-deep .card {
  background-color: var(--user-card-bg, #23221c) !important;
  border: 4px solid var(--user-border-color, #22c55e) !important;
  color: var(--user-card-text-color, #fff) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6) !important;
}

body.dark-mode :host ::ng-deep .card .card-body,
body.dark-mode :host ::ng-deep .card .card-title,
body.dark-mode :host ::ng-deep .card label,
body.dark-mode :host ::ng-deep .card .form-label {
  color: var(--user-card-text-color, #fff) !important;
}

.card.card-list {
  border-radius: 1rem;
  padding: 1.5rem;
  border: 4px solid var(--user-border-color, #000) !important;
  background-color: var(--user-card-bg, #fff) !important;
  color: var(--user-card-text-color, #000) !important;
  position: relative;
  z-index: 1;
  transition: background-color 0.3s, color 0.3s, border-color 0.3s;

  .card-body {
    border-radius: 1rem;
    background-color: transparent !important;
    color: var(--user-card-text-color, #000) !important;

    h4, p, span, small, th, td, .pagination-info {
      color: var(--user-card-text-color, #000) !important;
    }
  }

  // 游늵 Estilos para la tabla con bordes redondeados
  table {
    border-collapse: separate;
    border-spacing: 0;
    width: 100%;
    background-color: #fff !important;
    border: 1px solid #ccc;
    border-radius: 12px;

    th, td {
      border: 1px solid #ddd;
      padding: 0.75rem;
      text-align: center;
      vertical-align: middle;
      color: var(--user-card-text-color, #000) !important;
    }

    thead th {
      background-color: #f8f9fa;
      color: var(--user-card-text-color, #000) !important;
    }

    thead th:first-child { border-top-left-radius: 12px; }
    thead th:last-child { border-top-right-radius: 12px; }
    tbody tr:last-child td:first-child { border-bottom-left-radius: 12px; }
    tbody tr:last-child td:last-child { border-bottom-right-radius: 12px; }

    td:nth-child(2), th:nth-child(2) {
      max-width: 300px;
      white-space: normal;
      word-break: break-word;
    }

    tbody tr {
      transition: background-color 0.25s;
      cursor: pointer;

      &:hover {
        background-color: #e0e7ff !important; // Color notorio de hover
      }
    }
  }

  // Bot칩n "Options" y "New" profesional
  .btn-options {
    background-color: #3b82f6;
    border: none;
    padding: 6px 14px;
    font-weight: 500;
    font-size: 14px;
    color: #fff;
    border-radius: 8px;
    transition: all 0.2s ease-in-out;
    display: inline-flex;
    align-items: center;

    i {
      margin-right: 6px;
    }

    &:hover {
      background-color: #2563eb;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }
  }
}

// 游꺀 MODO OSCURO
body.dark-mode .card.card-list {
  background-color: var(--user-card-bg, #23221c) !important;
  border-color: var(--user-border-color, #ff4f4f) !important;
  color: var(--user-card-text-color, #fff) !important;

  .card-body {
    color: var(--user-card-text-color, #fff) !important;

    h4, p, span, small, th, td, .pagination-info {
      color: var(--user-card-text-color, #fff) !important;
    }
  }

  table {
    background-color: #23221c !important;
    border: 1px solid #444;
    border-radius: 12px;

    th, td {
      border: 1px solid #555;
      color: var(--user-card-text-color, #fff) !important;
      text-align: center;
      vertical-align: middle;
    }

    thead th {
      background-color: #23221c;
    }

    thead th:first-child { border-top-left-radius: 12px; }
    thead th:last-child { border-top-right-radius: 12px; }
    tbody tr:last-child td:first-child { border-bottom-left-radius: 12px; }
    tbody tr:last-child td:last-child { border-bottom-right-radius: 12px; }

    td:nth-child(2), th:nth-child(2) {
      max-width: 300px;
      white-space: normal;
      word-break: break-word;
    }

    tbody tr {
      transition: background-color 0.25s;
      cursor: pointer;

      &:hover {
        background-color: #374151 !important; // Mismo color de hover que staff en dark
      }
    }
  }

  .btn-options {
    background-color: #3b82f6;
    color: #fff;
    &:hover {
      background-color: #2563eb;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }
  }
}

body.dark-mode .btn-primary {
  background-color: #3b82f6 !important;
  border-color: #3b82f6 !important;
  color: #ffffff !important;

  &:hover {
    background-color: #2563eb !important;
    border-color: #2563eb !important;
  }
}

// FORZAR TABLA CON FONDO BLANCO Y TEXTO NEGRO EN MODO OSCURO
body.dark-mode {
  .card.card-list {
    background-color: var(--user-card-bg, #2a2a3a) !important;
    border-color: var(--user-border-color, #ff4f4f) !important;

    .card-body {
      background-color: var(--user-card-bg, #2a2a3a) !important;
      color: var(--user-card-text-color, #fff) !important;

      // FORZAR TABLA SIEMPRE BLANCA CON TEXTO NEGRO EN MODO OSCURO
      table {
        background-color: #fff !important;
        border-color: var(--user-border-color, #ff4f4f) !important;

        th, td {
          background-color: #fff !important;
          color: #000 !important; // NEGRO FORZADO
        }

        thead th {
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%) !important;
          color: #000 !important; // NEGRO FORZADO
        }

        tbody tr {
          background-color: #fff !important;

          &:hover {
            background-color: rgba(0, 123, 255, 0.05) !important;
          }

          td {
            background-color: #fff !important;
            color: #000 !important; // NEGRO FORZADO
          }
        }

        // FORZAR ICONOS Y DROPDOWN NEGROS
        .dropdown-toggle {
          color: #000 !important; // ICONO NEGRO FORZADO
          background: transparent !important;
          border: none !important;
          
          &::after {
            border-top-color: #000 !important;
          }
        }
        
        // Iconos de acciones en negro (tuerca, etc.)
        .fa-cog,
        .fa-cogs,
        .fa-settings,
        .fa-gear,
        i[class*="fa-"] {
          color: #000 !important; // ICONOS NEGROS FORZADOS
        }

        // Botones dentro de las celdas
        .btn {
          color: #000 !important;
        }

        // Links dentro de las celdas
        a {
          color: #000 !important;
        }
      }
    }
  }
}

.card.card-list table tbody tr:hover {
  background-color: #e0e7ff !important;
  transition: background 0.2s;
}
body.dark-mode .card.card-list table tbody tr:hover {
  background-color: #374151 !important;
  transition: background 0.2s;
}
.card.card-list table tbody tr {
  cursor: default;
}
.card.card-list table tbody tr td:last-child .btn-options {
  cursor: pointer;
}