<!-- Barra de encabezado principal -->
<div class="header">
  <!-- Lado izquierdo: Logo y botón de menú lateral -->
  <div class="header-left d-flex align-items-center">
    <!-- Logo y nombre del sistema, redirige según el rol -->
    <a [routerLink]="getHomeRoute()" class="logo d-flex align-items-center">
      <div class="logo-wrapper">
        <img src="assets/img/logo-hospital.png" alt="SISMEG Logo" class="logo-img" />
      </div>
      <span class="ms-2 fw-bold fs-5">SISMEG</span>
    </a>
    <!-- Botón para mostrar/ocultar menú lateral -->
    <a (click)="toggleSideBar()" id="toggle_btn" class="ms-3" href="javascript:void(0);">
      <img src="assets/img/icons/bar-icon.svg" alt="Menu Icon" />
    </a>
  </div>

  <!-- Botón para mostrar menú lateral en dispositivos móviles -->
  <a (click)="toggleMobileSideBar()" id="mobile_btn" class="mobile_btn float-start">
    <img src="assets/img/icons/bar-icon.svg" alt="Mobile Menu" />
  </a>

  <!-- Menú de usuario con avatar y opciones -->
  <ul class="nav user-menu float-end">
    <li class="nav-item dropdown has-arrow user-profile-list">
      <a href="javascript:void(0);" class="dropdown-toggle nav-link user-link" data-bs-toggle="dropdown">
        <div class="user-names">
          <h5>{{user.name}}</h5>
          <span>{{getRole()}}</span>
        </div>
        <!-- Avatar del usuario -->
        <img 
          class="rounded-circle avatar-img"
          width="60" height="60"
          [src]="avatarUrl"
          alt="Admin"
          (load)="avatarLoading = false"
          (error)="avatarLoading = false"
        />
        <!-- Spinner mientras carga el avatar -->
        <span *ngIf="avatarLoading" class="spinner-border spinner-border-sm ms-2" role="status" aria-hidden="true"></span>
      </a>
      <!-- Opciones del menú de usuario -->
      <div class="dropdown-menu">
        <a class="dropdown-item" [routerLink]="routes.profile">{{ 'HEADER.PROFILES' | translate }}</a>
        <a class="dropdown-item" [routerLink]="routes.editProfile">{{ 'HEADER.EDIT_PROFILE' | translate }}</a>
        <a class="dropdown-item" href="#" (click)="logout()">{{ 'HEADER.LOGOUT' | translate }}</a>
      </div>
    </li>
    <!-- Icono de ajustes -->
    <li class="nav-item">
      <a [routerLink]="routes.settings" class="hasnotifications nav-link">
        <img src="assets/img/icons/setting-icon-01.svg" alt="Settings" />
      </a>
    </li>
  </ul>

  <!-- Menú de usuario para dispositivos móviles -->
  <div class="dropdown mobile-user-menu float-end">
    <a href="javascript:void(0);" class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="fa-solid fa-ellipsis-vertical"></i>
    </a>
    <div class="dropdown-menu dropdown-menu-end">
      <a class="dropdown-item" [routerLink]="routes.profile">{{ 'HEADER.PROFILES' | translate }}</a>
      <a class="dropdown-item" [routerLink]="routes.editProfile">{{ 'HEADER.EDIT_PROFILE' | translate }}</a>
      <a class="dropdown-item" [routerLink]="routes.login">{{ 'HEADER.LOGOUT' | translate }}</a>
    </div>
  </div>
</div>
  