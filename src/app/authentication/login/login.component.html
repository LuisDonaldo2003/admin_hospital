<!-- Login – Versión profesional renovada -->
<div class="auth-layout">
  <!-- Columna visual (imagen del hospital) -->
  <aside class="side-visual" aria-label="Imagen del hospital">
    <div class="image-frame">
      <img src="assets/img/login-02.png" alt="Fachada del hospital IMSS Bienestar" />
    </div>
  </aside>

  <!-- Columna de autenticación -->
  <main class="auth-col" aria-labelledby="authTitle">
    <section class="auth-panel" role="form">
      <!-- Marca -->
      <a class="brand" aria-label="Ir al inicio">
        <img src="assets/img/login-logo.png" alt="Logo SISMEG" />
      </a>

      <h1 id="authTitle" class="title">Iniciar sesión</h1>
      <p class="subtitle">Accede con tus credenciales institucionales</p>

      <!-- Alerta de error -->
      <div *ngIf="ERROR" class="alert alert-danger" role="alert" aria-live="assertive">
        <strong>Error:</strong> Usuario o contraseña incorrectos.
      </div>

      <!-- Alerta de cuenta no verificada -->
      <div *ngIf="unverifiedMsg" class="alert alert-warning" role="alert" aria-live="polite">
        <strong>Atención:</strong> {{ unverifiedMsg }}
      </div>

      <!-- Formulario -->
      <form [formGroup]="form" (ngSubmit)="loginFormSubmit()" novalidate>
        <!-- Email -->
        <div class="field">
          <label for="email">Correo electrónico <span class="req">*</span></label>
          <div class="control with-icon">
            <input
              id="email"
              aria-label="Correo electrónico"
              type="email"
              class="form-control"
              placeholder="nombre.apellido@dominio.com"
              formControlName="email"
              [ngClass]="{ 'is-invalid': f['email'].touched && f['email'].invalid }"
            />
            <i class="feather icon-mail field-icon" aria-hidden="true"></i>
          </div>
          <div *ngIf="f['email'].touched && f['email'].invalid" class="invalid-feedback">
            <div *ngIf="f['email'].errors?.['required']">
              Ingrese el correo electrónico asociado a su cuenta.
            </div>
            <div *ngIf="f['email'].errors?.['email']">Correo no válido.</div>
          </div>
        </div>

        <!-- Password -->
        <div class="field">
          <label for="password">Contraseña <span class="req">*</span></label>
          <div class="control with-icon">
            <input
              id="password"
              aria-label="Contraseña"
              [type]="passwordClass ? 'text' : 'password'"
              class="form-control pass-input"
              placeholder="Tu contraseña"
              formControlName="password"
              [ngClass]="{ 'is-invalid': f['password'].touched && f['password'].invalid }"
            />
            <button
              type="button"
              class="toggle-password-btn"
              [attr.aria-label]="passwordClass ? 'Ocultar contraseña' : 'Mostrar contraseña'"
              (click)="togglePassword()"
            >
              <i [ngClass]="passwordClass ? 'feather icon-eye' : 'feather icon-eye-off'" aria-hidden="true"></i>
            </button>
            <i class="feather icon-lock field-icon" aria-hidden="true"></i>
          </div>
          <div *ngIf="f['password'].touched && f['password'].invalid" class="invalid-feedback">
            <div *ngIf="f['password'].errors?.['required']">La contraseña es requerida.</div>
          </div>
        </div>

        <!-- Submit -->
        <div class="actions">
          <button class="btn btn-primary w-100" type="submit" [disabled]="form.invalid || loading">
            <span *ngIf="!loading">Acceder</span>
            <span *ngIf="loading"><i class="fa fa-spinner fa-spin me-2"></i> Cargando...</span>
          </button>
        </div>

        <div class="footer-links">
          <a [routerLink]="routes.forgotPassword" class="muted">¿Olvidaste tu contraseña?</a>
        </div>
      </form>
      <!-- /Formulario -->
    </section>
  </main>
</div>
